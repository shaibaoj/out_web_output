(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["business"],{"0c8f":function(e,t,a){},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("277d");var r=a("6b75");function i(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var s=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return i(e)||n(e)||Object(s["a"])(e)||o()}},2934:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o}));var r=a("b775"),i={list:"/api/common/channel/items",getGoodsItems:"/api/common/goods/list",getGoodsView:"/api/common/goods/view"};function n(e){return Object(r["b"])({url:i.getGoodsView,method:"post",data:e})}function s(e){return Object(r["b"])({url:i.getGoodsItems,method:"post",data:e})}function o(e){return Object(r["b"])({url:i.list,method:"post",data:e})}},"3c5c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1,title:"带货管理"}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"商品编号"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.num_iid,callback:function(t){e.$set(e.queryParam,"num_iid",t)},expression:"queryParam.num_iid"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"商品地址"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.url,callback:function(t){e.$set(e.queryParam,"url",t)},expression:"queryParam.url"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.query(!0)}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"30px"}},[a("a-button",{attrs:{type:"primary",icon:"new"},on:{click:function(t){return e.$refs.modal.edit({})}}},[e._v("抖货发布")])],1),a("div",{attrs:{slot:"extra"},slot:"extra"},[a("a-radio-group",{attrs:{buttonStyle:"solid"},on:{change:e.query},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[a("a-radio-button",{attrs:{value:"all"}},[e._v("全部")]),a("a-radio-button",{attrs:{value:"2"}},[e._v("验货中 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status2)+")")])]),a("a-radio-button",{attrs:{value:"1"}},[e._v("待审核 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status1)+")")])]),a("a-radio-button",{attrs:{value:"0"}},[e._v("未提交 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status0)+")")])]),a("a-radio-button",{attrs:{value:"-1"}},[e._v("已拒绝 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status01)+")")])]),a("a-radio-button",{attrs:{value:"-2"}},[e._v("已下架 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status02)+")")])])],1),a("a-input-search",{staticStyle:{"margin-left":"16px",width:"272px"},on:{search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParam.num_iid,callback:function(t){e.$set(e.queryParam,"num_iid",t)},expression:"queryParam.num_iid"}})],1),a("a-alert",{attrs:{message:"验货产品多次超时未审核，将下架此产品，并取消验货权限！",type:"success",showIcon:""}}),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"money",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://uland.taobao.com/quan/detail?sellerId="+r.user_num_id+"&activityId="+r.activity_id}},[e._v("查看")])]}},{key:"price",fn:function(t,r){return[a("span",[e._v(e._s(r.price))]),e._v("/"),a("span",{staticClass:"tip"},[e._v(e._s(e._f("numFilter")(r.coupon.coupon_money)))])]}},{key:"goodslink",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://www.haopintui.net/?coupon=1&q="+encodeURIComponent("https://detail.tmall.com/item.htm?id="+r.num_iid)}},[a("ellipsis",{attrs:{length:50,tooltip:""}},[e._v(e._s(r.d_title))])],1)]}},{key:"image",fn:function(e,t){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+t.num_iid}},[a("img",{staticStyle:{"max-width":"80px"},attrs:{src:t.pic_url}})])]}},{key:"status",fn:function(t,r){return a("span",{},[0===r.status?a("span",[e._v("草稿")]):e._e(),1===r.status?a("span",[e._v("待审核")]):e._e(),2===r.status?a("span",[e._v("验货中")]):e._e(),-1===r.status?a("span",[e._v("已拒绝")]):e._e(),-2===r.status?a("span",[e._v("已下架")]):e._e()])}},{key:"description",fn:function(t){return a("span",{},[a("ellipsis",{attrs:{length:4,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"coupon",fn:function(t,r){return a("span",{},[r.create_time?a("span",[e._v(e._s(e.moment(r.create_time).format("YYYY-MM-DD")))]):e._e(),r.end_time?a("p",[e._v(e._s(e.moment(r.end_time).format("YYYY-MM-DD")))]):e._e()])}},{key:"action",fn:function(t,r){return a("span",{},[-2===r.status||-1===r.status?[a("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("换券")])]:0===r.status?[a("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]:1===r.status?[a("a",{on:{click:function(t){return e.handleLowerShelf(r,0)}}},[e._v("撤销审核")])]:2===r.status?[a("a",{on:{click:function(t){return e.handleLowerShelf(r,-2)}}},[e._v("下架")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.handleShow(r)}}},[e._v("验货列表")])]:e._e()],2)}}])}),a("edit-modal",{ref:"modal",on:{ok:e.query}})],1)},i=[],n=(a("0d03"),a("b680"),a("acd8"),a("c32d")),s=a.n(n),o=a("2af9"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"发布商品",width:980,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("div",{staticStyle:{margin:"10px auto 30px","text-align":"center"}},[a("a-steps",{attrs:{current:0}},[a("a-step",{attrs:{title:"提交商品",description:""}}),a("a-step",{attrs:{title:"人工审核",description:""}}),a("a-step",{attrs:{title:"上架抖音板块",description:""}}),a("a-step",{attrs:{title:"达人验货拍视频",description:""}})],1)],1),a("a-form",{attrs:{form:e.form}},[a("div",{style:{display:0===e.step?"":"none"}},[a("a-form-item",{attrs:{label:"商品链接",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:"例：https://detail.tmall.com/item.htm?id=534139109421"},on:{change:e.fetchGoodsContent},model:{value:e.hrefPreview,callback:function(t){e.hrefPreview=t},expression:"hrefPreview"}},[a("a-button",{attrs:{slot:"addonAfter",type:"link",icon:"search",size:"small"},on:{click:e.fetchGoodsContent},slot:"addonAfter"},[e._v("获取")])],1)],1),a("a-form-item",{attrs:{label:"商品文案",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{attrs:{rows:4,placeholder:"请在此粘贴推广文案，本功能可识别大多符合规则的文案"},on:{change:e.fetchGoodsContent},model:{value:e.contentPreview,callback:function(t){e.contentPreview=t},expression:"contentPreview"}})],1),a("a-form-item",{attrs:{label:"文案模板",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("div",{staticClass:"template"},[a("div",{staticStyle:{color:"#fe5861"}},[e._v("商品文案可识别以下三种格式：")]),a("div",[a("span",[e._v("格式一：")]),a("br"),e._v(" 下单：https://item.taobao.com/item.htm?id=534139109421 ")]),a("div",[a("span",[e._v("格式二：")]),a("br"),e._v(" 领券：https://uland.taobao.com/quan/detail?sellerId=2628387876&activityId=023cae054278487bae8b3f2185388f16"),a("br"),e._v("下单：https://item.taobao.com/item.htm?id=534139109421 ")]),a("div",[a("span",[e._v("格式三：")]),a("br"),e._v(" 周黑鸭鸭脖200g锁骨240g"),a("br"),e._v("原价48.8元，券后价【45.8元】"),a("br"),e._v("领券：https://uland.taobao.com/quan/detail?sellerId=2628387876&activityId=023cae054278487bae8b3f2185388f16"),a("br"),e._v("下单：https://item.taobao.com/item.htm?id=534139109421"),a("br"),e._v("抢前100名半价！前30分钟第2周黑鸭锁鲜盒装鸭脖锁骨440g套餐，聚划算活动48.8元，领内部券43.8元，可享受第2件19.9元活动，拍2份发顺丰快递，全部新鲜日期。麻辣鲜爽，办公室、追剧必备啊！ "),a("div",{staticClass:"template-tips"},[a("i",[e._v("*")]),e._v(" 注：以上文案模板仅供参考，模板三粘贴内容需符合：第一行为标题、第二行包含原价和券后价（用逗号分隔）、第三行为券链接、第四行为商品链接、第五行为商品描述即可。 ")])])])])],1),a("div",{style:{display:0===e.step?"none":""}},[a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[{required:!1}]}],expression:"['id', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["num_iid",{rules:[{required:!1}]}],expression:"['num_iid', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_num_id",{rules:[{required:!1}]}],expression:"['user_num_id', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ori_price",{rules:[{required:!1}]}],expression:"['ori_price', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_type",{rules:[{required:!1}]}],expression:"['user_type', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["volume",{rules:[{required:!1}]}],expression:"['volume', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["condition",{rules:[{required:!1}]}],expression:"['condition', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["money",{rules:[{required:!1}]}],expression:"['money', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{attrs:{label:"商品地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["href",{rules:[{required:!0,message:"请输入地址"}]}],expression:"['href', {rules: [{required: true, message: '请输入地址'}]}]"}],attrs:{placeholder:"例：https://detail.tmall.com/item.htm?id=534139109421"},on:{change:e.changeValue}},[a("a-button",{attrs:{slot:"addonAfter",type:"link",icon:"search",size:"small"},on:{click:e.fetchGoodsInfo},slot:"addonAfter"},[e._v("获取")])],1)],1),a("a-form-item",{attrs:{label:"商品标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入标题"}]}],expression:"['title', {rules: [{required: true, message: '请输入标题'}]}]"}]})],1),a("a-form-item",{attrs:{label:"推广短标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["d_title",{rules:[{required:!0,message:"请输入短标题"}]}],expression:"['d_title', {rules: [{required: true, message: '请输入短标题'}]}]"}],attrs:{placeholder:"10-16字的精简优质短标题，切勿堆砌重复关键词"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("还可以输入 16 个字")])])],1),a("a-form-item",{attrs:{label:"原价格",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["price",{rules:[{required:!1,message:"请输入原价格"}]}],expression:"['price', {rules: [{required: false, message: '请输入原价格'}]}]"}]})],1),a("a-form-item",{attrs:{label:"图片",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pic_url",{rules:[{required:!1,message:""}]}],expression:"['pic_url', {rules: [{ required: false, message: '' }]} ]"}],attrs:{placeholder:"例：https://img.alicdn.com/imgextra/i1/2454060579/TB2fakMdl0lpuFjSszdXXcdxFXa_!!2454060579.jpg"},on:{change:e.changeImg}}),a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传 ")],1)],1),e.previewImg?a("img",{staticClass:"previewImg",attrs:{src:e.previewImg}}):e._e(),e.picList&&e.picList.length>0?a("div",{staticClass:"pics"},[a("p",[e._v("主图参考")]),a("ul",e._l(e.picList,(function(t,r){return a("li",{key:r,on:{click:function(a){return e.setPic(t)}}},[a("img",{attrs:{src:t}})])})),0)]):e._e()],1),a("a-form-item",{attrs:{label:"优惠券连接",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["coupon_url",{rules:[{required:!0,message:"请输入优惠券地址"}]}],expression:"['coupon_url', {rules: [{required: true, message: '请输入优惠券地址'}]}]"}],attrs:{placeholder:"示例：https://uland.taobao.com/quan/detail?sellerId=xxxxx&activityId=xxxxx"},on:{change:e.changeValue}}),a("span",[e._v("阿里妈妈优惠券剩余有效时间必须再30-60天内")])],1),a("a-form-item",{attrs:{label:"分类",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["cid1",{rules:[{required:!0,message:"请选择分类"}]}],expression:"[ 'cid1', {rules: [{ required : true, message: '请选择分类' }]} ]"}],staticStyle:{width:"120px"}},e._l(e.cats,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.c_id}},[e._v(e._s(t.short_name))])})),1)],1),a("a-form-item",{attrs:{label:"微信群专用图",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["qq_pic_url",{rules:[{required:!1,message:"请输入微信群专用图"}]}],expression:"['qq_pic_url', {rules: [{required: false, message: '请输入微信群专用图'}]}]"}]})],1),a("a-form-item",{attrs:{label:"导购文案",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment",{rules:[{required:!0,message:"请输入文案"}]}],expression:"['comment', {rules: [{required: true, message: '请输入文案'}]}]"}],attrs:{rows:4,placeholder:"请输入20-100字导购文案介绍"}}),e.wenItems&&e.wenItems.length>0?a("div",{staticClass:"wenan"},[a("p",[e._v("备选文案")]),a("ul",e._l(e.wenItems,(function(t,r){return a("li",{key:r,on:{click:function(a){return e.setContent(t)}}},[e._v(e._s(r+1)+"."+e._s(t.content))])})),0)]):e._e()],1),a("a-form-item",{attrs:{label:"主图视频地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["qq_video_url",{rules:[{required:!1,message:"请输入视频文件"}]}],expression:"['qq_video_url', {rules: [{required: false, message: '请输入视频文件'}]}]"}],attrs:{placeholder:"例：http://cloud.video.taobao.com/play/u/1/p/1/e/6/t/1/32595684.mp4"}})],1),a("a-form-item",{attrs:{label:"活动时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-form-item",{style:{display:"inline-block",width:"300px",padding:"0px","margin-bottom":"10px"},attrs:{label:"开始时间",labelCol:{xs:{span:24},sm:{span:6}}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["create_time",{rules:[{type:"object",required:!0,message:"不能为空"}]}],expression:"['create_time', {rules: [{ type: 'object', required: true, message: '不能为空' }]}]"}],attrs:{showTime:"",format:"YYYY-MM-DD"}})],1),a("a-form-item",{style:{display:"inline-block",width:"300px",padding:"0px","margin-bottom":"10px"},attrs:{label:"结束时间",labelCol:{xs:{span:24},sm:{span:6}}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["end_time",{rules:[{type:"object",required:!0,message:"不能为空"}]}],expression:"['end_time', {rules: [{ type: 'object', required: true, message: '不能为空' }]}]"}],attrs:{showTime:"",format:"YYYY-MM-DD"}})],1)],1),a("div",{staticClass:"newdouyinbox"},[a("a-form-item",{attrs:{label:"是否提供验货",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-radio-group",{model:{value:e.page.data.examine_type,callback:function(t){e.$set(e.page.data,"examine_type",t)},expression:"page.data.examine_type"}},[a("a-radio",{attrs:{value:1}},[e._v("是")]),a("a-radio",{attrs:{value:0}},[e._v("否")])],1)],1),a("div",{style:{display:1===e.page.data.examine_type?"":"none"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:3}}),a("a-col",{attrs:{span:21}},[a("a-form-item",{attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)",padding:"0px","margin-bottom":"10px"},attrs:{label:""}},[e._v(" 验货个数 "),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dyitem_number",{initialValue:20,rules:[{required:!1,message:"请输入微信群专用图"}]}],expression:"['dyitem_number', {initialValue:20,rules: [{required: false, message: '请输入微信群专用图'}]}]"}],staticStyle:{width:"60px",color:"red"}}),e._v(" 不可低于20个 ")],1),a("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)",padding:"0px","margin-bottom":"10px"},attrs:{label:""}},[e._v(" 收到货后 "),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dyjoy_fate",{initialValue:10,rules:[{required:!1,message:"请输入微信群专用图"}]}],expression:"['dyjoy_fate', {initialValue:10,rules: [{required: false, message: '请输入微信群专用图'}]}]"}],staticStyle:{width:"60px",color:"red"}}),e._v(" 天内完成作业（不可低于10天） ")],1)],1)],1)],1)],1),a("a-form-item",{attrs:{label:"验货抖音号要求",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-form-item",{style:{display:"inline-block",width:"150px",padding:"0px","margin-bottom":"10px"},attrs:{label:""}},[e._v(" 粉丝≥ "),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dyfans_number",{initialValue:0,rules:[{required:!0,message:""}]}],expression:"['dyfans_number', {initialValue:0,rules: [{required: true, message: ''}]}]"}],staticStyle:{width:"60px",color:"red"}})],1),a("a-form-item",{style:{display:"inline-block",width:"150px",padding:"0px","margin-bottom":"10px"},attrs:{label:""}},[e._v(" 点赞≥ "),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dypraise_number",{initialValue:0,rules:[{required:!0,message:""}]}],expression:"['dypraise_number', {initialValue:0,rules: [{required: true, message: ''}]}]"}],staticStyle:{width:"60px",color:"red"}})],1),a("a-form-item",{style:{display:"inline-block",width:"150px",padding:"0px","margin-bottom":"10px"},attrs:{label:""}},[e._v(" 作品数≥ "),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dyarticle_number",{initialValue:0,rules:[{required:!0,message:""}]}],expression:"['dyarticle_number', {initialValue:0,rules: [{required: true, message: ''}]}]"}],staticStyle:{width:"60px",color:"red"}})],1)],1)],1)],1)])],1),a("template",{slot:"footer"},[a("div",{style:{display:0===e.step?"none":""}},[a("p",[a("a-button",{key:"forward",attrs:{loading:e.confirmLoading,type:"primary",block:""}},[e._v("抖音带货功能内侧即将开放")])],1),a("p",{staticStyle:{margin:"30px 0px"}})])])],2)},u=[],d=(a("b0c0"),a("5530")),c=a("88bc"),m=a.n(c),p=a("c104"),f=a("b775"),h={list:"/api/user/business/video/list",getReport:"/api/user/business/video/report",view:"/api/user/business/video/view",update:"/api/user/business/video/update",updateStatus:"/api/user/business/video/status"};function v(e){return Object(f["b"])({url:h.getReport,method:"post",data:e})}function b(e){return Object(f["b"])({url:h.list,method:"post",data:e})}function _(e){return Object(f["b"])({url:h.update,method:"post",data:e})}function g(e){return Object(f["b"])({url:h.updateStatus,method:"post",data:e})}var y=a("2934"),w=a("5880"),x={name:"EditModal",components:{},computed:Object(d["a"])({},Object(w["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),content:"",href:"",coupon_url:"",cats:[],wenItems:[],picList:[],previewImg:"",step:0,page:{data:{examine_type:1}},hrefPreview:"",contentPreview:""}},watch:{href:function(e){this.fetchGoodsInfoPreview()},coupon_url:function(e){this.fetchGoodsCouponPreview()},hrefPreview:function(e){this.fetchGoodsContent()},contentPreview:function(e){this.fetchGoodsContent()}},created:function(){this.init()},methods:{init:function(){var e=this;Object(y["c"])().then((function(t){t.data.items&&(e.cats=t.data.items)}))},edit:function(e){var t=this;this.step=0,this.contentPreview="",this.hrefPreview="",this.visible=!0;var a=this.form.setFieldsValue;this.$nextTick((function(){if(e.id){t.step=1;var r=m()(e,["id","cid1","coupon_url","href","num_iid","title","d_title","price","pic_url","user_num_id","ori_price","user_type","volume","comment","create_time","end_time","money","condition","approval_end_time","leave_word","dyfans_number","dypraise_number","dyarticle_number","dyitem_number","dyjoy_fate"]);r.create_time=s()(e.create_time),r.end_time=s()(e.end_time),a(r),t.page.data.examine_type=e.examine_type}else t.form.resetFields(),t.picList=[],t.wenItems=[];t.fetchGoodsInfoPreview()}))},handleSubmit:function(e){var t=this,a=this.form.validateFields;this.confirmLoading=!0,a((function(a,r){a?t.confirmLoading=!1:(r.create_time&&(r.create_time=s()(r.create_time).format("YYYY-MM-DD 00:00:00")),r.end_time&&(r.end_time=s()(r.end_time).format("YYYY-MM-DD 00:00:00")),_(Object.assign(r,{submitStatus:e,examine_type:t.page.data.examine_type})).then((function(a){0===a.info.status&&(1===e?t.$message.success("提交成功"):t.$message.success("保存成功"),t.$emit("ok",r),t.visible=!1),t.confirmLoading=!1})))}))},handleChange:function(e){e.file.status,"done"===e.file.status?this.form.setFieldsValue({pic_url:e.file.response.data.item.img}):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||this.$message.error("上传图片只能是jpg/png/gif格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a},fetchGoodsInfo:function(){var e=this,t=this.form.setFieldsValue;Object(p["c"])({href:this.form.getFieldsValue().href}).then((function(a){a.data.goods&&(e.$nextTick((function(){t(m()(a.data.goods,["id","cid1","coupon_url","href","num_iid","title","d_title","price","pic_url","user_num_id","ori_price","user_type","volume","comment"]))})),e.wenItems=a.data.goods.wenItems||[],e.picList=a.data.goods.picList||[]),e.confirmLoading=!1}))},fetchGoodsInfoPreview:function(){var e=this;Object(p["d"])({href:this.form.getFieldsValue().href}).then((function(t){t.data.goods&&(e.wenItems=t.data.goods.wenItems||[],e.picList=t.data.goods.picList||[])}))},fetchGoodsCouponPreview:function(){var e=this,t=this.form.setFieldsValue;Object(p["b"])({href:this.form.getFieldsValue().href,coupon_url:this.form.getFieldsValue().coupon_url}).then((function(a){a.data.coupon&&e.$nextTick((function(){var e=m()(a.data.coupon,["create_time","end_time","money","condition"]);e.create_time=s()(a.data.coupon.create_time),e.end_time=s()(a.data.coupon.end_time),t(e)}))}))},handleCancel:function(){this.visible=!1},setContent:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({comment:e.content})}))},setPic:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({pic_url:e})})),this.previewImg=e},changeValue:function(e){var t=e.target,a=t.value,r=t.id;"href"===r?this.href=a:"coupon_url"===r&&(this.coupon_url=a)},changeImg:function(e){var t=e.target.value;this.previewImg=t},fetchGoodsContent:function(){var e=this,t=this.form.setFieldsValue;Object(p["a"])({href:this.hrefPreview,content:this.contentPreview}).then((function(a){a.data.item&&e.$nextTick((function(){var r=m()(a.data.item,["href","coupon_url"]);t(r),e.step=1,e.fetchGoodsInfo(),e.fetchGoodsCouponPreview()}))}))}}},C=x,q=(a("adf8"),a("2877")),k=Object(q["a"])(C,l,u,!1,null,"537ee3e5",null),I=k.exports,P={name:"Page",components:{STable:o["o"],Ellipsis:o["f"],EditModal:I},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"导购图片",width:50,dataIndex:"pic_url",scopedSlots:{customRender:"image"}},{title:"短标题",className:"common",dataIndex:"title",scopedSlots:{customRender:"goodslink"}},{title:"原价/券后价\t",width:120,dataIndex:"price",sorter:!0,needTotal:!0,scopedSlots:{customRender:"price"}},{title:"佣金比例",width:80,dataIndex:"goodsCoupon.commission_rate"},{title:"优惠券",width:80,dataIndex:"money",scopedSlots:{customRender:"money"}},{title:"起止日期",dataIndex:"",width:100,scopedSlots:{customRender:"coupon"}},{title:"销量",width:50,dataIndex:"volume",scopedSlots:{customRender:"volume"}},{title:"状态",width:80,dataIndex:"",sorter:!0,scopedSlots:{customRender:"status"}},{title:"栏目",dataIndex:"category.short_name",width:60},{title:"店铺",dataIndex:"user_type",width:80,customRender:function(e,t){return"B"===t.user_type?"天猫":"淘宝"}},{title:"创建时间",width:160,dataIndex:"create_date"},{title:"操作",dataIndex:"action",width:"120px",align:"center",scopedSlots:{customRender:"action"}}],loadData:function(t){return b(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1,page:{report:{status0:0,status1:0,status2:0,status01:0,status02:0}}}},created:function(){},mounted:function(){this.queryReport()},methods:{moment:s.a,query:function(e){this.$refs.table.refresh(e),this.queryReport()},queryReport:function(){var e=this;v().then((function(t){t.data.item&&(e.page.report.status0=t.data.item["0"]?t.data.item["0"]:0,e.page.report.status1=t.data.item["1"]?t.data.item["1"]:0,e.page.report.status2=t.data.item["2"]?t.data.item["2"]:0,e.page.report.status01=t.data.item["-1"]?t.data.item["-1"]:0,e.page.report.status02=t.data.item["-2"]?t.data.item["-2"]:0)}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:s()(new Date)}},handleEdit:function(e){e.user_num_id&&(e.coupon_url="https://uland.taobao.com/quan/detail?sellerId="+e.user_num_id+"&activityId="+e.activity_id),e.num_iid&&(e.href="https://detail.tmall.com/item.htm?id="+e.num_iid),this.$refs.modal.edit(e)},handleLowerShelf:function(e,t){var a=this;g({id:e.id,status:t}).then((function(e){var t=e||{},r=t.info;0===r.status&&a.$message.success(e.info.status_err),a.query(!1)}))},handleShow:function(e){}},filters:{numFilter:function(e){var t=parseFloat(e).toFixed(2);return t}}},S=P,j=(a("c79d"),Object(q["a"])(S,r,i,!1,null,"31753e4f",null));t["default"]=j.exports},4018:function(e,t,a){},4087:function(e,t,a){"use strict";var r=a("7c3a"),i=a.n(r);i.a},"539c":function(e,t,a){"use strict";var r=a("b1cf"),i=a.n(r);i.a},5592:function(e,t,a){"use strict";var r=a("e420"),i=a.n(r);i.a},5753:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var r=a("b775"),i={getItems:"/api/user/info/payment/list",getView:"/api/user/info/payment/view",updateItem:"/api/user/info/payment/update"};function n(e){return Object(r["b"])({url:i.getItems,method:"post",data:e})}function s(e){return Object(r["b"])({url:i.updateItem,method:"post",data:e})}},"7c3a":function(e,t,a){},"81d1":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head-info",class:e.center&&"center"},[a("span",[e._t("title",[e._v(e._s(e.title))])],2),a("p",[e._t("content",[e._v(e._s(e.content))])],2),e.bordered?a("em"):e._e()])},i=[],n={name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0}}},s=n,o=(a("4087"),a("2877")),l=Object(o["a"])(s,r,i,!1,null,"3fd6244e",null);t["a"]=l.exports},"88bc":function(e,t,a){(function(t){var a=1/0,r=9007199254740991,i="[object Arguments]",n="[object Function]",s="[object GeneratorFunction]",o="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,d=l||u||Function("return this")();function c(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function m(e,t){var a=-1,r=e?e.length:0,i=Array(r);while(++a<r)i[a]=t(e[a],a,e);return i}function p(e,t){var a=-1,r=t.length,i=e.length;while(++a<r)e[i+a]=t[a];return e}var f=Object.prototype,h=f.hasOwnProperty,v=f.toString,b=d.Symbol,_=f.propertyIsEnumerable,g=b?b.isConcatSpreadable:void 0,y=Math.max;function w(e,t,a,r,i){var n=-1,s=e.length;a||(a=k),i||(i=[]);while(++n<s){var o=e[n];t>0&&a(o)?t>1?w(o,t-1,a,r,i):p(i,o):r||(i[i.length]=o)}return i}function x(e,t){return e=Object(e),C(e,t,(function(t,a){return a in e}))}function C(e,t,a){var r=-1,i=t.length,n={};while(++r<i){var s=t[r],o=e[s];a(o,s)&&(n[s]=o)}return n}function q(e,t){return t=y(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,i=y(a.length-t,0),n=Array(i);while(++r<i)n[r]=a[t+r];r=-1;var s=Array(t+1);while(++r<t)s[r]=a[r];return s[t]=n,c(e,this,s)}}function k(e){return S(e)||P(e)||!!(g&&e&&e[g])}function I(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function P(e){return O(e)&&h.call(e,"callee")&&(!_.call(e,"callee")||v.call(e)==i)}var S=Array.isArray;function j(e){return null!=e&&$(e.length)&&!L(e)}function O(e){return Y(e)&&j(e)}function L(e){var t=F(e)?v.call(e):"";return t==n||t==s}function $(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Y(e){return!!e&&"object"==typeof e}function N(e){return"symbol"==typeof e||Y(e)&&v.call(e)==o}var D=q((function(e,t){return null==e?{}:x(e,m(w(t,1),I))}));e.exports=D}).call(this,a("c8ba"))},"90b1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"点券管理"}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"日期"}},[a("a-range-picker",{staticStyle:{width:"100%"},attrs:{ranges:{"今日":[e.moment(),e.moment()],"本周":[e.moment().startOf("week"),e.moment().endOf("week")],"当月":[e.moment().startOf("month"),e.moment().endOf("month")]}},model:{value:e.queryParam.rangePicker,callback:function(t){e.$set(e.queryParam,"rangePicker",t)},expression:"queryParam.rangePicker"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"goodslink",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+r.num_iid}},[e._v(e._s(t))])]}},{key:"money",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://uland.taobao.com/quan/detail?sellerId="+r.user_num_id+"&activityId="+r.activity_id}},[e._v("查看")])]}},{key:"price",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://www.haopintui.net/?coupon=1&q="+encodeURIComponent("https://detail.tmall.com/item.htm?id="+r.num_iid)}},[e._v(e._s(t))])]}},{key:"image",fn:function(e,t){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+t.num_iid}},[a("img",{staticStyle:{"max-width":"80px"},attrs:{src:t.pic_url}})])]}},{key:"status",fn:function(t){return a("span",{},[a("a-badge",{attrs:{status:e._f("statusTypeFilter")(t),text:e._f("statusFilter")(t)}})],1)}},{key:"income",fn:function(t){return a("span",{},[a("ellipsis",{attrs:{length:4,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"action",fn:function(t,r){return a("span",{},[a("span",{attrs:{"data-id":r.id}},[e._v("查看")])])}}])}),a("a-modal",{attrs:{title:"提现申请",visible:e.page.payment.visible,width:600},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.page.payment.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("div",[a("a-form-item",{attrs:{label:"提现金额",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["money",{initialValue:0,rules:[{required:!1,message:""}]}],expression:"['money', {initialValue: 0,rules: [{required: false, message: ''}]}]"}],on:{change:e.changeValue}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("元")])])],1),a("a-form-item",{attrs:{label:"支付宝帐号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["alipay",{rules:[{required:!0,message:"不能为空"}]}],expression:"['alipay', {rules: [{required: true, message: '不能为空'}]}]"}],on:{change:e.changeValue}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("提现的支付宝")])])],1)],1)])],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:e.page.payment.confirmLoading,block:""},on:{click:function(t){return e.handleSubmit()}}},[e._v("申请")])],1)],2)],1)],1)},i=[],n=(a("0d03"),a("c32d")),s=a.n(n),o=a("81d1"),l=a("2af9"),u=a("b775"),d={list:"/api/user/business/points/list"};function c(e){return Object(u["b"])({url:d.list,method:"post",data:e})}var m=a("5753"),p=a("c24f"),f={name:"Page",components:{HeadInfo:o["a"],STable:l["o"],Ellipsis:l["f"]},data:function(){var e=this;return{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}},mdl:{},advanced:!1,queryParam:{},columns:[{title:"创建时间",dataIndex:"create_date"},{title:"商品id",dataIndex:"num_iid"},{title:"点券",dataIndex:"points"},{title:"标题",dataIndex:"goods.title"},{title:"状态",dataIndex:"",width:150,align:"center",customRender:function(e,t){return"消耗"}}],loadData:function(t){e.queryParam.rangePicker&&2===e.queryParam.rangePicker.length&&(e.queryParam.startTime=e.queryParam.rangePicker[0].format("YYYY-MM-DD")+" 00:00:00",e.queryParam.endTime=e.queryParam.rangePicker[1].format("YYYY-MM-DD")+" 23:59:59");var a=Object.assign(t,e.queryParam);return delete a.rangePicker,c(a).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1,form:this.$form.createForm(this),page:{payment:{visible:!1,confirmLoading:!1},userData:{}}}},created:function(){},mounted:function(){this.init()},methods:{moment:s.a,init:function(){this.queryUserData()},queryUserData:function(){var e=this;Object(p["b"])().then((function(t){t.data.user_data&&(e.page.userData=t.data.user_data)}))},handleApply:function(e){this.page.payment.visible=!0,this.form.resetFields()},query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:s()(new Date)}},handleSubmit:function(){var e=this,t=this.form.validateFields;this.page.payment.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:Object(m["b"])(a).then((function(t){e.$message.success("提交成功"),e.page.payment.confirmLoading=!1,e.page.payment.visible=!1,e.form.resetFields(),e.query()}))}))},handleCancel:function(){this.page.payment.visible=!1},changeValue:function(e){}}},h=f,v=a("2877"),b=Object(v["a"])(h,r,i,!1,null,null,null);t["default"]=b.exports},"9f0f":function(e,t,a){"use strict";var r=a("4018"),i=a.n(r);i.a},adc1:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1,title:"商品发布"}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"商品编号"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.num_iid,callback:function(t){e.$set(e.queryParam,"num_iid",t)},expression:"queryParam.num_iid"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"商品地址"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.url,callback:function(t){e.$set(e.queryParam,"url",t)},expression:"queryParam.url"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.query(!0)}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"30px"}},[a("a-button",{attrs:{type:"primary",icon:"new"},on:{click:function(t){return e.$refs.modal.edit({})}}},[e._v("发布商品")])],1),a("div",{attrs:{slot:"extra"},slot:"extra"},[a("a-radio-group",{attrs:{buttonStyle:"solid"},on:{change:e.query},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[a("a-radio-button",{attrs:{value:"all"}},[e._v("全部")]),a("a-radio-button",{attrs:{value:"2"}},[e._v("通过 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status2)+")")])]),a("a-radio-button",{attrs:{value:"1"}},[e._v("审核中 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status1)+")")])]),a("a-radio-button",{attrs:{value:"0"}},[e._v("草稿 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status0)+")")])]),a("a-radio-button",{attrs:{value:"-1"}},[e._v("拒绝 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status01)+")")])]),a("a-radio-button",{attrs:{value:"-2"}},[e._v("下架 "),a("span",{staticClass:"tip"},[e._v("("+e._s(e.page.report.status02)+")")])])],1),a("a-input-search",{staticStyle:{"margin-left":"16px",width:"272px"},on:{search:function(t){return e.$refs.table.refresh(!0)}},model:{value:e.queryParam.num_iid,callback:function(t){e.$set(e.queryParam,"num_iid",t)},expression:"queryParam.num_iid"}})],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"money",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://uland.taobao.com/quan/detail?sellerId="+r.user_num_id+"&activityId="+r.activity_id}},[e._v("查看")])]}},{key:"price",fn:function(t,r){return[a("span",[e._v(e._s(r.price))]),e._v("/"),a("span",{staticClass:"tip"},[e._v(e._s(e._f("numFilter")(r.goods_coupon?r.goods_coupon.coupon_money:0)))])]}},{key:"goodslink",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://www.haopintui.net/?coupon=1&q="+encodeURIComponent("https://detail.tmall.com/item.htm?id="+r.num_iid)}},[a("ellipsis",{attrs:{length:50,tooltip:""}},[e._v(e._s(r.d_title))])],1)]}},{key:"image",fn:function(e,t){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+t.num_iid}},[a("img",{staticStyle:{"max-width":"80px"},attrs:{src:t.pic_url}})])]}},{key:"status",fn:function(t,r){return a("span",{},[0===r.status?a("span",[e._v("草稿")]):e._e(),1===r.status?a("span",[e._v("待审核")]):e._e(),2===r.status?a("span",[e._v("上架")]):e._e(),-1===r.status?a("span",[e._v("已拒绝")]):e._e(),-2===r.status?a("span",[e._v("已下架")]):e._e()])}},{key:"description",fn:function(t){return a("span",{},[a("ellipsis",{attrs:{length:4,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"coupon",fn:function(t,r){return a("span",{},[r.create_time?a("span",[e._v(e._s(e.moment(r.create_time).format("YYYY-MM-DD")))]):e._e(),r.end_time?a("p",[e._v(e._s(e.moment(r.end_time).format("YYYY-MM-DD")))]):e._e()])}},{key:"action",fn:function(t,r){return a("span",{},[-2===r.status||-1===r.status?[a("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("换券")])]:0===r.status?[a("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]:1===r.status?[a("a",{on:{click:function(t){return e.handleLowerShelf(r,0)}}},[e._v("撤销审核")])]:2===r.status?[a("a",{on:{click:function(t){return e.handleLowerShelf(r,-2)}}},[e._v("下架")])]:e._e()],2)}}])}),a("edit-modal",{ref:"modal",on:{ok:function(t){return e.query(!1)}}})],1)},i=[],n=(a("0d03"),a("b680"),a("acd8"),a("5530")),s=a("c32d"),o=a.n(s),l=a("5880"),u=a("2af9"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"发布商品",width:980,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("div",{style:{display:0===e.step?"":"none"}},[a("a-form-item",{attrs:{label:"商品链接",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:"例：https://detail.tmall.com/item.htm?id=534139109421"},on:{change:e.fetchGoodsContent},model:{value:e.hrefPreview,callback:function(t){e.hrefPreview=t},expression:"hrefPreview"}},[a("a-button",{attrs:{slot:"addonAfter",type:"link",icon:"search",size:"small"},on:{click:e.fetchGoodsContent},slot:"addonAfter"},[e._v("获取")])],1)],1),a("a-form-item",{attrs:{label:"商品文案",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{attrs:{rows:4,placeholder:"请在此粘贴推广文案，本功能可识别大多符合规则的文案"},on:{change:e.fetchGoodsContent},model:{value:e.contentPreview,callback:function(t){e.contentPreview=t},expression:"contentPreview"}})],1),a("a-form-item",{attrs:{label:"文案模板",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("div",{staticClass:"template"},[a("div",{staticStyle:{color:"#fe5861"}},[e._v("商品文案可识别以下三种格式：")]),a("div",[a("span",[e._v("格式一：")]),a("br"),e._v(" 下单：https://item.taobao.com/item.htm?id=534139109421 ")]),a("div",[a("span",[e._v("格式二：")]),a("br"),e._v(" 领券：https://uland.taobao.com/quan/detail?sellerId=2628387876&activityId=023cae054278487bae8b3f2185388f16"),a("br"),e._v("下单：https://item.taobao.com/item.htm?id=534139109421 ")]),a("div",[a("span",[e._v("格式三：")]),a("br"),e._v(" 周黑鸭鸭脖200g锁骨240g"),a("br"),e._v("原价48.8元，券后价【45.8元】"),a("br"),e._v("领券：https://uland.taobao.com/quan/detail?sellerId=2628387876&activityId=023cae054278487bae8b3f2185388f16"),a("br"),e._v("下单：https://item.taobao.com/item.htm?id=534139109421"),a("br"),e._v("抢前100名半价！前30分钟第2周黑鸭锁鲜盒装鸭脖锁骨440g套餐，聚划算活动48.8元，领内部券43.8元，可享受第2件19.9元活动，拍2份发顺丰快递，全部新鲜日期。麻辣鲜爽，办公室、追剧必备啊！ "),a("div",{staticClass:"template-tips"},[a("i",[e._v("*")]),e._v(" 注：以上文案模板仅供参考，模板三粘贴内容需符合：第一行为标题、第二行包含原价和券后价（用逗号分隔）、第三行为券链接、第四行为商品链接、第五行为商品描述即可。 ")])])])])],1),a("div",{style:{display:0===e.step?"none":""}},[a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[{required:!1}]}],expression:"['id', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["num_iid",{rules:[{required:!1}]}],expression:"['num_iid', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_num_id",{rules:[{required:!1}]}],expression:"['user_num_id', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ori_price",{rules:[{required:!1}]}],expression:"['ori_price', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_type",{rules:[{required:!1}]}],expression:"['user_type', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["volume",{rules:[{required:!1}]}],expression:"['volume', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["condition",{rules:[{required:!1}]}],expression:"['condition', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{staticStyle:{display:"none"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["money",{rules:[{required:!1}]}],expression:"['money', {rules: [{required: false}]}]"}],attrs:{type:"hidden"}})],1),a("a-form-item",{attrs:{label:"商品地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["href",{rules:[{required:!0,message:"请输入地址"}]}],expression:"['href', {rules: [{required: true, message: '请输入地址'}]}]"}],attrs:{placeholder:"例：https://detail.tmall.com/item.htm?id=534139109421"},on:{change:e.changeValue}},[a("a-button",{attrs:{slot:"addonAfter",type:"link",icon:"search",size:"small"},on:{click:e.fetchGoodsInfo},slot:"addonAfter"},[e._v("获取")])],1)],1),a("a-form-item",{attrs:{label:"商品标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入标题"}]}],expression:"['title', {rules: [{required: true, message: '请输入标题'}]}]"}]})],1),a("a-form-item",{attrs:{label:"推广短标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["d_title",{rules:[{required:!0,message:"请输入短标题"}]}],expression:"['d_title', {rules: [{required: true, message: '请输入短标题'}]}]"}],attrs:{placeholder:"10-16字的精简优质短标题，切勿堆砌重复关键词"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("还可以输入 16 个字")])])],1),a("a-form-item",{attrs:{label:"原价格",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["price",{rules:[{required:!1,message:"请输入原价格"}]}],expression:"['price', {rules: [{required: false, message: '请输入原价格'}]}]"}]})],1),a("a-form-item",{attrs:{label:"图片",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pic_url",{rules:[{required:!1,message:""}]}],expression:"['pic_url', {rules: [{ required: false, message: '' }]} ]"}],attrs:{placeholder:"例：https://img.alicdn.com/imgextra/i1/2454060579/TB2fakMdl0lpuFjSszdXXcdxFXa_!!2454060579.jpg"},on:{change:e.changeImg}}),a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUpload,fileList:e.page.data.fileList},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传 ")],1)],1),e.previewImg?a("img",{staticClass:"previewImg",attrs:{src:e.previewImg}}):e._e(),e.picList&&e.picList.length>0?a("div",{staticClass:"pics"},[a("p",[e._v("主图参考")]),a("ul",e._l(e.picList,(function(t,r){return a("li",{key:r,on:{click:function(a){return e.setPic(t)}}},[a("img",{attrs:{src:t}})])})),0)]):e._e()],1),a("a-form-item",{attrs:{label:"优惠券连接",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["coupon_url",{rules:[{required:!0,message:"请输入优惠券地址"}]}],expression:"['coupon_url', {rules: [{required: true, message: '请输入优惠券地址'}]}]"}],attrs:{placeholder:"示例：https://uland.taobao.com/quan/detail?sellerId=xxxxx&activityId=xxxxx"},on:{change:e.changeValue}}),a("span",[e._v("阿里妈妈优惠券建议时间7天左右")])],1),a("a-form-item",{attrs:{label:"分类",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["cid1",{rules:[{required:!0,message:"请选择分类"}]}],expression:"[ 'cid1', {rules: [{ required : true, message: '请选择分类' }]} ]"}],staticStyle:{width:"120px"}},[a("a-select-option",{attrs:{value:0}},[e._v("--选择--")]),e._l(e.cats,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.c_id}},[e._v(e._s(t.short_name))])}))],2)],1),a("a-form-item",{attrs:{label:"活动时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-form-item",{style:{display:"inline-block",width:"300px",padding:"0px","margin-bottom":"10px"},attrs:{label:"开始时间",labelCol:{xs:{span:24},sm:{span:6}}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["create_time",{rules:[{type:"object",required:!0,message:"不能为空"}]}],expression:"['create_time', {rules: [{ type: 'object', required: true, message: '不能为空' }]}]"}],attrs:{showTime:"",format:"YYYY-MM-DD"}})],1),a("a-form-item",{style:{display:"inline-block",width:"300px",padding:"0px","margin-bottom":"10px"},attrs:{label:"结束时间",labelCol:{xs:{span:24},sm:{span:6}}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["end_time",{rules:[{type:"object",required:!0,message:"不能为空"}]}],expression:"['end_time', {rules: [{ type: 'object', required: true, message: '不能为空' }]}]"}],attrs:{showTime:"",format:"YYYY-MM-DD"}})],1)],1),a("a-form-item",{attrs:{label:"微信群专用图",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["qq_pic_url",{rules:[{required:!1,message:"请输入微信群专用图"}]}],expression:"['qq_pic_url', {rules: [{required: false, message: '请输入微信群专用图'}]}]"}]})],1),a("a-form-item",{attrs:{label:"导购文案",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["comment",{rules:[{required:!0,message:"请输入文案"}]}],expression:"['comment', {rules: [{required: true, message: '请输入文案'}]}]"}],attrs:{rows:4,placeholder:"请输入20-100字导购文案介绍"}}),e.wenItems&&e.wenItems.length>0?a("div",{staticClass:"wenan"},[a("p",[e._v("备选文案")]),a("ul",e._l(e.wenItems,(function(t,r){return a("li",{key:r,on:{click:function(a){return e.setContent(t)}}},[e._v(e._s(r+1)+"."+e._s(t.content))])})),0)]):e._e()],1),a("a-form-item",{attrs:{label:"视频文件",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["qq_video_url",{rules:[{required:!1,message:"请输入视频文件"}]}],expression:"['qq_video_url', {rules: [{required: false, message: '请输入视频文件'}]}]"}],attrs:{placeholder:"例：http://cloud.video.taobao.com/play/u/1/p/1/e/6/t/1/32595684.mp4"}})],1)],1)])],1),a("template",{slot:"footer"},[a("div",{style:{display:0===e.step?"none":""}},[a("p",[a("a-button",{key:"forward",attrs:{loading:e.confirmLoading,type:"primary",block:""},on:{click:function(t){return e.handleSubmit(1)}}},[e._v("提交审核")])],1),a("p",{staticStyle:{margin:"30px 0px"}},[a("a-button",{key:"forward",attrs:{loading:e.confirmLoading,type:"primary",block:""},on:{click:function(t){return e.handleSubmit(0)}}},[e._v("保存草稿")])],1)])])],2)},c=[],m=(a("99af"),a("b0c0"),a("2909")),p=a("88bc"),f=a.n(p),h=a("c104"),v=a("2934"),b={name:"EditModal",components:{},computed:Object(n["a"])({},Object(l["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),content:"",href:"",coupon_url:"",cats:[],wenItems:[],picList:[],previewImg:"",step:0,hrefPreview:"",contentPreview:"",page:{data:{fileList:[]}}}},watch:{href:function(e){this.fetchGoodsInfoPreview()},coupon_url:function(e){this.fetchGoodsCouponPreview()},hrefPreview:function(e){this.fetchGoodsContent()},contentPreview:function(e){this.fetchGoodsContent()}},created:function(){this.init()},methods:{init:function(){var e=this;Object(v["c"])().then((function(t){t.data.items&&(e.cats=t.data.items)}))},edit:function(e){var t=this;this.step=0,this.contentPreview="",this.hrefPreview="",this.visible=!0;var a=this.form.setFieldsValue;this.$nextTick((function(){if(e.id){t.step=1;var r=f()(e,["id","cid1","coupon_url","href","num_iid","title","d_title","price","pic_url","user_num_id","ori_price","user_type","volume","comment","create_time","end_time","money","condition"]);r.create_time&&(r.create_time=o()(e.create_time)),r.end_time&&(r.end_time=o()(e.end_time)),a(r)}else t.form.resetFields(),t.picList=[],t.wenItems=[];t.fetchGoodsInfoPreview()}))},handleSubmit:function(e){var t=this,a=this.form.validateFields;this.confirmLoading=!0,a((function(a,r){a?t.confirmLoading=!1:(r.create_time&&(r.create_time=o()(r.create_time).format("YYYY-MM-DD 00:00:00")),r.end_time&&(r.end_time=o()(r.end_time).format("YYYY-MM-DD 00:00:00")),Object(h["g"])(Object.assign(r,{submitStatus:e})).then((function(a){0===a.info.status&&(1===e?t.$message.success("提交成功"):t.$message.success("保存成功"),t.$emit("ok",r),t.visible=!1),t.confirmLoading=!1})))}))},handleChange:function(e){e.file.status,"done"===e.file.status?(this.form.setFieldsValue({pic_url:e.file.response.data.item.img}),this.page.data.fileList=[]):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||this.$message.error("上传图片只能是jpg/png/gif格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a&&(this.page.data.fileList=[].concat(Object(m["a"])(this.page.data.fileList),[e])),t&&a},fetchGoodsInfo:function(){var e=this,t=this.form.setFieldsValue;Object(h["c"])({href:this.form.getFieldsValue().href}).then((function(a){a.data.goods&&(e.$nextTick((function(){t(f()(a.data.goods,["id","cid1","coupon_url","href","num_iid","title","d_title","price","pic_url","user_num_id","ori_price","user_type","volume","comment"]))})),e.wenItems=a.data.goods.wenItems||[],e.picList=a.data.goods.picList||[]),e.confirmLoading=!1}))},fetchGoodsInfoPreview:function(){var e=this;Object(h["d"])({href:this.form.getFieldsValue().href}).then((function(t){t.data.goods&&(e.wenItems=t.data.goods.wenItems||[],e.picList=t.data.goods.picList||[])}))},fetchGoodsCouponPreview:function(){var e=this,t=this.form.setFieldsValue;Object(h["b"])({href:this.form.getFieldsValue().href,coupon_url:this.form.getFieldsValue().coupon_url}).then((function(a){a.data.coupon&&e.$nextTick((function(){var e=f()(a.data.coupon,["create_time","end_time","money","condition"]);e.create_time=o()(a.data.coupon.create_time),e.end_time=o()(a.data.coupon.end_time),t(e)}))}))},handleCancel:function(){this.visible=!1},setContent:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({comment:e.content})}))},setPic:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({pic_url:e})})),this.previewImg=e},changeValue:function(e){var t=e.target,a=t.value,r=t.id;"href"===r?this.href=a:"coupon_url"===r&&(this.coupon_url=a)},changeImg:function(e){var t=e.target.value;this.previewImg=t},fetchGoodsContent:function(){var e=this,t=this.form.setFieldsValue;Object(h["a"])({href:this.hrefPreview,content:this.contentPreview}).then((function(a){a.data.item&&e.$nextTick((function(){var r=f()(a.data.item,["href","coupon_url"]);t(r),e.step=1,e.fetchGoodsInfo(),e.fetchGoodsCouponPreview()}))}))}}},_=b,g=(a("9f0f"),a("2877")),y=Object(g["a"])(_,d,c,!1,null,"6f809304",null),w=y.exports,x={name:"Page",components:{STable:u["o"],Ellipsis:u["f"],EditModal:w},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"主图",width:50,dataIndex:"pic_url",scopedSlots:{customRender:"image"}},{title:"短标题",className:"common",dataIndex:"title",scopedSlots:{customRender:"goodslink"}},{title:"原价/券后价\t",width:120,dataIndex:"price",sorter:!0,needTotal:!0,scopedSlots:{customRender:"price"}},{title:"佣金比例",width:80,dataIndex:"goods_coupon.commission_rate",customRender:function(e,t){return e+"%"}},{title:"优惠券",width:80,dataIndex:"money",scopedSlots:{customRender:"money"}},{title:"起止日期",dataIndex:"",width:100,scopedSlots:{customRender:"coupon"}},{title:"销量",width:50,dataIndex:"volume",scopedSlots:{customRender:"volume"}},{title:"状态",width:80,dataIndex:"",sorter:!0,scopedSlots:{customRender:"status"}},{title:"栏目",dataIndex:"category.short_name",width:60},{title:"店铺",dataIndex:"user_type",width:80,customRender:function(e,t){return"B"===t.user_type?"天猫":"淘宝"}},{title:"创建时间",width:160,dataIndex:"create_date"},{title:"操作",dataIndex:"action",width:"120px",align:"center",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(h["e"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1,page:{report:{status0:0,status1:0,status2:0,status01:0,status02:0}}}},created:function(){10!==this.userType&&1!==this.userType&&2!==this.userType&&3!==this.userType&&6!==this.userType&&8!==this.userType&&this.$router.push({name:"applyBusiness"})},mounted:function(){this.queryReport()},methods:{moment:o.a,query:function(e){this.$refs.table.refresh(e),this.queryReport()},queryReport:function(){var e=this;Object(h["f"])().then((function(t){t.data.item&&(e.page.report.status0=t.data.item["0"]?t.data.item["0"]:0,e.page.report.status1=t.data.item["1"]?t.data.item["1"]:0,e.page.report.status2=t.data.item["2"]?t.data.item["2"]:0,e.page.report.status01=t.data.item["-1"]?t.data.item["-1"]:0,e.page.report.status02=t.data.item["-2"]?t.data.item["-2"]:0)}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}},handleEdit:function(e){e.user_num_id&&(e.coupon_url="https://uland.taobao.com/quan/detail?sellerId="+e.user_num_id+"&activityId="+e.activity_id),e.num_iid&&(e.href="https://detail.tmall.com/item.htm?id="+e.num_iid),this.$refs.modal.edit(e)},handleLowerShelf:function(e,t){var a=this;Object(h["h"])({id:e.id,status:t}).then((function(e){var t=e||{},r=t.info;0===r.status&&a.$message.success(e.info.status_err),a.query(!1)}))}},computed:Object(n["a"])({},Object(l["mapGetters"])(["userType"])),filters:{numFilter:function(e){var t=parseFloat(e).toFixed(2);return t}}},C=x,q=(a("5592"),Object(g["a"])(C,r,i,!1,null,"12960036",null));t["default"]=q.exports},adf8:function(e,t,a){"use strict";var r=a("f9a7"),i=a.n(r);i.a},b1cf:function(e,t,a){},c104:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return c})),a.d(t,"h",(function(){return m}));var r=a("b775"),i={list:"/api/user/business/goods/list",getReport:"/api/user/business/goods/report",view:"/api/user/business/goods/view",fetchGoodsInfo:"/api/user/business/goods/fetchGoodsInfo",fetchGoodsInfoEx:"/api/user/business/goods/fetchGoodsInfoEx",fetchGoodsCoupon:"/api/user/business/goods/fetchGoodsCoupon",fetchContent:"/api/user/business/goods/fetchContent",update:"/api/user/business/goods/update",updateStatus:"/api/user/business/goods/status"};function n(e){return Object(r["b"])({url:i.getReport,method:"post",data:e})}function s(e){return Object(r["b"])({url:i.fetchContent,method:"post",data:e})}function o(e){return Object(r["b"])({url:i.fetchGoodsCoupon,method:"post",data:e})}function l(e){return Object(r["b"])({url:i.list,method:"post",data:e})}function u(e){return Object(r["b"])({url:i.update,method:"post",data:e})}function d(e){return Object(r["b"])({url:i.fetchGoodsInfo,method:"post",data:e})}function c(e){return Object(r["b"])({url:i.fetchGoodsInfoEx,method:"post",data:e})}function m(e){return Object(r["b"])({url:i.updateStatus,method:"post",data:e})}},c24f:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var r=a("b775"),i={getUserData:"/api/user/home/user_data",getUser:"/api/user/home/user",updateUserPassword:"/api/user/info/password/update",updateUser:"/api/user/user/info/update"};function n(e){return Object(r["b"])({url:i.updateUserPassword,method:"post",data:e})}function s(e){return Object(r["b"])({url:i.updateUser,method:"post",data:e})}function o(e){return Object(r["b"])({url:i.getUser,method:"post",data:e})}function l(e){return Object(r["b"])({url:i.getUserData,method:"post",data:e})}},c79d:function(e,t,a){"use strict";var r=a("0c8f"),i=a.n(r);i.a},e420:function(e,t,a){},e894:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{attrs:{bordered:!1}},[a("a-row",[a("a-col",{attrs:{sm:8,xs:24}},[a("head-info",{attrs:{title:"可用点券",bordered:!0}},[a("template",{slot:"content"},[a("vns",{attrs:{start:0,end:e.page.userData.points,times:10,speed:50}})],1)],2),a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{margin:"0px auto"},attrs:{type:"primary"},on:{click:function(t){return e.openModelPay()}}},[e._v("帐号充值")])],1)],1),a("a-col",{attrs:{sm:8,xs:24}},[a("head-info",{attrs:{title:"累积点券",bordered:!0}},[a("template",{slot:"content"},[a("vns",{attrs:{start:0,end:e.page.userData.points_total,times:10,speed:50}})],1)],2)],1),a("a-col",{attrs:{sm:8,xs:24}},[a("head-info",{attrs:{title:"剩余发布包",bordered:!0}},[a("template",{slot:"content"},[a("vns",{attrs:{start:0,end:e.page.userData.pub_goods,times:10,speed:50}})],1)],2)],1)],1)],1),a("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"充值记录"}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"支付包订单"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.trade_no,callback:function(t){e.$set(e.queryParam,"trade_no",t)},expression:"queryParam.trade_no"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("div",{attrs:{slot:"extra"},slot:"extra"},[a("a-button",{attrs:{type:"primary",icon:"apply"},on:{click:function(t){return e.openModelPay()}}},[e._v("帐号充值")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"goodslink",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+r.num_iid}},[e._v(e._s(t))])]}},{key:"money",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://uland.taobao.com/quan/detail?sellerId="+r.user_num_id+"&activityId="+r.activity_id}},[e._v("查看")])]}},{key:"price",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://www.haopintui.net/?coupon=1&q="+encodeURIComponent("https://detail.tmall.com/item.htm?id="+r.num_iid)}},[e._v(e._s(t))])]}},{key:"image",fn:function(e,t){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+t.num_iid}},[a("img",{staticStyle:{"max-width":"80px"},attrs:{src:t.pic_url}})])]}},{key:"status",fn:function(t){return a("span",{},[a("a-badge",{attrs:{status:e._f("statusTypeFilter")(t),text:e._f("statusFilter")(t)}})],1)}},{key:"income",fn:function(t){return a("span",{},[a("ellipsis",{attrs:{length:4,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"action",fn:function(t,r){return a("span",{},[a("span",{attrs:{"data-id":r.id}},[e._v("查看")])])}}])}),a("a-modal",{attrs:{title:"提现申请",visible:e.page.payment.visible,width:600},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.page.payment.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("div",[a("a-form-item",{attrs:{label:"提现金额",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["money",{initialValue:0,rules:[{required:!1,message:""}]}],expression:"['money', {initialValue: 0,rules: [{required: false, message: ''}]}]"}],on:{change:e.changeValue}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("元")])])],1),a("a-form-item",{attrs:{label:"支付宝帐号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["alipay",{rules:[{required:!0,message:"不能为空"}]}],expression:"['alipay', {rules: [{required: true, message: '不能为空'}]}]"}],on:{change:e.changeValue}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("提现的支付宝")])])],1)],1)])],1),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary",loading:e.page.payment.confirmLoading,block:""},on:{click:function(t){return e.handleSubmit()}}},[e._v("申请")])],1)],2)],1),a("payment-modal",{ref:"modalPayment",on:{ok:e.queryPay}}),a("pay-modal",{ref:"modalPay",on:{ok:e.queryPayResult}})],1)},i=[],n=(a("0d03"),a("c32d")),s=a.n(n),o=a("81d1"),l=a("2af9"),u=a("b775"),d={list:"/api/user/business/pay/list"};function c(e){return Object(u["b"])({url:d.list,method:"post",data:e})}var m=a("c24f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"充值信息",width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("p",{staticStyle:{margin:"5px 0px","font-size":"16px"}},[e._v(" 请选择要充值的点券的数量(50点券/1个商品)")]),a("div",{staticClass:"cell"},e._l(e.page.items,(function(t,r){return a("div",{key:r,class:["cell-item",e.page.selectIndex===r?"selected":""],on:{click:function(t){return e.selectClick(r)}}},[a("div",[a("b",[e._v(e._s(10*t.money))]),e._v(" 点 "),t.memo?a("p",[e._v(e._s(t.memo))]):e._e()]),a("a-divider"),a("div",[a("b",[e._v(e._s(t.money))]),e._v(" 元 ")]),a("i",{staticClass:"checked-icon"},[a("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2019-10-03/5d96179837a18.png"}})])],1)})),0),a("div",{staticClass:"payinfo"},[e._v("可得到点券"),a("span",{staticClass:"number"},[e._v(e._s(e.payPoints))]),e._v("，需支付宝支付"),a("span",{staticClass:"number"},[e._v(e._s(e.payMoney))]),e._v("元")])]),a("template",{slot:"footer"},[a("p",{staticStyle:{margin:"30px 0px"}},[a("a-button",{attrs:{type:"primary",target:"_blank",href:e.payUrl,block:""},on:{click:function(t){return e.handleSubmit()}}},[e._v("点击前往支付宝在线购买")])],1)])],2)},f=[],h=a("5530"),v=a("88bc"),b=a.n(v),_=a("5880"),g={payItems:"/api/user/vip/payItems"};function y(e){return Object(u["b"])({url:g.payItems,method:"post",data:e})}var w={name:"EditModal",components:{},computed:Object(h["a"])(Object(h["a"])({},Object(_["mapGetters"])(["token"])),{},{payUrl:function(){return"https://www.haopintui.net/pay/pay_html?product_type="+this.payProductType+"&member_token="+this.token},payMoney:function(){if(this.page.items.length<=this.page.selectIndex)return 0;var e=this.page.items[this.page.selectIndex];return e.money},payPoints:function(){if(this.page.items.length<=this.page.selectIndex)return 0;var e=this.page.items[this.page.selectIndex];return e.value},payProductType:function(){if(this.page.items.length<=this.page.selectIndex)return 0;var e=this.page.items[this.page.selectIndex];return e.product_type}}),data:function(){return{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),content:"",page:{pay_money:0,items:[],selectIndex:0}}},mounted:function(){this.init()},methods:{init:function(){this.query()},query:function(){var e=this;y({pay_type:"points"}).then((function(t){t.data.items&&(e.page.items=t.data.items)}))},edit:function(e){var t=this;this.visible=!0;var a=this.form.setFieldsValue;this.$nextTick((function(){e.id?a(b()(e,[])):t.form.resetFields()}))},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:(e.confirmLoading=!1,e.$emit("ok",a),e.visible=!1)}))},handleCancel:function(){this.visible=!1},changeMoney:function(e){var t=e.target.value;this.page.pay_money=t},selectClick:function(e){this.page.selectIndex=e}}},x=w,C=(a("539c"),a("2877")),q=Object(C["a"])(x,p,f,!1,null,"53944370",null),k=q.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"付费确认",width:388,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("确认已经付费完成")])])]),a("template",{slot:"footer"},[a("a-button",{key:"forward",attrs:{loading:e.confirmLoading,type:"primary",block:""},on:{click:function(t){return e.handleSubmit()}}},[e._v("刷新确认")])],1)],2)},P=[],S={name:"EditModal",components:{},computed:Object(h["a"])({},Object(_["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:22}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),content:""}},methods:{edit:function(e){var t=this;this.visible=!0;var a=this.form.setFieldsValue;this.$nextTick((function(){e.id?a(b()(e,["id","title","pic_url","content","points","number"])):t.form.resetFields()}))},handleSubmit:function(){this.confirmLoading=!1,this.visible=!1,this.$emit("ok","")},handleCancel:function(){this.visible=!1}}},j=S,O=Object(C["a"])(j,I,P,!1,null,null,null),L=O.exports,$=a("f2b3"),F={name:"Page",components:{vns:$["a"],HeadInfo:o["a"],STable:l["o"],Ellipsis:l["f"],PayModal:k,PaymentModal:L},data:function(){var e=this;return{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}},mdl:{},advanced:!1,queryParam:{},columns:[{title:"商品订单号",dataIndex:"order.pay.pay_no"},{title:"支付宝订单号",dataIndex:"order.pay.trade_no"},{title:"创建时间",dataIndex:"create_date"},{title:"支付金额",dataIndex:"order.pay.money"},{title:"点券",dataIndex:"points"},{title:"状态",dataIndex:"status_name",width:150,align:"center",customRender:function(e,t){return 1===t.order.status?"已支付":"未付款"}}],loadData:function(t){e.queryParam.rangePicker&&2===e.queryParam.rangePicker.length&&(e.queryParam.startTime=e.queryParam.rangePicker[0].format("YYYY-MM-DD")+" 00:00:00",e.queryParam.endTime=e.queryParam.rangePicker[1].format("YYYY-MM-DD")+" 23:59:59");var a=Object.assign(t,e.queryParam);return delete a.rangePicker,c(a).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1,form:this.$form.createForm(this),page:{payment:{visible:!1,confirmLoading:!1},userData:{}}}},created:function(){},mounted:function(){this.init()},methods:{moment:s.a,init:function(){this.queryUserData()},queryUserData:function(){var e=this;Object(m["b"])().then((function(t){t.data.user_data&&(e.page.userData=t.data.user_data)}))},queryPay:function(){this.queryUserData(),this.$refs.table.refresh(!0)},handleApply:function(e){this.page.payment.visible=!0,this.form.resetFields()},query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:s()(new Date)}},handleSubmit:function(){var e=this,t=this.form.validateFields;this.page.payment.confirmLoading=!0,t((function(t,a){t&&(e.confirmLoading=!1)}))},handleCancel:function(){this.page.payment.visible=!1},changeValue:function(e){},openModelPay:function(){this.$refs.modalPay.edit({})},queryPayResult:function(){this.$refs.modalPayment.edit({})}}},Y=F,N=Object(C["a"])(Y,r,i,!1,null,null,null);t["default"]=N.exports},f2b3:function(e,t,a){"use strict";a("c975"),a("a9e3"),a("e25e"),a("4795");var r={name:"vue-number-scroll",props:{speed:{type:Number,required:!1,default:50},times:{type:Number,required:!1,default:10},start:{type:Number,required:!1,default:0},end:{type:Number,required:!1,default:0},format:{type:Function,required:!1,default:null}},data:function(){return{showNumber:0}},render:function(e){return e("font",this.format?this.format(this.showNumber):this.showNumber)},created:function(){this.showNumber=this.start},mounted:function(){this.JNumberScroll({speed:this.speed,times:this.times,start:this.start,end:this.end})},watch:{end:function(e,t){this.JNumberScroll({speed:this.speed,times:this.times,start:t,end:e})}},methods:{JNumberScroll:function(e){var t=[],a=Math.abs(e.end-e.start),r=e.end-e.start>0,i=a/e.times,n=String(e.end),s=-1!==n.indexOf(".");!s&&i<1&&(i=1)&&(e.times=a);for(var o=0;o<e.times;o++){var l=r?e.start+i*o:e.start-i*o,u=0;s&&(u=n.length-n.indexOf(".")-1),t.push(s?parseInt(l*Math.pow(10,u))/Math.pow(10,u):parseInt(l))}(r&&t[t.length-1]<e.end||!r&&t[t.length-1]>e.end)&&t.push(e.end);var d=0,c=this,m=setInterval((function(){d<t.length?c.showNumber=t[d++]:clearInterval(m)}),e.speed)}}};t["a"]=r},f9a7:function(e,t,a){}}]);