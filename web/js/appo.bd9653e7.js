(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appo"],{1336:function(e,t,a){"use strict";a.d(t,"m",(function(){return n})),a.d(t,"h",(function(){return i})),a.d(t,"i",(function(){return o})),a.d(t,"e",(function(){return p})),a.d(t,"j",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"k",(function(){return m})),a.d(t,"l",(function(){return f})),a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"d",(function(){return b}));var r=a("b775"),s={updateCms:"/api/user/cms/site/update",getCmsView:"/api/user/cms/site/view",updateCmsData:"/api/user/cms/data/update",getCmsDataView:"/api/user/cms/data/view",getCmsGenerate:"/api/user/cms/domain/generate",getDomainItems:"/api/user/cms/domain/list",getDomainItems2:"/api/user/cms/domain/list2",updateDomain:"/api/user/cms/domain/update_sub",updateDomain2:"/api/user/cms/domain/update_self",delDomainItems:"/api/user/cms/domain/deleteSub",delDomainItems2:"/api/user/cms/domain/deleteSelf",updatePid:"/api/user/cms/pid/update",getPidView:"/api/user/cms/pid/view"};function n(e){return Object(r["b"])({url:s.updatePid,method:"post",data:e})}function i(e){return Object(r["b"])({url:s.getPidView,method:"post",data:e})}function o(e){return Object(r["b"])({url:s.updateCms,method:"post",data:e})}function p(e){return Object(r["b"])({url:s.getCmsView,method:"post",data:e})}function l(e){return Object(r["b"])({url:s.updateCmsData,method:"post",data:e})}function d(e){return Object(r["b"])({url:s.getCmsDataView,method:"post",data:e})}function c(e){return Object(r["b"])({url:s.getDomainItems,method:"post",data:e})}function u(e){return Object(r["b"])({url:s.getDomainItems2,method:"post",data:e})}function m(e){return Object(r["b"])({url:s.updateDomain,method:"post",data:e})}function f(e){return Object(r["b"])({url:s.updateDomain2,method:"post",data:e})}function h(e){return Object(r["b"])({url:s.delDomainItems,method:"post",data:e})}function g(e){return Object(r["b"])({url:s.delDomainItems2,method:"post",data:e})}function b(e){return Object(r["b"])({url:s.getCmsGenerate,method:"post",data:e})}},2198:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{padding:"30px 0px"},attrs:{bordered:!1,title:"第三方配置"}},[a("div",{staticClass:"table-page-search-wrapper"},[a("ul",{staticClass:"third"},[a("li",{staticClass:"weixin"},[a("div",{staticClass:"icon-wrap"}),a("div",{staticClass:"icon-txt"},[e._v("微信登录分享")]),a("div",{staticClass:"icon-btn"},[a("a",{on:{click:function(t){return e.showModel("weixin")}}},[e._v("去配置")])]),a("div",{staticClass:"icon-desc"},[e._v("接入微信登录&分享，实现微信账号快速登录及微信分享，一键连接亿万微信用户。")]),e.page.app.thirdassess.weixin&&e.page.app.thirdassess.weixin.app_id&&""!=e.page.app.thirdassess.weixin.app_id?a("div",{staticClass:"has-option"},[a("span",[e._v("已配置")])]):e._e()]),a("li",{staticClass:"igetui"},[a("div",{staticClass:"icon-wrap"}),a("div",{staticClass:"icon-txt"},[e._v("个推推送")]),a("div",{staticClass:"icon-btn"},[a("a",{on:{click:function(t){return e.showModel("igetui")}}},[e._v("去配置")])]),a("div",{staticClass:"icon-desc"},[e._v("app中消息推送服务")]),e.page.app.thirdassess.igetui&&e.page.app.thirdassess.igetui.app_id&&""!=e.page.app.thirdassess.igetui.app_id?a("div",{staticClass:"has-option"},[a("span",[e._v("已配置")])]):e._e()]),a("li",{staticClass:"baichuan"},[a("div",{staticClass:"icon-wrap"}),a("div",{staticClass:"icon-txt"},[e._v("阿里百川")]),a("div",{staticClass:"icon-btn"},[a("a",{on:{click:function(t){return e.showModel("baichuan")}}},[e._v("去配置")])]),a("div",{staticClass:"icon-desc"},[e._v("用于app直接对接淘宝客户端，提高导购电商体验")]),e.page.app.thirdassess.baichuan&&e.page.app.thirdassess.baichuan.appkey&&""!=e.page.app.thirdassess.baichuan.appkey?a("div",{staticClass:"has-option"},[a("span",[e._v("已配置")])]):e._e()]),a("li",{staticClass:"umeng"},[a("div",{staticClass:"icon-wrap"}),a("div",{staticClass:"icon-txt"},[e._v("友盟")]),a("div",{staticClass:"icon-btn"},[a("a",{on:{click:function(t){return e.showModel("umeng")}}},[e._v("去配置")])]),a("div",{staticClass:"icon-desc"},[e._v("专注于分享和移动统计，为营销做辅助")]),e.page.app.thirdassess.umeng&&e.page.app.thirdassess.umeng.androidAppKey&&""!=e.page.app.thirdassess.umeng.androidAppKey?a("div",{staticClass:"has-option"},[a("span",[e._v("已配置")])]):e._e()]),a("li",{staticClass:"umeng"},[a("div",{staticClass:"icon-wrap"}),a("div",{staticClass:"icon-txt"},[e._v("友盟推送")]),a("div",{staticClass:"icon-btn"},[a("a",{on:{click:function(t){return e.showModel("upush")}}},[e._v("去配置")])]),a("div",{staticClass:"icon-desc"},[e._v("专注于推送消息")]),e.page.app.thirdassess.upush&&e.page.app.thirdassess.upush.android_key&&""!=e.page.app.thirdassess.upush.android_key?a("div",{staticClass:"has-option"},[a("span",[e._v("已配置")])]):e._e()]),a("li",{staticClass:"xg"},[a("div",{staticClass:"icon-wrap"}),a("div",{staticClass:"icon-txt"},[e._v("信鸽推送")]),a("div",{staticClass:"icon-btn"},[a("a",{on:{click:function(t){return e.showModel("xg")}}},[e._v("去配置")])]),a("div",{staticClass:"icon-desc"},[e._v("专注于推送消息")]),e.page.app.thirdassess.xg&&e.page.app.thirdassess.xg.app_id&&""!=e.page.app.thirdassess.xg.app_id?a("div",{staticClass:"has-option"},[a("span",[e._v("已配置")])]):e._e()])])]),a("a-modal",{attrs:{title:"第三方配置",visible:e.page.visible,confirmLoading:e.page.confirmLoading,width:800},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("Form",{attrs:{form:e.form}},[e.page.model.show.weixin?a("div",[a("a-form-item",[a("a",{attrs:{href:e.page.helps.thirdassess.weixin,target:"_blank"}},[e._v("微信开放平台配置方法")])]),a("a-form-item",{attrs:{label:"App Id",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.weixin.app_id,callback:function(t){e.$set(e.page.app.thirdassess.weixin,"app_id",t)},expression:"page.app.thirdassess.weixin.app_id"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("微信开发者后台，提交应用后获取")])])],1),a("a-form-item",{attrs:{label:"App Secret",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.weixin.app_secret,callback:function(t){e.$set(e.page.app.thirdassess.weixin,"app_secret",t)},expression:"page.app.thirdassess.weixin.app_secret"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("微信开发者获取")])])],1),a("a-form-item",{attrs:{label:"微信登录",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-switch",{attrs:{checkedChildren:"开",unCheckedChildren:"关",defaultChecked:""},model:{value:e.page.app.thirdassess.weixin.login,callback:function(t){e.$set(e.page.app.thirdassess.weixin,"login",t)},expression:"page.app.thirdassess.weixin.login"}})],1)],1):e._e(),e.page.model.show.igetui?a("div",[a("a-form-item",[a("a",{attrs:{href:e.page.helps.thirdassess.getui,target:"_blank"}},[e._v("个推配置方法")])]),a("a-form-item",{attrs:{label:"AppID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.igetui.app_id,callback:function(t){e.$set(e.page.app.thirdassess.igetui,"app_id",t)},expression:"page.app.thirdassess.igetui.app_id"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1),a("a-form-item",{attrs:{label:"AppSecret",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.igetui.app_secret,callback:function(t){e.$set(e.page.app.thirdassess.igetui,"app_secret",t)},expression:"page.app.thirdassess.igetui.app_secret"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1),a("a-form-item",{attrs:{label:"AppKey",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.igetui.app_key,callback:function(t){e.$set(e.page.app.thirdassess.igetui,"app_key",t)},expression:"page.app.thirdassess.igetui.app_key"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1),a("a-form-item",{attrs:{label:"MasterSecret",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.igetui.master_secret,callback:function(t){e.$set(e.page.app.thirdassess.igetui,"master_secret",t)},expression:"page.app.thirdassess.igetui.master_secret"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1)],1):e._e(),e.page.model.show.baichuan?a("div",[a("a-form-item",[a("a",{attrs:{href:e.page.helps.thirdassess.baichuan,target:"_blank"}},[e._v("百川配置方法")])]),a("a-form-item",{attrs:{label:"百川appkey",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.baichuan.appkey,callback:function(t){e.$set(e.page.app.thirdassess.baichuan,"appkey",t)},expression:"page.app.thirdassess.baichuan.appkey"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("百川提交应用后获取")])])],1),a("a-form-item",{attrs:{label:"阿里妈妈appkey",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.baichuan.taokeAppkey,callback:function(t){e.$set(e.page.app.thirdassess.baichuan,"taokeAppkey",t)},expression:"page.app.thirdassess.baichuan.taokeAppkey"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("阿里妈妈提交应用后获取")])])],1),a("a-form-item",{attrs:{label:"安卓安全图",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("div",{staticStyle:{display:"none"}},[a("a-input",{ref:"baichuan.android",model:{value:e.page.app.thirdassess.baichuan.android,callback:function(t){e.$set(e.page.app.thirdassess.baichuan,"android",t)},expression:"page.app.thirdassess.baichuan.android"}})],1),a("a-row",[a("a-col",{attrs:{span:"4"}},[a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUpload},on:{change:e.handleChangeAndroid}},[a("a-button",{attrs:{type:"primary"}},[a("a-icon",{attrs:{type:"upload"}}),(e.page.app.thirdassess.baichuan.android="")?a("span",[e._v("上传")]):a("span",[e._v("替换")])],1)],1)],1),a("a-col",{attrs:{span:"18",offset:"1"}},[""!==e.page.app.baichuan.android?a("a",{attrs:{target:"_blank",href:e.page.app.baichuan.android}},[e._v("下载")]):e._e()])],1)],1),a("a-form-item",{attrs:{label:"苹果安全图",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-row",[a("a-col",{attrs:{span:"4"}},[a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUpload},on:{change:e.handleChangeIos}},[a("a-button",{attrs:{type:"primary"}},[a("a-icon",{attrs:{type:"upload"}}),(e.page.app.thirdassess.baichuan.android="")?a("span",[e._v("上传")]):a("span",[e._v("替换")])],1)],1)],1),a("a-col",{attrs:{span:"18",offset:"1"}},[""!==e.page.app.baichuan.ios?a("a",{attrs:{target:"_blank",href:e.page.app.baichuan.ios}},[e._v("下载")]):e._e()])],1)],1)],1):e._e(),e.page.model.show.umeng?a("div",[a("a-form-item",[a("a",{attrs:{href:e.page.helps.thirdassess.youmeng,target:"_blank"}},[e._v("友盟配置方法")])]),a("a-form-item",{attrs:{label:"苹果appkey",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.umeng.iOSAppKey,callback:function(t){e.$set(e.page.app.thirdassess.umeng,"iOSAppKey",t)},expression:"page.app.thirdassess.umeng.iOSAppKey"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1),a("a-form-item",{attrs:{label:"安卓appkey",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.umeng.androidAppKey,callback:function(t){e.$set(e.page.app.thirdassess.umeng,"androidAppKey",t)},expression:"page.app.thirdassess.umeng.androidAppKey"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1)],1):e._e(),e.page.model.show.upush?a("div",[a("a-form-item",[a("a",{attrs:{href:e.page.helps.thirdassess.youmeng,target:"_blank"}},[e._v("友盟配置方法")])]),a("a-form-item",{attrs:{label:"android_key",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.upush.android_key,callback:function(t){e.$set(e.page.app.thirdassess.upush,"android_key",t)},expression:"page.app.thirdassess.upush.android_key"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1),a("a-form-item",{attrs:{label:"App Master Secret",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.upush.android_secret,callback:function(t){e.$set(e.page.app.thirdassess.upush,"android_secret",t)},expression:"page.app.thirdassess.upush.android_secret"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1),a("a-form-item",{attrs:{label:"Umeng Message Secret",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.upush.android_message_secret,callback:function(t){e.$set(e.page.app.thirdassess.upush,"android_message_secret",t)},expression:"page.app.thirdassess.upush.android_message_secret"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1)],1):e._e(),e.page.model.show.xg?a("div",[a("a-form-item",[a("a",{attrs:{href:e.page.helps.thirdassess.xg,target:"_blank"}},[e._v("信鸽配置方法")])]),a("a-form-item",{attrs:{label:"app_id",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.xg.app_id,callback:function(t){e.$set(e.page.app.thirdassess.xg,"app_id",t)},expression:"page.app.thirdassess.xg.app_id"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1),a("a-form-item",{attrs:{label:"SECRET KEY",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:""},model:{value:e.page.app.thirdassess.xg.app_key,callback:function(t){e.$set(e.page.app.thirdassess.xg,"app_key",t)},expression:"page.app.thirdassess.xg.app_key"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"})])],1)],1):e._e()]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a-button",{attrs:{loading:e.page.confirmLoading,type:"primary",block:""},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)],1)},s=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),i=a("c32d"),o=a.n(i),p=a("2af9"),l=a("4875"),d=a("5880");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"Page",components:{STable:p["o"],Ellipsis:p["f"]},data:function(){return{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}},form:this.$form.createForm(this),queryParam:{},page:{visible:!1,confirmLoading:!1,app:{thirdassess:{weixin:{app_id:"",app_secret:"",login:!1},igetui:{app_id:"",app_secret:"",app_key:"",master_secret:""},baichuan:{appkey:"",taokeAppkey:"",ios:"",android:""},umeng:{iOSAppKey:"",androidAppKey:""},upush:{android_key:"",android_secret:"",android_message_secret:""},xg:{app_id:"",app_key:""}},baichuan:{ios:"",android:""}},model:{show:{weixin:!1,igetui:!1,baichuan:!1,umeng:!1,xg:!1}},helps:{thirdassess:{baichuan:"https://www.kancloud.cn/shaibaoj01/taokeapp/613219",youmeng:"https://www.kancloud.cn/shaibaoj01/taokeapp/613222",getui:"https://www.kancloud.cn/shaibaoj01/taokeapp/613220",weixin:"https://www.kancloud.cn/shaibaoj01/taokeapp/613221"}}}}},created:function(){1!==this.funApp&&this.$router.push({name:"vipApp"})},computed:u({},Object(d["mapGetters"])(["funApp"])),mounted:function(){this.init()},methods:{init:function(){this.query()},query:function(){var e=this;Object(l["i"])().then((function(t){t.data.app&&t.data.app.thirdassess&&t.data.app.thirdassess.weixin&&(e.page.app.baichuan.ios=t.data.app.thirdassess.baichuan.ios,e.page.app.baichuan.android=t.data.app.thirdassess.baichuan.android,e.page.app.thirdassess.weixin.app_id=t.data.app.thirdassess.weixin.app_id,e.page.app.thirdassess.weixin.app_secret=t.data.app.thirdassess.weixin.app_secret,e.page.app.thirdassess.weixin.login=t.data.app.thirdassess.weixin.login,e.page.app.thirdassess.igetui.app_id=t.data.app.thirdassess.igetui.app_id,e.page.app.thirdassess.igetui.app_secret=t.data.app.thirdassess.igetui.app_secret,e.page.app.thirdassess.igetui.app_key=t.data.app.thirdassess.igetui.app_key,e.page.app.thirdassess.igetui.master_secret=t.data.app.thirdassess.igetui.master_secret,e.page.app.thirdassess.baichuan.appkey=t.data.app.thirdassess.baichuan.appkey,e.page.app.thirdassess.baichuan.taokeAppkey=t.data.app.thirdassess.baichuan.taokeAppkey,e.page.app.thirdassess.baichuan.ios=t.data.app.thirdassess.baichuan.ios,e.page.app.thirdassess.baichuan.android=t.data.app.thirdassess.baichuan.android,e.page.app.thirdassess.umeng.iOSAppKey=t.data.app.thirdassess.umeng.iOSAppKey,e.page.app.thirdassess.umeng.androidAppKey=t.data.app.thirdassess.umeng.androidAppKey,t.data.app&&t.data.app.thirdassess&&t.data.app.thirdassess.upush&&(e.page.app.thirdassess.upush.android_key=t.data.app.thirdassess.upush.android_key,e.page.app.thirdassess.upush.android_secret=t.data.app.thirdassess.upush.android_secret,e.page.app.thirdassess.upush.android_message_secret=t.data.app.thirdassess.upush.android_message_secret),t.data.app&&t.data.app.thirdassess&&t.data.app.thirdassess.xg&&(e.page.app.thirdassess.xg.app_id=t.data.app.thirdassess.xg.app_id,e.page.app.thirdassess.xg.app_key=t.data.app.thirdassess.xg.app_key)),t.data.app}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}},handleChangeAndroid:function(e){e.file.status,"done"===e.file.status?(this.page.app.thirdassess.baichuan.android=e.file.response.data.item.img,this.page.app.baichuan.android=e.file.response.data.item.img):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},handleChangeIos:function(e){e.file.status,"done"===e.file.status?(this.page.app.thirdassess.baichuan.ios=e.file.response.data.item.img,this.page.app.baichuan.ios=e.file.response.data.item.img):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||this.$message.error("上传图片只能是jpg/png/gif格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a},handleSubmit:function(){var e=this;this.page.app.thirdassess.baichuan.android=this.page.app.baichuan.android,this.page.app.thirdassess.baichuan.ios=this.page.app.baichuan.ios,this.page.confirmLoading=!0,Object(l["w"])({thirdassess:JSON.stringify(this.page.app.thirdassess),baichuan:JSON.stringify(this.page.app.baichuan)}).then((function(t){var a=t||{},r=a.info;0===(r||{}).status&&e.$message.success("保存成功"),e.page.visible=!1,e.page.confirmLoading=!1}))},showModel:function(e){this.page.visible=!0,this.page.model.show.weixin=!1,this.page.model.show.igetui=!1,this.page.model.show.baichuan=!1,this.page.model.show.umeng=!1,this.page.model.show.upush=!1,this.page.model.show.xg=!1,"weixin"===e?this.page.model.show.weixin=!0:"igetui"===e?this.page.model.show.igetui=!0:"baichuan"===e?this.page.model.show.baichuan=!0:"umeng"===e?this.page.model.show.umeng=!0:"upush"===e?this.page.model.show.upush=!0:"xg"===e&&(this.page.model.show.xg=!0)},handleOk:function(e){this.page.visible=!1,this.page.confirmLoading=!1},handleCancel:function(e){this.page.visible=!1}}},f=m,h=(a("43de"),a("2877")),g=Object(h["a"])(f,r,s,!1,null,"2de0f818",null);t["default"]=g.exports},2934:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o}));var r=a("b775"),s={list:"/api/common/channel/items",getGoodsItems:"/api/common/goods/list",getGoodsView:"/api/common/goods/view"};function n(e){return Object(r["b"])({url:s.getGoodsView,method:"post",data:e})}function i(e){return Object(r["b"])({url:s.getGoodsItems,method:"post",data:e})}function o(e){return Object(r["b"])({url:s.list,method:"post",data:e})}},"3cc9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1,title:"APP管理"}},[a("a-card",{attrs:{bordered:!1}},[a("a-row",[a("a-col",{attrs:{sm:12,xs:24}},[a("div",{staticClass:"app"},[a("p",{staticClass:"title"},[e._v("共享版本")]),2===e.page.app.mode?a("img",{staticClass:"qrcode",staticStyle:{width:"150px"},attrs:{src:e.page.qrcode.release}}):e._e(),2===e.page.app.mode?a("span",{staticClass:"app-status app-status-ok"},[e._v("已开通")]):a("span",{staticClass:"app-status"},[e._v("未开通")]),a("p",{staticClass:"btn"},[a("a-button",{attrs:{type:"primary",htmlType:"button"},on:{click:e.handleMode}},[e._v(e._s(2===e.page.app.mode?"一键关闭共享版本":"一键开通共享版本"))])],1),2===e.page.app.mode?a("span",[e._v("共享版本直接分享此二维码用户下载")]):e._e(),a("span",[e._v("注：开通独立版本后，请保持共享版本关闭")])])]),a("a-col",{attrs:{sm:12,xs:24}},[a("div",{staticClass:"line"}),a("div",{staticClass:"app"},[a("p",{staticClass:"title"},[e._v("独立版本")]),a("span",{staticClass:"app-status"},[e._v(e._s(e.appDate))]),a("p",{staticClass:"btn"},[a("router-link",{attrs:{to:{name:"appPackage"}}},[a("a-button",{attrs:{type:"primary",htmlType:"button",size:"large"}},[e._v("独立版本管理")])],1)],1),a("span",[e._v("独立版本用户更全面专业的功能")]),a("span",[e._v("注：开通独立版本后，共享版本自动关闭")])])])],1)],1)],1)},s=[],n=a("c32d"),i=a.n(n),o=a("2af9"),p=a("4875"),l={name:"Page",components:{STable:o["o"],Ellipsis:o["f"]},data:function(){return{page:{qrcode:{release:""},app:{mode:0}},mdl:{},advanced:!1,queryParam:{},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1}},computed:{appDate:function(){return this.page.app&&1===this.page.app.status?this.page.app.expire_date.substring(0,10)+"到期":"未开通"}},created:function(){this.init()},methods:{moment:i.a,init:function(){var e=this;Object(p["g"])({}).then((function(t){t.data.qrcode&&(e.page.qrcode.debug=t.data.qrcode.debug,e.page.qrcode.release=t.data.qrcode.release),t.data.app&&(e.page.app.mode=t.data.app.mode,e.page.app=t.data.app)}))},handleMode:function(){var e=this,t=2===this.page.app.mode?0:2;Object(p["v"])({mode:t}).then((function(t){var a=t||{},r=a.info;0===(r||{}).status&&e.$message.success(t.info.status_err),e.init()}))},query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:i()(new Date)}}}},d=l,c=(a("b88d"),a("2877")),u=Object(c["a"])(d,r,s,!1,null,"7adffbca",null);t["default"]=u.exports},4087:function(e,t,a){"use strict";var r=a("f0c3"),s=a.n(r);s.a},"40f0":function(e,t,a){},"43de":function(e,t,a){"use strict";var r=a("f3ee"),s=a.n(r);s.a},4875:function(e,t,a){"use strict";a.d(t,"u",(function(){return n})),a.d(t,"h",(function(){return i})),a.d(t,"p",(function(){return o})),a.d(t,"w",(function(){return p})),a.d(t,"i",(function(){return l})),a.d(t,"v",(function(){return d})),a.d(t,"g",(function(){return c})),a.d(t,"t",(function(){return u})),a.d(t,"q",(function(){return m})),a.d(t,"s",(function(){return f})),a.d(t,"j",(function(){return h})),a.d(t,"r",(function(){return g})),a.d(t,"f",(function(){return b})),a.d(t,"e",(function(){return _})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return w})),a.d(t,"l",(function(){return y})),a.d(t,"m",(function(){return k})),a.d(t,"o",(function(){return C})),a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return j})),a.d(t,"n",(function(){return x})),a.d(t,"k",(function(){return P}));var r=a("b775"),s={getAppView:"/api/user/app/app/view",updateApp:"/api/user/app/app/update",changeVersion:"/api/user/app/app/changeVersion",getAppMobanView:"/api/user/app/moban/view",updateAppMoban:"/api/user/app/moban/update",installs:"/api/user/app/install/list",taskItems:"/api/user/app/push/task_list",pushItems:"/api/user/app/push/list",pushView:"/api/user/app/push/view",pushUpdateDetail:"/api/user/app/push/update_detail",pushUpdate:"/api/user/app/push/update",getPackageItemsUpdate:"/api/user/app/package/list_update",getPackageItems:"/api/user/app/package/list",getPackageView:"/api/user/app/package/view",getPackageViewLog:"/api/user/app/package/view_log",updatePackageUpdate:"/api/user/app/package/update",packagePack:"/api/user/app/package/pack",updatePackageUpdateAndroid:"/api/user/app/package/update_android",updatePackageAndroidUpdate:"/api/user/app/package/update_android_update",updatePackageUpdateUpdateAndroid:"/api/user/app/package/update_update_android",updateDownloadUpdate:"/api/user/app/package/update_download",getPubView:"/api/user/app/pub/view",updatePubChange:"/api/user/app/pub/change",getThirdassessView:"/api/user/app/thirdassess/view",updateThirdassessUpdate:"/api/user/app/thirdassess/update",updatePackageUploadAndroidUpdate:"/api/user/app/package/upload_android_update"};function n(e){return Object(r["b"])({url:s.updatePackageUploadAndroidUpdate,method:"post",data:e})}function i(e){return Object(r["b"])({url:s.pushView,method:"post",data:e})}function o(e){return Object(r["b"])({url:s.updateDownloadUpdate,method:"post",data:e})}function p(e){return Object(r["b"])({url:s.updateThirdassessUpdate,method:"post",data:e})}function l(e){return Object(r["b"])({url:s.getThirdassessView,method:"post",data:e})}function d(e){return Object(r["b"])({url:s.updatePubChange,method:"post",data:e})}function c(e){return Object(r["b"])({url:s.getPubView,method:"post",data:e})}function u(e){return Object(r["b"])({url:s.updatePackageUpdateUpdateAndroid,method:"post",data:e})}function m(e){return Object(r["b"])({url:s.updatePackageAndroidUpdate,method:"post",data:e})}function f(e){return Object(r["b"])({url:s.updatePackageUpdateAndroid,method:"post",data:e})}function h(e){return Object(r["b"])({url:s.packagePack,method:"post",data:e})}function g(e){return Object(r["b"])({url:s.updatePackageUpdate,method:"post",data:e})}function b(e){return Object(r["b"])({url:s.getPackageViewLog,method:"post",data:e})}function _(e){return Object(r["b"])({url:s.getPackageView,method:"post",data:e})}function v(e){return Object(r["b"])({url:s.getPackageItems,method:"post",data:e})}function w(e){return Object(r["b"])({url:s.getPackageItemsUpdate,method:"post",data:e})}function y(e){return Object(r["b"])({url:s.pushUpdate,method:"post",data:e})}function k(e){return Object(r["b"])({url:s.pushUpdateDetail,method:"post",data:e})}function C(e){return Object(r["b"])({url:s.updateApp,method:"post",data:e})}function O(e){return Object(r["b"])({url:s.getAppView,method:"post",data:e})}function j(e){return Object(r["b"])({url:s.installs,method:"post",data:e})}function x(e){return Object(r["b"])({url:s.taskItems,method:"post",data:e})}function P(e){return Object(r["b"])({url:s.pushItems,method:"post",data:e})}},"4cad":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{width:"100%"},attrs:{bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t,"noTitleKey")}}},["base"===e.noTitleKey?a("Base-page"):e._e()],1)},s=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("c32d"),o=a.n(i),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{"body-style":{padding:"24px 2px"},bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"App名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入名字"}]}],expression:"['name', {rules: [{required: true, message: '请输入名字'}]}]"}],staticStyle:{width:"600px"},attrs:{placeholder:"**App名称"}})],1),a("a-form-item",{attrs:{label:"APP图标",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["icon",{rules:[{required:!1,message:""}]}],expression:"['icon', {rules: [{required: false, message: ''}]}]"}],attrs:{type:"hidden",placeholder:"**"}}),a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[a("div",{staticStyle:{padding:"20px 0"}},[a("div",{staticClass:"app-icon"},[a("i",{staticClass:"cmsfont icon-jia"}),e.iconUrl?a("img",{attrs:{src:e.iconUrl}}):e._e(),a("a",{staticClass:"icons-hover-bg"},[e._v("\n              图标上传\n            ")])])])])],1),a("a-form-item",{attrs:{label:"启动画面",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["startup_pic",{rules:[{required:!1,message:""}]}],expression:"['startup_pic', {rules: [{required: false, message: ''}]}]"}],attrs:{type:"hidden",placeholder:"**"}}),a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUploadStartUpPic},on:{change:e.handleChangeStartUpPic}},[a("div",{staticStyle:{padding:"20px 0"}},[a("div",{staticClass:"app-icon static-icon"},[a("i",{staticClass:"cmsfont icon-jia"}),e.startupUrl?a("img",{attrs:{src:e.startupUrl}}):e._e(),a("a",{staticClass:"icons-hover-bg"},[e._v("\n              图标上传\n            ")])])])])],1),a("a-form-item",{attrs:{label:"简介描述",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["brief",{rules:[{required:!1,message:""}]}],expression:"[ 'brief', {rules: [{ required: false, message: '' }]} ]"}],attrs:{rows:"10",placeholder:""}})],1),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("保存")])],1)],1)],1)},l=[],d=(a("7f7f"),a("88bc")),c=a.n(d),u=a("4875"),m=a("ac0d"),f=a("5880");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={mixins:[m["b"],m["c"]],components:{},computed:g({},Object(f["mapGetters"])(["token"]),{iconUrl:function(){return this.page.icon.url?this.page.icon.url:""},startupUrl:function(){return this.page.startup_pic.url?this.page.startup_pic.url:""}}),data:function(){return{labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:22}},form:this.$form.createForm(this),page:{uploading:!0,icon:{url:""},startup_pic:{url:""}}}},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.query()},query:function(){var e=this,t=this.form.setFieldsValue;Object(u["a"])().then((function(a){a.data.app&&e.$nextTick((function(){var r=c()(a.data.app,["name","icon","startup_pic","brief"]);r.icon=JSON.stringify(a.data.app.icon),r.startup_pic=JSON.stringify(a.data.app.startup_pic),t(r),e.page.icon.url=a.data.app.icon.url,e.page.startup_pic.url=a.data.app.startup_pic.url}))}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.setFieldsValue({icon:JSON.stringify(this.page.icon),startup_pic:JSON.stringify(this.page.startup_pic)}),this.form.validateFields((function(e,a){e||Object(u["o"])(a).then((function(e){var a=e||{},r=a.info;0===(r||{}).status&&t.$message.success("保存成功")}))}))},handleChange:function(e){e.file.status,"done"===e.file.status?this.page.icon.url=e.file.response.data.item.img:"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||this.$message.error("上传图片只能是jpg/png/gif格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a},handleChangeStartUpPic:function(e){e.file.status,"done"===e.file.status?this.page.startup_pic.url=e.file.response.data.item.img:"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUploadStartUpPic:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||this.$message.error("上传图片只能是jpg/png/gif格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a}}},_=b,v=(a("5364"),a("2877")),w=Object(v["a"])(_,p,l,!1,null,"6ebcb1e1",null),y=w.exports;function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={name:"Page",components:{BasePage:y},data:function(){return{noTitleKey:"base",tabListNoTitle:[{key:"base",tab:"基础设置"}]}},created:function(){1!==this.funApp&&this.$router.push({name:"vipApp"})},computed:C({},Object(f["mapGetters"])(["funApp"])),methods:{handleTabChange:function(e,t){this[t]=e},query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}}}},j=O,x=Object(v["a"])(j,r,s,!1,null,null,null);t["default"]=x.exports},"50cc":function(e,t,a){},5364:function(e,t,a){"use strict";var r=a("f71c"),s=a.n(r);s.a},"7f61":function(e,t,a){},"81d1":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head-info",class:e.center&&"center"},[a("span",[e._t("title",[e._v(e._s(e.title))])],2),a("p",[e._t("content",[e._v(e._s(e.content))])],2),e.bordered?a("em"):e._e()])},s=[],n={name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0}}},i=n,o=(a("4087"),a("2877")),p=Object(o["a"])(i,r,s,!1,null,"3fd6244e",null);t["a"]=p.exports},"88bc":function(e,t,a){(function(t){var a=1/0,r=9007199254740991,s="[object Arguments]",n="[object Function]",i="[object GeneratorFunction]",o="[object Symbol]",p="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=p||l||Function("return this")();function c(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function u(e,t){var a=-1,r=e?e.length:0,s=Array(r);while(++a<r)s[a]=t(e[a],a,e);return s}function m(e,t){var a=-1,r=t.length,s=e.length;while(++a<r)e[s+a]=t[a];return e}var f=Object.prototype,h=f.hasOwnProperty,g=f.toString,b=d.Symbol,_=f.propertyIsEnumerable,v=b?b.isConcatSpreadable:void 0,w=Math.max;function y(e,t,a,r,s){var n=-1,i=e.length;a||(a=j),s||(s=[]);while(++n<i){var o=e[n];t>0&&a(o)?t>1?y(o,t-1,a,r,s):m(s,o):r||(s[s.length]=o)}return s}function k(e,t){return e=Object(e),C(e,t,(function(t,a){return a in e}))}function C(e,t,a){var r=-1,s=t.length,n={};while(++r<s){var i=t[r],o=e[i];a(o,i)&&(n[i]=o)}return n}function O(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,s=w(a.length-t,0),n=Array(s);while(++r<s)n[r]=a[t+r];r=-1;var i=Array(t+1);while(++r<t)i[r]=a[r];return i[t]=n,c(e,this,i)}}function j(e){return S(e)||P(e)||!!(v&&e&&e[v])}function x(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function P(e){return A(e)&&h.call(e,"callee")&&(!_.call(e,"callee")||g.call(e)==s)}var S=Array.isArray;function q(e){return null!=e&&D(e.length)&&!$(e)}function A(e){return U(e)&&q(e)}function $(e){var t=I(e)?g.call(e):"";return t==n||t==i}function D(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function I(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return!!e&&"object"==typeof e}function T(e){return"symbol"==typeof e||U(e)&&g.call(e)==o}var E=O((function(e,t){return null==e?{}:k(e,u(y(t,1),x))}));e.exports=E}).call(this,a("c8ba"))},"8d7d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1,title:"安装统计"}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"日期"}},[a("a-range-picker",{staticStyle:{width:"100%"},attrs:{ranges:{"今日":[e.moment(),e.moment()],"本周":[e.moment().startOf("week"),e.moment().endOf("week")],"当月":[e.moment().startOf("month"),e.moment().endOf("month")]}},model:{value:e.queryParam.createRangePicker,callback:function(t){e.$set(e.queryParam,"createRangePicker",t)},expression:"queryParam.createRangePicker"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"goodslink",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+r.num_iid}},[e._v(e._s(t))])]}},{key:"money",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://uland.taobao.com/quan/detail?sellerId="+r.user_num_id+"&activityId="+r.activity_id}},[e._v("查看")])]}},{key:"price",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:"https://www.haopintui.net/?coupon=1&q="+encodeURIComponent("https://detail.tmall.com/item.htm?id="+r.num_iid)}},[e._v(e._s(t))])]}},{key:"image",fn:function(e,t){return[a("a",{attrs:{target:"_blank",href:"https://detail.tmall.com/item.htm?id="+t.num_iid}},[a("img",{staticStyle:{"max-width":"80px"},attrs:{src:t.pic_url}})])]}},{key:"status",fn:function(t){return a("span",{},[a("a-badge",{attrs:{status:e._f("statusTypeFilter")(t),text:e._f("statusFilter")(t)}})],1)}},{key:"income",fn:function(t){return a("span",{},[a("ellipsis",{attrs:{length:4,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"action",fn:function(t,r){return a("span",{},[[0===r.status?a("a",{on:{click:function(t){return e.handlePass(r)}}},[e._v("通过")]):e._e()]],2)}}])})],1)},s=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("c32d"),o=a.n(i),p=a("2af9"),l=a("4875"),d=a("5880");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"Page",components:{STable:p["o"],Ellipsis:p["f"]},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"时间",dataIndex:"create_date",width:"160px"},{title:"client_id",dataIndex:"client_id"},{title:"会员",dataIndex:"member.user_name",width:120},{title:"vendor",dataIndex:"vendor",width:80},{title:"model",align:"center",dataIndex:"model",width:180},{title:"系统",dataIndex:"platform",width:100,align:"center"}],loadData:function(t){return Object(l["b"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1}},created:function(){1!==this.funApp&&this.$router.push({name:"vipApp"})},computed:u({},Object(d["mapGetters"])(["funApp"])),methods:{moment:o.a,query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}}}},f=m,h=a("2877"),g=Object(h["a"])(f,r,s,!1,null,null,null);t["default"]=g.exports},"8e58":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{width:"100%"},attrs:{"body-style":{padding:"30px 0px"},bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t,"noTitleKey")}}},["items"===e.noTitleKey?a("items-page"):"task"===e.noTitleKey?a("task-page"):"data"===e.noTitleKey?a("Data-page"):e._e()],1)},s=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("c32d"),o=a.n(i),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"创建时间"}},[a("a-range-picker",{staticStyle:{width:"100%"},attrs:{ranges:{"今日":[e.moment(),e.moment()],"本周":[e.moment().startOf("week"),e.moment().endOf("week")],"当月":[e.moment().startOf("month"),e.moment().endOf("month")]}},model:{value:e.queryParam.createRangePicker,callback:function(t){e.$set(e.queryParam,"createRangePicker",t)},expression:"queryParam.createRangePicker"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"30px"}},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.modal.edit({})}}},[e._v("发布推送消息")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"name",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:r.url}},[a("ellipsis",{attrs:{length:30,tooltip:""}},[e._v(e._s(t))])],1)]}},{key:"platformName",fn:function(t,r){return["WechatTimeLine"==r.platform?a("span",[e._v("朋友圈")]):e._e(),"WechatSession"==r.platform?a("span",[e._v("群好友")]):e._e()]}},{key:"action",fn:function(t,r){return a("span",{},[[0===r.status?a("a",{on:{click:function(t){return e.handlePass(r)}}},[e._v("通过")]):e._e()]],2)}}])}),a("edit-modal",{ref:"modal",on:{ok:e.query}})],1)},l=[],d=a("2af9"),c=a("4875"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"发布消息",width:600,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("div",[a("a-form-item",{attrs:{label:"标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:""}]}],expression:"['title', {rules: [{required: true, message: ''}]}]"}],attrs:{placeholder:"**标题"}})],1),a("a-form-item",{attrs:{label:"内容",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{rules:[{required:!0,message:"请输入内容"}]}],expression:"['content', {rules: [{required: true, message: '请输入内容'}]}]"}],attrs:{rows:4,placeholder:"文案，精美简洁的文案，有利于客户成交"}})],1),a("a-form-item",{attrs:{label:"图片",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pic_url",{rules:[{required:!1,message:""}]}],expression:"['pic_url', {rules: [{ required: false, message: '' }]} ]"}],attrs:{placeholder:"**"},on:{change:e.changeImg}}),a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传\n            ")],1)],1)],1)],1)])],1),a("template",{slot:"footer"},[a("p",[a("a-button",{key:"forward",attrs:{loading:e.confirmLoading,type:"primary",block:""},on:{click:function(t){return e.handleSubmit(0)}}},[e._v("立即推送")])],1),a("p",[a("a-button",{key:"forward",attrs:{loading:e.confirmLoading,type:"primary",block:""},on:{click:function(t){return e.handleSubmit(1)}}},[e._v("添加到推送库")])],1)])],2)},m=[],f=(a("7f7f"),a("2934")),h=a("5880");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={name:"EditModal",components:{},computed:b({},Object(h["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),content:"",cats:[],previewImg:""}},created:function(){this.init()},methods:{init:function(){var e=this;Object(f["c"])().then((function(t){t.data.items&&(e.cats=t.data.items)}))},edit:function(e){var t=this;this.visible=!0,this.$nextTick((function(){t.form.resetFields()}))},handleSubmit:function(e){var t=this,a=this.form.validateFields;this.confirmLoading=!0,a((function(a,r){a?t.confirmLoading=!1:Object(c["l"])(Object.assign(r,{task:e})).then((function(e){0===e.info.status&&(1===status?t.$message.success("提交成功"):t.$message.success("保存成功"),t.$emit("ok",r),t.visible=!1),t.confirmLoading=!1}))}))},handleChange:function(e){e.file.status,"done"===e.file.status?this.form.setFieldsValue({pic_url:e.file.response.data.item.img}):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||this.$message.error("上传图片只能是jpg/png/gif格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a},handleCancel:function(){this.visible=!1},setContent:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({content:e.content})}))},setPic:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({pic_url:e})})),this.previewImg=e},changeValue:function(e){var t=e.target.value;this.href=t},changeImg:function(e){var t=e.target.value;this.previewImg=t}}},v=_,w=(a("c930"),a("2877")),y=Object(w["a"])(v,u,m,!1,null,"a7cc1a16",null),k=y.exports,C={name:"Brand",components:{STable:d["o"],EditModal:k,Ellipsis:d["f"]},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"标题",dataIndex:"title",width:150},{title:"内容",dataIndex:"content"},{title:"状态",dataIndex:"status_name",width:80},{title:"时间",align:"center",dataIndex:"create_date",width:180},{title:"操作",dataIndex:"action",fixed:"right",width:50,align:"center"}],loadData:function(t){return Object(c["k"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1}},created:function(){},methods:{moment:o.a,query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}}}},O=C,j=Object(w["a"])(O,p,l,!1,null,null,null),x=j.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"新用户提醒",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["notice_install",{initialValue:0,rules:[{required:!1,message:""}]}],expression:"['notice_install', {initialValue: 0,rules: [{required: false, message: ''}]}]"}],staticStyle:{width:"400px"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("有新用户安卓app，给用户发送的消息提醒")])])],1),a("a-form-item",{attrs:{label:"个推推送通道",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["push_igetui",{rules:[{required:!1}]}],expression:"[ 'push_igetui',{rules: [{ required : false }]} ]"}],staticStyle:{width:"120px"}},[a("a-select-option",{attrs:{value:0}},[e._v("关闭")]),a("a-select-option",{attrs:{value:1}},[e._v("开通")])],1)],1),a("a-form-item",{attrs:{label:"友盟推送通道",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["push_umeng",{rules:[{required:!1}]}],expression:"[ 'push_umeng',{rules: [{ required : false }]} ]"}],staticStyle:{width:"120px"}},[a("a-select-option",{attrs:{value:0}},[e._v("关闭")]),a("a-select-option",{attrs:{value:1}},[e._v("开通")])],1)],1),a("a-form-item",{attrs:{label:"信鸽推送通道",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["push_xg",{rules:[{required:!1}]}],expression:"[ 'push_xg',{rules: [{ required : false }]} ]"}],staticStyle:{width:"120px"}},[a("a-select-option",{attrs:{value:0}},[e._v("关闭")]),a("a-select-option",{attrs:{value:1}},[e._v("开通")])],1)],1),a("a-form-item",{attrs:{label:"任务间隔时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task_times",{initialValue:0,rules:[{required:!1,message:""}]}],expression:"['task_times', {initialValue: 0,rules: [{required: false, message: ''}]}]"}],staticStyle:{width:"600px"},attrs:{placeholder:"任务间隔秒"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("建议设置2小时(7200)以上,群推任务建议每天10个以内")])])],1),a("a-form-item",{attrs:{label:"任务每天开始时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task_day_start_time",{rules:[{required:!1,message:""}]}],expression:"['task_day_start_time', {rules: [{required: false, message: ''}]}]"}],attrs:{format:"HH:mm:ss"}})],1),a("a-form-item",{attrs:{label:"任务每天结束时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task_day_end_time",{rules:[{required:!1,message:""}]}],expression:"['task_day_end_time', {rules: [{required: false, message: ''}]}]"}],attrs:{format:"HH:mm:ss"}})],1),a("a-form-item",{attrs:{wrapperCol:{span:12}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("保存")])],1)],1)],1)},S=[],q=a("88bc"),A=a.n(q),$=a("ac0d");function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={mixins:[$["b"],$["c"]],components:{},computed:I({},Object(h["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},form:this.$form.createForm(this),page:{uploading:!0,push:{push_igetui:!1,push_umeng:!1,push_xg:!1}}}},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.query()},query:function(){var e=this,t=this.form.setFieldsValue;Object(c["h"])().then((function(a){a.data.app_detail&&e.$nextTick((function(){var e=A()(a.data.app_detail,["notice_install","push_igetui","push_umeng","push_xg","task_times","task_day_start_time","task_day_end_time"]);e.task_day_start_time=o()(o()().format("YYYY-MM-DD")+" "+a.data.app_detail.task_day_start_time),e.task_day_end_time=o()(o()().format("YYYY-MM-DD")+" "+a.data.app_detail.task_day_end_time),t(e)}))}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||(a.task_day_start_time&&(a.task_day_start_time=o()(a.task_day_start_time).format("HH:mm:ss")),a.task_day_end_time&&(a.task_day_end_time=o()(a.task_day_end_time).format("HH:mm:ss")),Object(c["m"])(a).then((function(e){var a=e||{},r=a.info;0===(r||{}).status&&t.$message.success("保存成功")})))}))},handleChange:function(e){e.file.status,"done"===e.file.status?this.form.setFieldsValue({logoTxt:e.file.response.data.item.img}):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||this.$message.error("上传图片只能是jpg/png/gif格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a}}},T=U,E=Object(w["a"])(T,P,S,!1,null,null,null),R=E.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"创建时间"}},[a("a-range-picker",{staticStyle:{width:"100%"},attrs:{ranges:{"今日":[e.moment(),e.moment()],"本周":[e.moment().startOf("week"),e.moment().endOf("week")],"当月":[e.moment().startOf("month"),e.moment().endOf("month")]}},model:{value:e.queryParam.createRangePicker,callback:function(t){e.$set(e.queryParam,"createRangePicker",t)},expression:"queryParam.createRangePicker"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"30px"}},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.modal.edit({})}}},[e._v("发布推送消息")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"name",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:r.url}},[a("ellipsis",{attrs:{length:30,tooltip:""}},[e._v(e._s(t))])],1)]}},{key:"platformName",fn:function(t,r){return["WechatTimeLine"==r.platform?a("span",[e._v("朋友圈")]):e._e(),"WechatSession"==r.platform?a("span",[e._v("群好友")]):e._e()]}},{key:"action",fn:function(t,r){return a("span",{},[[0===r.status?a("a",{on:{click:function(t){return e.handlePass(r)}}},[e._v("通过")]):e._e()]],2)}}])}),a("edit-modal",{ref:"modal",on:{ok:e.query}})],1)},F=[],V={name:"Brand",components:{STable:d["o"],EditModal:k,Ellipsis:d["f"]},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"标题",dataIndex:"title",fixed:"left",width:150},{title:"内容",dataIndex:"content"},{title:"状态",dataIndex:"status_name",width:80},{title:"时间",align:"center",dataIndex:"create_date",width:180},{title:"操作",dataIndex:"action",fixed:"right",width:50,align:"center"}],loadData:function(t){return Object(c["n"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1}},created:function(){},methods:{moment:o.a,query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}}}},N=V,L=Object(w["a"])(N,K,F,!1,null,null,null),M=L.exports;function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={name:"Page",components:{ItemsPage:x,TaskPage:M,DataPage:R},data:function(){return{noTitleKey:"items",tabListNoTitle:[{key:"items",tab:"发送记录"},{key:"task",tab:"任务记录"},{key:"data",tab:"设置"}]}},created:function(){1!==this.funApp&&this.$router.push({name:"vipApp"})},computed:B({},Object(h["mapGetters"])(["funApp"])),methods:{handleTabChange:function(e,t){this[t]=e},query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}}}},H=G,Y=Object(w["a"])(H,r,s,!1,null,null,null);t["default"]=Y.exports},9433:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"App默认PID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_pid",{rules:[{required:!1,message:""}]}],expression:"[ 'app_pid', {rules: [{ required: false, message: '' }]} ]"}],staticStyle:{width:"620px"},attrs:{placeholder:"例如:mm_111111_11111_11111"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("App默认PID")])])],1),a("a-form-item",{staticStyle:{"padding-left":"60px"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("保存")])],1)],1)],1)},s=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("88bc"),o=a.n(i),p=a("1336"),l=a("ac0d"),d=a("5880");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={mixins:[l["b"],l["c"]],components:{},computed:u({},Object(d["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:22}},form:this.$form.createForm(this),page:{uploading:!0}}},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.query()},query:function(){var e=this,t=this.form.setFieldsValue;Object(p["h"])().then((function(a){a.data.item&&e.$nextTick((function(){t(o()(a.data.item,["app_pid"]))}))}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(p["m"])(a).then((function(e){var a=e||{},r=a.info;0===(r||{}).status&&t.$message.success("保存成功")}))}))}}},f=m,h=a("2877"),g=Object(h["a"])(f,r,s,!1,null,null,null);t["default"]=g.exports},b76f:function(e,t,a){"use strict";var r=a("50cc"),s=a.n(r);s.a},b88d:function(e,t,a){"use strict";var r=a("40f0"),s=a.n(r);s.a},c930:function(e,t,a){"use strict";var r=a("7f61"),s=a.n(r);s.a},e4e0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{width:"100%"},attrs:{"body-style":{padding:"30px 0px"},bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t,"noTitleKey")}}},["pack"===e.noTitleKey?a("pack-page"):e._e(),"data"===e.noTitleKey?a("data-page"):e._e(),"download"===e.noTitleKey?a("download-page"):e._e(),"log"===e.noTitleKey?a("log-page"):e._e()],1)},s=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("c32d"),o=a.n(i),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-card",{attrs:{bordered:!1}},[a("a-row",[a("a-col",{attrs:{sm:8,xs:24}},[a("a-progress",{attrs:{type:"circle",percent:e.page.pack.android.percent,format:function(t){return t>0?""+e.page.pack.android.prompt+t+" %":""+e.page.pack.android.prompt}}}),0!=e.page.pack.android.status?a("p",[a("a-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.package_ok(1)}}},[e._v("安卓打包新版")])],1):e._e()],1),a("a-col",{attrs:{sm:8,xs:24}},[a("div",{staticClass:"item-block"},[a("img",{staticStyle:{width:"100px"},attrs:{src:e.page.qrcode.release}}),a("div",{staticClass:"btn"},[e._v("\n              此为正式版本二维码，测试请点对应行扫码测试\n              "+e._s(e.page.pack.android.prompt)+"\n            ")])])]),a("a-col",{attrs:{sm:8,xs:24}},[a("a-progress",{attrs:{type:"circle",percent:e.page.pack.ios.percent,format:function(t){return t>0?""+e.page.pack.ios.prompt+t+" %":""+e.page.pack.ios.prompt}}}),0!=e.page.pack.ios.status?a("p",[a("a-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.package_ok(2)}}},[e._v("苹果打包新版")])],1):e._e()],1)],1)],1)],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"name",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:r.url}},[a("ellipsis",{attrs:{length:30,tooltip:""}},[e._v(e._s(t))])],1)]}},{key:"actionScan",fn:function(t,r){return a("span",{},[[r.download_url?a("a",{attrs:{target:"_blank",href:r.download_url}},[e._v("下载")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),r.download_url&&1===r.client_type?a("a",{on:{click:function(t){return e.android_scan(r)}}},[e._v("扫码测试")]):e._e()]],2)}},{key:"actionAndroidUpdate",fn:function(t,r){return a("span",{},[[r.download_url&&1===r.client_type?a("a",{on:{click:function(t){return e.update_android(r)}}},[e._v("设为安卓扫码正式版")]):e._e()]],2)}},{key:"action",fn:function(t,r){return a("span",{},[[r.download_url&&r.md5&&1===r.client_type?a("a",{on:{click:function(t){return e.android_upate_call(r,"")}}},[e._v("设为自动更新版")]):e._e()]],2)}}])}),a("a-modal",{attrs:{title:"扫码测试版本",visible:e.page.android_scan.modal_scan},on:{ok:e.handleOkScan,cancel:e.handleCancelScan}},[a("img",{staticStyle:{width:"200px"},attrs:{src:e.showScanImg}})]),a("a-modal",{attrs:{title:"设置版本自动升级",visible:e.page.android.modal_android_upate},on:{ok:e.android_upate_ok,cancel:e.android_upate_cancel}},[a("a-textarea",{attrs:{rows:"4",placeholder:"版本更新说明"},model:{value:e.page.android.update_content,callback:function(t){e.$set(e.page.android,"update_content",t)},expression:"page.android.update_content"}})],1)],1)},l=[],d=a("81d1"),c=a("2af9"),u=a("4875"),m={name:"Brand",components:{HeadInfo:d["a"],STable:c["o"],Ellipsis:c["f"]},computed:{showScanImg:function(){if(this.page.android_scan.scan_download_url){var e="http://app.guang.today/test.html?url="+encodeURIComponent(this.page.android_scan.scan_download_url);return"https://code.youdanhui.com/?w=12&url="+encodeURIComponent(e)}return""}},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"打包时间",dataIndex:"create_time"},{title:"版本",dataIndex:"version_name"},{title:"平台",dataIndex:"client_type",customRender:function(e,t){return 1===t.client_type?"安卓":"苹果"}},{title:"状态",dataIndex:"status",width:80,customRender:function(e,t){return 0===t.status?"打包中":1===t.status?"成功":"失败"}},{title:" ",dataIndex:"download_url",width:180,scopedSlots:{customRender:"actionAndroidUpdate"}},{title:" ",dataIndex:"",width:150,scopedSlots:{customRender:"actionScan"}},{title:" ",dataIndex:"",width:150,scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(u["c"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1,page:{android_scan:{modal_scan:!1,scan_download_url:""},android:{modal_android_upate:!1,task_id:0,task_type:"",update_content:""},pack:{android:{percent:0,prompt:"",status:-1},ios:{percent:0,prompt:"",status:-1}},qrcode:{debug:"",release:""},packing:{android:!1,ios:!1},download:{ios_url:"",android_url:""},query:!1}}},created:function(){},mounted:function(){this.init()},destroyed:function(){this.page.query=!1},methods:{moment:o.a,init:function(){this.page.query=!0,this.query_view_log()},query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}},android_scan:function(e){this.page.android_scan.modal_scan=!0,this.page.android_scan.scan_download_url=e.download_url},handleOkScan:function(e){this.page.android_scan.modal_scan=!1},handleCancelScan:function(e){this.page.android_scan.modal_scan=!1},update_android:function(e){var t=this;Object(u["s"])({task_id:e.id}).then((function(e){t.$message.success("配置成功")}))},android_upate_call:function(e,t){this.page.android.modal_android_upate=!0,this.page.android.task_id=e.id,this.page.android.task_type=t,this.page.android.update_content=""},android_upate_ok:function(){var e=this;Object(u["t"])({task_id:this.page.android.task_id,task_type:this.page.android.task_type,content:this.page.android.update_content}).then((function(t){var a=t||{},r=a.info;0===(r||{}).status&&e.$message.success("保存成功"),e.page.android.modal_android_upate=!1}))},android_upate_cancel:function(){this.page.android.modal_android_upate=!1},query_view_log:function(){var e=this;this.page.query&&Object(u["f"])({}).then((function(t){var a=!1;t.data.app&&(t.data.app.android&&(e.page.download.android_url=t.data.app.android.download_url,e.page.pack.android.percent=t.data.app.android.percent,t.data.app.android.prompt&&(e.page.pack.android.prompt=t.data.app.android.prompt),e.page.pack.android.status=t.data.app.android.status,0===t.data.app.android.status?e.page.packing.android=!0:(!0===e.page.packing.android&&(a=!0),e.page.packing.android=!1)),t.data.app.ios&&(e.page.download.ios_url=t.data.app.ios.download_url,e.page.pack.ios.percent=t.data.app.ios.percent,t.data.app.ios.prompt&&(e.page.pack.ios.prompt=t.data.app.ios.prompt),e.page.pack.ios.status=t.data.app.ios.status,0===t.data.app.ios.status?e.page.packing.ios=!0:(!0===e.page.packing.ios&&(a=!0),e.page.packing.ios=!1))),t.data.qrcode&&(e.page.qrcode.debug=t.data.qrcode.debug,e.page.qrcode.release=t.data.qrcode.release),e.page.packing.android||e.page.packing.ios?setTimeout((function(){e.query_view_log()}),5e3):a&&e.$refs.table.refresh(!0)}))},package_ok:function(e){var t=this;this.$confirm({title:"打包确认对话框",content:"立即打包 ?",onOk:function(){Object(u["j"])({client_type:e}).then((function(e){t.$refs.table.refresh(!0),t.query_view_log()}))},onCancel:function(){}})}}},f=m,h=a("2877"),g=Object(h["a"])(f,p,l,!1,null,null,null),b=g.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"创建时间"}},[a("a-range-picker",{staticStyle:{width:"100%"},attrs:{ranges:{"今日":[e.moment(),e.moment()],"本周":[e.moment().startOf("week"),e.moment().endOf("week")],"当月":[e.moment().startOf("month"),e.moment().endOf("month")]}},model:{value:e.queryParam.createRangePicker,callback:function(t){e.$set(e.queryParam,"createRangePicker",t)},expression:"queryParam.createRangePicker"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:{overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"30px"}},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.modal.edit({})}}},[e._v("上传新包")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,showPagination:"auto",bordered:""},scopedSlots:e._u([{key:"name",fn:function(t,r){return[a("a",{attrs:{target:"_blank",href:r.url}},[a("ellipsis",{attrs:{length:30,tooltip:""}},[e._v(e._s(t))])],1)]}},{key:"actionScan",fn:function(t,r){return a("span",{},[[r.url?a("a",{attrs:{target:"_blank",href:r.url}},[e._v("下载")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),r.url?a("a",{on:{click:function(t){return e.android_scan(r)}}},[e._v("扫码测试")]):e._e()]],2)}},{key:"actionAndroidUpdate",fn:function(t,r){return a("span",{},[[r.url?a("a",{on:{click:function(t){return e.update_android(r)}}},[e._v("设为安卓扫码正式版")]):e._e()]],2)}},{key:"action",fn:function(t,r){return a("span",{},[[r.url&&r.files_md5?a("a",{on:{click:function(t){return e.android_upate_call(r,"upload")}}},[e._v("设为自动更新版")]):e._e()]],2)}}])}),a("edit-modal",{ref:"modal",on:{ok:e.query}}),a("a-modal",{attrs:{title:"扫码测试版本",visible:e.page.android_scan.modal_scan},on:{ok:e.handleOkScan,cancel:e.handleCancelScan}},[a("img",{staticStyle:{width:"200px"},attrs:{src:e.showScanImg}})]),a("a-modal",{attrs:{title:"设置版本自动升级",visible:e.page.android.modal_android_upate},on:{ok:e.android_upate_ok,cancel:e.android_upate_cancel}},[a("a-textarea",{attrs:{rows:"4",placeholder:"版本更新说明"},model:{value:e.page.android.update_content,callback:function(t){e.$set(e.page.android,"update_content",t)},expression:"page.android.update_content"}})],1),a("edit-modal",{ref:"modal",on:{ok:e.query}})],1)},v=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"上传发布包",width:600,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("div",[a("a-form-item",{staticStyle:{display:"none"},attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_name",{rules:[{required:!0,message:""}]}],expression:"['app_name', {rules: [{required: true, message: ''}]}]"}],attrs:{type:"hidden",placeholder:"**"}})],1),a("a-form-item",{staticStyle:{display:"none"},attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["files_md5",{rules:[{required:!0,message:""}]}],expression:"['files_md5', {rules: [{required: true, message: ''}]}]"}],attrs:{type:"hidden",placeholder:"**"}})],1),a("a-form-item",{staticStyle:{display:"none"},attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["file_size",{rules:[{required:!0,message:""}]}],expression:"['file_size', {rules: [{required: true, message: ''}]}]"}],attrs:{type:"hidden",placeholder:"**"}})],1),a("a-form-item",{attrs:{label:"包名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["package_name",{rules:[{required:!0,message:""}]}],expression:"['package_name', {rules: [{required: true, message: ''}]}]"}],attrs:{placeholder:"**"}})],1),a("a-form-item",{attrs:{label:"版本编号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["version_code",{rules:[{required:!0,message:""}]}],expression:"['version_code', {rules: [{required: true, message: ''}]}]"}],attrs:{placeholder:"**"}})],1),a("a-form-item",{attrs:{label:"版本",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["version_name",{rules:[{required:!0,message:""}]}],expression:"['version_name', {rules: [{required: true, message: ''}]}]"}],attrs:{placeholder:"**"}})],1),a("a-form-item",{attrs:{label:"文件包",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{rules:[{required:!1,message:""}]}],expression:"['url', {rules: [{ required: false, message: '' }]} ]"}],attrs:{placeholder:"**安卓包的下载地址"},on:{change:e.changeImg}}),a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/apk",data:{member_token:e.token},beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传\n            ")],1)],1)],1)],1)])],1),a("template",{slot:"footer"},[a("a-button",{key:"forward",attrs:{loading:e.confirmLoading,type:"primary",block:""},on:{click:function(t){return e.handleSubmit(0)}}},[e._v("保存")])],1)],2)},y=[],k=(a("7f7f"),a("2934")),C=a("5880");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x={name:"EditModal",components:{},computed:j({},Object(C["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),content:"",href:"",cats:[],wenItems:[],picList:[],previewImg:""}},watch:{href:function(e){this.fetchGoodsInfoPreview()}},created:function(){this.init()},methods:{init:function(){var e=this;Object(k["c"])().then((function(t){t.data.items&&(e.cats=t.data.items)}))},edit:function(e){this.visible=!0,this.form.resetFields()},handleSubmit:function(e){var t=this,a=this.form.validateFields;this.confirmLoading=!0,a((function(a,r){a?t.confirmLoading=!1:Object(u["u"])(Object.assign(r,{task:e})).then((function(e){0===e.info.status&&(1===status?t.$message.success("提交成功"):t.$message.success("保存成功"),t.$emit("ok",r),t.visible=!1),t.confirmLoading=!1}))}))},handleChange:function(e){e.file.status,"done"===e.file.status?(this.form.setFieldsValue({url:e.file.response.data.item.img}),this.form.setFieldsValue({version_code:e.file.response.data.item.version_code}),this.form.setFieldsValue({version_name:e.file.response.data.item.version_name}),this.form.setFieldsValue({package_name:e.file.response.data.item.package_name}),this.form.setFieldsValue({app_name:e.file.response.data.item.app_name}),this.form.setFieldsValue({files_md5:e.file.response.data.item.files_md5}),this.form.setFieldsValue({file_size:e.file.response.data.item.file_size})):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},beforeUpload:function(e){var t="application/vnd.android.package-archive"===e.type;t||this.$message.error("上传图片只能是apk格式!");var a=e.size/1024/1024<100;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a},handleCancel:function(){this.visible=!1},setContent:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({content:e.content})}))},setPic:function(e){var t=this.form.setFieldsValue;this.$nextTick((function(){t({pic_url:e})})),this.previewImg=e},changeValue:function(e){var t=e.target.value;this.href=t},changeImg:function(e){var t=e.target.value;this.previewImg=t}}},P=x,S=(a("b76f"),Object(h["a"])(P,w,y,!1,null,"0d7a68f3",null)),q=S.exports,A={name:"Brand",components:{STable:c["o"],EditModal:q,Ellipsis:c["f"]},computed:{showScanImg:function(){if(this.page.android_scan.scan_download_url){var e="http://app.guang.today/test.html?url="+encodeURIComponent(this.page.android_scan.scan_download_url);return"https://code.youdanhui.com/?w=12&url="+encodeURIComponent(e)}return""}},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"上传时间",dataIndex:"create_date"},{title:"版本序号",dataIndex:"version_code"},{title:"版本",dataIndex:"version_name"},{title:"包名",dataIndex:"package_name"},{title:" ",dataIndex:"url",width:150,scopedSlots:{customRender:"actionScan"}},{title:" ",dataIndex:"",width:150,scopedSlots:{customRender:"actionAndroidUpdate"}},{title:" ",dataIndex:"",width:150,scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(u["d"])(Object.assign(t,e.queryParam)).then((function(e){return e.data}))},selectedRowKeys:[],selectedRows:[],optionAlertShow:!1,page:{android_scan:{modal_scan:!1,scan_download_url:""},android:{modal_android_upate:!1,task_id:0,task_type:"",update_content:""}}}},created:function(){},methods:{moment:o.a,query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}},android_scan:function(e){this.page.android_scan.modal_scan=!0,this.page.android_scan.scan_download_url=e.url},handleOkScan:function(e){this.page.android_scan.modal_scan=!1},handleCancelScan:function(e){this.page.android_scan.modal_scan=!1},update_android:function(e){var t=this;Object(u["q"])({id:e.id}).then((function(e){t.$message.success("配置成功")}))},android_upate_call:function(e,t){this.page.android.modal_android_upate=!0,this.page.android.task_id=e.id,this.page.android.task_type=t,this.page.android.update_content=""},android_upate_ok:function(){var e=this;Object(u["t"])({task_id:this.page.android.task_id,task_type:this.page.android.task_type,content:this.page.android.update_content}).then((function(t){var a=t||{},r=a.info;0===(r||{}).status&&e.$message.success("保存成功"),e.page.android.modal_android_upate=!1}))},android_upate_cancel:function(){this.page.android.modal_android_upate=!1}}},$=A,D=Object(h["a"])($,_,v,!1,null,null,null),I=D.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"安卓打包配置",labelCol:e.labelCol,wrapperCol:e.wrapperCol}}),a("a-form-item",{attrs:{label:"AppID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ios_app_id",{rules:[{required:!1,message:""}]}],expression:"['ios_app_id', {rules: [{required: false, message: ''}]}]"}],staticStyle:{width:"400px"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("注:bundle id")])])],1),a("a-form-item",{attrs:{label:"证书密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ios_password",{rules:[{required:!1,message:""}]}],expression:"['ios_password', {rules: [{required: false, message: ''}]}]"}],staticStyle:{width:"400px"}},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("证书密码")])])],1),a("a-form-item",{attrs:{label:"profile文件",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ios_mobileprovision",{rules:[{required:!1,message:""}]}],expression:"['ios_mobileprovision', {rules: [{required: false, message: ''}]}]"}],staticStyle:{width:"400px"},attrs:{type:"hidden"}}),a("a-row",[a("a-col",{attrs:{span:"4"}},[a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUploadProvision},on:{change:e.handleChangeProvision}},[a("a-button",{attrs:{type:"primary"}},[a("a-icon",{attrs:{type:"upload"}}),e.page.ios.iosMobileprovision?a("span",[e._v("替换")]):a("span",[e._v("上传")])],1)],1)],1),a("a-col",{attrs:{span:"18",offset:"1"}},[e.page.ios.iosMobileprovision?a("a",{attrs:{target:"_blank",href:e.page.ios.iosMobileprovision}},[e._v("下载")]):e._e()])],1)],1),a("a-form-item",{attrs:{label:"私钥证书",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ios_p12",{rules:[{required:!1,message:""}]}],expression:"['ios_p12', {rules: [{required: false, message: ''}]}]"}],staticStyle:{width:"400px"},attrs:{type:"hidden"}}),a("a-row",[a("a-col",{attrs:{span:"4"}},[a("a-upload",{attrs:{name:"file",multiple:!0,action:"https://www.haopintui.net/api/common/upload/upload",data:{member_token:e.token},beforeUpload:e.beforeUploadP12},on:{change:e.handleChangeP12}},[a("a-button",{attrs:{type:"primary"}},[a("a-icon",{attrs:{type:"upload"}}),e.page.ios.iosP12?a("span",[e._v("替换")]):a("span",[e._v("上传")])],1)],1)],1),a("a-col",{attrs:{span:"18",offset:"1"}},[e.page.ios.iosP12?a("a",{attrs:{target:"_blank",href:e.page.ios.iosP12}},[e._v("下载")]):e._e()])],1)],1),a("a-form-item",{attrs:{label:"安卓打包配置",labelCol:e.labelCol,wrapperCol:e.wrapperCol}}),a("a-form-item",{attrs:{label:"安卓包名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[e._v("\n      "+e._s(e.page.android.android_package_name)+"\n    ")]),a("a-form-item",{attrs:{label:"应用签名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[e._v("\n      "+e._s(e.page.android.keystore_md5)+"\n    ")]),a("a-form-item",{attrs:{label:"md5",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[e._v("\n      "+e._s(e.page.android.md5)+"\n    ")]),a("a-form-item",{attrs:{label:"sha1",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[e._v("\n      "+e._s(e.page.android.sha1)+"\n    ")]),a("a-form-item",{attrs:{label:"sha256",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[e._v("\n      "+e._s(e.page.android.sha256)+"\n    ")]),a("a-form-item",{attrs:{wrapperCol:{span:12}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("保存")])],1)],1)],1)},T=[],E=a("88bc"),R=a.n(E),K=a("ac0d");function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N={mixins:[K["b"],K["c"]],components:{},computed:V({},Object(C["mapGetters"])(["token"]),{iosMobileprovision:function(){return this.page.ios.ios_mobileprovision?this.page.ios.ios_mobileprovision:""}}),data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},form:this.$form.createForm(this),page:{uploading:!0,android:{android_package_name:"",keystore_md5:"",md5:"",sha1:"",sha256:""},ios:{iosMobileprovision:"",iosP12:""}}}},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.query()},query:function(){var e=this,t=this.form.setFieldsValue;Object(u["e"])().then((function(a){a.data.app&&e.$nextTick((function(){t(R()(a.data.app,["ios_app_id","ios_mobileprovision","ios_p12","ios_password"])),e.page.ios.iosMobileprovision=a.data.app.ios_mobileprovision,e.page.ios.iosP12=a.data.app.ios_p12,e.page.android.android_package_name=a.data.app.android_package_name,e.page.android.keystore_md5=a.data.app.keystore_md5,e.page.android.md5=a.data.app.md5,e.page.android.sha1=a.data.app.sha1,e.page.android.sha256=a.data.app.sha256}))}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(u["r"])(a).then((function(e){var a=e||{},r=a.info;0===(r||{}).status&&t.$message.success("保存成功")}))}))},beforeUploadProvision:function(e){var t="application/x-apple-aspen-mobileprovision"===e.type;t||this.$message.error("上传图片只能是provision格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a},beforeUploadP12:function(e){var t="application/x-pkcs12"===e.type;t||this.$message.error("上传图片只能是p12格式!");var a=e.size/1024/1024<2;return a||this.$message.error("文件大小不能超过 2MB!"),t&&a},handleChangeProvision:function(e){e.file.status,"done"===e.file.status?(this.form.setFieldsValue({ios_mobileprovision:e.file.response.data.item.img}),this.page.ios.iosMobileprovision=e.file.response.data.item.img):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))},handleChangeP12:function(e){e.file.status,"done"===e.file.status?(this.form.setFieldsValue({ios_p12:e.file.response.data.item.img}),this.page.ios.iosP12=e.file.response.data.item.img):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传文件失败."))}}},L=N,M=Object(h["a"])(L,U,T,!1,null,null,null),z=M.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"安卓版本下载地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["android_url",{rules:[{required:!1,message:""}]}],expression:"['android_url', {rules: [{required: false, message: ''}]}]"}]},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("可以在打包列表选版，或者填写类似应用宝上架后的地址")])])],1),a("a-form-item",{attrs:{label:"苹果版本下载地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ios_url",{rules:[{required:!1,message:""}]}],expression:"['ios_url', {rules: [{required: false, message: ''}]}]"}]},[a("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v("上架成功后，将地址填写到这里")])])],1),a("a-form-item",{attrs:{wrapperCol:{span:12}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("保存")])],1)],1)],1)},G=[];function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J={mixins:[K["b"],K["c"]],components:{},computed:Y({},Object(C["mapGetters"])(["token"])),data:function(){return{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},form:this.$form.createForm(this),page:{uploading:!0}}},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.query()},query:function(){var e=this,t=this.form.setFieldsValue;Object(u["e"])().then((function(a){a.data.app_detail&&e.$nextTick((function(){t(R()(a.data.app_detail,["android_url","ios_url"]))}))}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||Object(u["p"])(a).then((function(e){var a=e||{},r=a.info;0===(r||{}).status&&t.$message.success("保存成功")}))}))}}},W=J,Q=Object(h["a"])(W,B,G,!1,null,null,null),X=Q.exports;function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te={name:"Page",components:{PackPage:b,LogPage:I,DataPage:z,DownloadPage:X},data:function(){return{noTitleKey:"pack",tabListNoTitle:[{key:"pack",tab:"打包管理"},{key:"data",tab:"打包配置"},{key:"download",tab:"下载配置"},{key:"log",tab:"安卓包管理"}]}},created:function(){1!==this.funApp&&this.$router.push({name:"vipApp"})},computed:ee({},Object(C["mapGetters"])(["funApp"])),methods:{handleTabChange:function(e,t){this[t]=e},query:function(){this.$refs.table.refresh(!0)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:o()(new Date)}}}},ae=te,re=Object(h["a"])(ae,r,s,!1,null,null,null);t["default"]=re.exports},f0c3:function(e,t,a){},f3ee:function(e,t,a){},f71c:function(e,t,a){}}]);