import{h as O,Y as F,D as C,Z as E,j as c,o as Y,C as A,b as $,w as r,s as o,a as j,l as t,m as n,p as d,x as U,y as M,u as p,d as T,O as z}from"./index.9c437169.js";import{a as k,b as H}from"./report.bfc8b074.js";import{f}from"./dateUtil.cd140771.js";const R={list:"/api/user/order/order/list"},S={class:"box flex p-2 py-5"},q={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},N=t("span",null,"\u4ECA\u65E5\u9884\u4F30",-1),P={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},V=t("span",null,"\u6628\u65E5\u9884\u4F30",-1),G={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},W=t("span",null,"\u7D2F\u79EF\u9884\u4F30",-1),L=O({__name:"common",setup(Z){const i=F(),_=C(()=>`${i.urlPrefix}${i.apiUrl}${R.list}`),y=E({sharedColumnNames:{created:"created_at",updated:"created_at"}}),h=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"",field:"title",formatter(e){return T(`
        <div class="flex items-center">
                <div class="w-9 h-9 zoom-in">
                  <img class="border-white rounded-lg shadow-md w-9 h-9" src="${z(e.getData().prod_img)?"/@/assets/images/notfound.png":e.getData().prod_img}" />
                </div>
                <div class="ml-4">
                  <a href="" class="font-medium whitespace-nowrap">${e.getData().order_no}</a>
                  <div class="text-slate-500 text-xs whitespace-nowrap mt-0.5">
                    ${e.getData().prod_name}
                  </div>
                </div>
              </div>
              `)[0]},download:!0},{title:"\u72B6\u6001",hozAlign:"center",field:"status",width:80},{title:"\u8BA2\u5355\u7C7B\u578B",field:"order_type",width:120},{title:"\u4ED8\u6B3E\u91D1\u989D",field:"am",width:120},{title:"\u9884\u4F30\u6536\u76CA",field:"commision",width:120},{title:"\u5E7F\u544A\u4F4D",field:"",width:80,formatter(e){return`${e.getData().pid||""}${e.getData().zone_name||""}`}},{title:"\u8BA2\u5355\u65F6\u95F4",field:"order_time",formatter(e){return f(e.getData().order_time,"YY-MM-DD HH:mm")},width:150},{title:"\u540C\u6B65\u65F6\u95F4",field:"created_at",formatter(e){return f(e.getData().created_at,"YY-MM-DD HH:mm")},width:150}],s=c({order_no:""}),a=c({data:{report:{userOrder:{money_taobao:0},userDayOrder:{money_taobao:0},userDayOrderYesterday:{money_taobao:0}}}});Y(()=>{D()});const D=()=>{l()},u=A(),l=()=>{u.value.reload(!0),g()},g=()=>{k({}).then(e=>{e.data.report&&(a.data.report.userOrder=e.data.report)}),H({}).then(e=>{e.data.report&&(a.data.report.userDayOrder=e.data.report),e.data.userDayOrderYesterday&&(a.data.report.userDayOrderYesterday=e.data.userDayOrderYesterday)})};return(e,m)=>{const x=o("h-form-item"),b=o("h-form"),w=o("Tablepage"),v=o("h-card");return j(),$(v,{bordered:!1,title:"\u6DD8\u5B9D\u8BA2\u5355"},{extra:r(()=>[t("div",S,[t("div",q,[N,t("span",null,n(a.data.report.userDayOrder.money_taobao),1)]),t("div",P,[V,t("span",null,n(a.data.report.userDayOrderYesterday.money_taobao),1)]),t("div",G,[W,t("span",null,n(a.data.report.userOrder.money_taobao),1)])])]),default:r(()=>[d(w,{ref_key:"tableRef",ref:u,columns:h,ajaxUrl:p(_),config:p(y),queryParam:s},{search:r(()=>[d(b,{layout:"inline"},{default:r(()=>[d(x,{label:"\u8BA2\u5355\u53F7",content:"",layout:"inline"},{default:r(()=>[U(t("input",{"onUpdate:modelValue":m[0]||(m[0]=B=>s.order_no=B),type:"text",class:"form-control mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[M,s.order_no]])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"btn btn-primary w-full sm:w-16",onClick:l}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1})}}});export{L as default};
