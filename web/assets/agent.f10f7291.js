import{r as H,h as S,j as B,D as j,o as G,as as Z,v as q,k as I,t as z,a as M,b as L,w as u,l as t,p as l,x as i,a0 as O,aw as F,u as f,y as d,au as J,q as V,s as _,Y as R,Z as K,C as $,d as Y,n as P,e as tt,m as et}from"./index.9c437169.js";import{g as Q}from"./user.e757f567.js";import{f as N,a as nt}from"./dateUtil.cd140771.js";import{p as W}from"./pick.40b27695.js";const T={getItems:"/api/user/member/agent/list",getView:"/api/user/member/agent/view",updateItem:"/api/user/member/agent/update",listApply:"/api/user/member/agent/listApply",updateApplyStatus:"/api/user/member/agent/update_apply_status"};function ot(w){return H({url:T.updateApplyStatus,method:"post",data:w})}function at(w){return H({url:T.updateItem,method:"post",data:w})}const st=t("option",{value:0},"\u5BFC\u8D2D",-1),ut=t("option",{value:1},"\u4F1A\u5458\u8FD4\u5229",-1),lt=t("option",{value:3},"\u591A\u7EA7\u5206\u9500",-1),it=[st,ut,lt],rt={class:"grid-cols-3 gap-2 sm:grid"},dt={class:"input-group"},mt=t("div",{class:"w-24 text-xs input-group-text"},"\u81EA\u8D2D",-1),_t=t("div",{class:"input-group-text"},"%",-1),pt={class:"mt-2 input-group sm:mt-0"},ct=t("div",{class:"w-24 text-xs input-group-text"},"\u4E0B\u7EA7",-1),ft=t("div",{class:"input-group-text"},"%",-1),vt={class:"mt-2 input-group sm:mt-0"},gt=t("div",{class:"w-24 text-xs input-group-text"},"\u4E0B\u4E0B\u7EA7",-1),ht=t("div",{class:"input-group-text"},"%",-1),bt={class:"input-group"},kt=t("div",{class:"input-group-text"},"%",-1),yt=t("div",{class:"form-help"},"\u63D0\u793A:\u672A\u8FDB\u884C\u8BE6\u7EC6\u767B\u8BB0\u6BD4\u4F8B\u8BBE\u7F6E\uFF0C\u5C06\u624D\u6709\u4E0A\u9762\u9ED8\u8BA4\u8BBE\u7F6E\u6BD4\u4F8B ",-1),xt={class:"overflow-x-auto"},Ft=t("thead",null,[t("tr",null,[t("th",{class:"bg-slate-50 !pr-2 dark:bg-darkmode-800"}),t("th",{class:"bg-slate-50 dark:bg-darkmode-800"},"\u7B49\u7EA7\u540D\u79F0"),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u5347\u7EA7\u9700\u8981\u9080\u8BF7\u4EBA\u6570 "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u81EA\u8D2D\u8FD4\u5229\u6BD4\u4F8B "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u4E0B\u7EA7\u8D2D\u7269\u5956\u52B1 "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"},"\u4E0B\u4E0B\u7EA7\u8D2D\u7269\u5956\u52B1")])],-1),Dt=t("td",{class:"!pr-2"},"1.",-1),Et={class:"whitespace-nowrap"},Bt={class:"!px-2"},wt={class:"input-group"},At=t("div",{class:"input-group-text"},"\u4EBA",-1),Ct={class:"!px-2"},Ut={class:"input-group"},Vt=t("div",{class:"input-group-text"},"%",-1),$t={class:"!px-2"},Mt={class:"input-group"},Lt=t("div",{class:"input-group-text"},"%",-1),Yt={class:"!pl-2 text-slate-500"},St={class:"input-group"},jt=t("div",{class:"input-group-text"},"%",-1),Ot=t("td",{class:"!pr-2"},"2.",-1),Tt={class:"whitespace-nowrap"},Pt={class:"!px-2"},qt={class:"input-group"},It=t("div",{class:"input-group-text"},"\u4EBA",-1),zt={class:"!px-2"},Rt={class:"input-group"},Nt=t("div",{class:"input-group-text"},"%",-1),Wt={class:"!px-2"},Ht={class:"input-group"},Gt=t("div",{class:"input-group-text"},"%",-1),Zt={class:"!pl-2 text-slate-500"},Jt={class:"input-group"},Kt=t("div",{class:"input-group-text"},"%",-1),Qt=t("td",{class:"!pr-2"},"3.",-1),Xt={class:"whitespace-nowrap"},te={class:"!px-2"},ee={class:"input-group"},ne=t("div",{class:"input-group-text"},"\u4EBA",-1),oe={class:"!px-2"},ae={class:"input-group"},se=t("div",{class:"input-group-text"},"%",-1),ue={class:"!px-2"},le={class:"input-group"},ie=t("div",{class:"input-group-text"},"%",-1),re={class:"!pl-2 text-slate-500"},de={class:"input-group"},me=t("div",{class:"input-group-text"},"%",-1),_e=t("div",{class:"form-help"},"1:\u4F1A\u5458\u63A8\u5E7F\u4EBA\u6570\u8FBE\u5230\u8BBE\u7F6E\u7B49\u7EA7\u8981\u6C42\u540E\uFF0C\u91C7\u7528\u76F8\u5E94\u7B49\u7EA7\u8BBE\u7F6E\u6BD4\u4F8B\u8FDB\u884C\u5956\u52B1 ",-1),pe=t("div",{class:"form-help"},"2:\u4F1A\u5458\u7B49\u7EA7\u540D\u79F0\u53EF\u4EE5\u81EA\u5B9A\u4E49 ",-1),ce=S({__name:"data",setup(w,{expose:D}){const n=B({user_rate:0,invite_mode:0,invite1_rate:0,invite2_rate:0,invite3_rate:0,rank3_name:"",rank3_members:0,rank3_invite1:0,rank3_invite2:0,rank3_invite3:0,rank2_name:"",rank2_members:0,rank2_invite1:0,rank2_invite2:0,rank2_invite3:0,rank1_name:"",rank1_members:0,rank1_invite1:0,rank1_invite2:0,rank1_invite3:0,order_start_date:""}),A={},v=B({visible:!1,confirmLoading:!1,uploading:!0,payment_money:0,user_data_money:0}),s=j(()=>n.invite_mode===3),h=j(()=>n.invite_mode===1);G(()=>{m()});const m=()=>{y()},y=()=>{Z({}).then(o=>{o.data.item&&q(()=>{const e=W(o.data.item,["invite_mode","invite1_rate","invite2_rate","invite3_rate","invite4_rate","invite5_rate","user_rate","order_start_date","rank1_name","rank2_name","rank3_name","rank1_invite1","rank1_invite2","rank1_invite3","rank1_invite1_h1","rank1_invite2_h1","rank1_invite3_h1","rank1_invite1_h2","rank1_invite2_h2","rank1_invite3_h2","rank2_invite1","rank2_invite2","rank2_invite3","rank2_invite1_h1","rank2_invite2_h1","rank2_invite3_h1","rank2_invite1_h2","rank2_invite2_h2","rank2_invite3_h2","rank3_invite1","rank3_invite2","rank3_invite3","rank3_invite1_h1","rank3_invite2_h1","rank3_invite3_h1","rank3_invite1_h2","rank3_invite2_h2","rank3_invite3_h2","rank1_members","rank2_members","rank3_members"]);Object.assign(n,e)})}),Q({}).then(o=>{o.data.user_data&&(v.user_data_money=o.data.user_data.money)})},b=I(A,z(n)),E=o=>{if(o.preventDefault(),b.value.$touch(),b.value.$invalid)b.value.$errors;else{const e=f(n);e.order_start_date&&(e.order_start_date=N(e.order_start_date)),J(Object.assign(e,{page_view:"agent"})).then(r=>{const{code:k}=r||{};k===0?V.success("\u4FDD\u5B58\u6210\u529F"):V.error(r.message)})}},p=()=>{v.visible=!1};return D({edit:()=>{v.visible=!0}}),(o,e)=>{const r=_("h-form-item"),k=_("Litepicker"),C=_("h-form"),U=_("h-drawer");return M(),L(U,{title:"\u8BBE\u7F6E",size:"modal-xl",visible:v.visible,"confirm-loading":v.confirmLoading,onCancel:p},{footer:u(()=>[t("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:E},"\u4FDD\u5B58")]),default:u(()=>[l(C,{layout:"small"},{default:u(()=>[l(r,{label:"\u8D2D\u7269\u6A21\u5F0F",content:"",layout:"small"},{default:u(()=>[i(t("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=a=>n.invite_mode=a)},it,512),[[O,n.invite_mode]])]),_:1}),l(r,{class:F({hidden:!f(s)&&!f(h)}),label:"\u8BA2\u5355\u8BA1\u7B97\u5F00\u59CB\u65F6\u95F4",layout:"small"},{default:u(()=>[l(k,{modelValue:n.order_start_date,"onUpdate:modelValue":e[1]||(e[1]=a=>n.order_start_date=a),options:{autoApply:!1,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"block w-56 form-control"},null,8,["modelValue"])]),_:1},8,["class"]),l(r,{class:F({hidden:!f(s)}),label:"\u9ED8\u8BA4\u8BBE\u7F6E",layout:"small"},{default:u(()=>[t("div",rt,[t("div",dt,[mt,i(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[2]||(e[2]=a=>n.invite1_rate=a)},null,512),[[d,n.invite1_rate]]),_t]),t("div",pt,[ct,i(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[3]||(e[3]=a=>n.invite2_rate=a)},null,512),[[d,n.invite2_rate]]),ft]),t("div",vt,[gt,i(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[4]||(e[4]=a=>n.invite3_rate=a)},null,512),[[d,n.invite3_rate]]),ht])])]),_:1},8,["class"]),l(r,{class:F({hidden:!f(h)}),label:"\u8FD4\u5229\u6BD4\u4F8B",layout:"small"},{default:u(()=>[t("div",bt,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>n.user_rate=a)},null,512),[[d,n.user_rate]]),kt])]),_:1},8,["class"]),l(r,{class:F({hidden:!f(s)}),label:"",layout:"small"},{default:u(()=>[yt]),_:1},8,["class"]),t("div",xt,[t("table",{class:F(["table border",f(s)?"":"hidden"])},[Ft,t("tbody",null,[t("tr",{class:F(f(s)?"":"hidden")},[Dt,t("td",Et,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[6]||(e[6]=a=>n.rank1_name=a)},null,512),[[d,n.rank1_name]])]),t("td",Bt,[t("div",wt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[7]||(e[7]=a=>n.rank1_members=a)},null,512),[[d,n.rank1_members]]),At])]),t("td",Ct,[t("div",Ut,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[8]||(e[8]=a=>n.rank1_invite1=a)},null,512),[[d,n.rank1_invite1]]),Vt])]),t("td",$t,[t("div",Mt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[9]||(e[9]=a=>n.rank1_invite2=a)},null,512),[[d,n.rank1_invite2]]),Lt])]),t("td",Yt,[t("div",St,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[10]||(e[10]=a=>n.rank1_invite3=a)},null,512),[[d,n.rank1_invite3]]),jt])])],2),t("tr",{class:F(f(s)?"":"hidden")},[Ot,t("td",Tt,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=a=>n.rank2_name=a)},null,512),[[d,n.rank2_name]])]),t("td",Pt,[t("div",qt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[12]||(e[12]=a=>n.rank2_members=a)},null,512),[[d,n.rank2_members]]),It])]),t("td",zt,[t("div",Rt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[13]||(e[13]=a=>n.rank2_invite1=a)},null,512),[[d,n.rank2_invite1]]),Nt])]),t("td",Wt,[t("div",Ht,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[14]||(e[14]=a=>n.rank2_invite2=a)},null,512),[[d,n.rank2_invite2]]),Gt])]),t("td",Zt,[t("div",Jt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[15]||(e[15]=a=>n.rank2_invite3=a)},null,512),[[d,n.rank2_invite3]]),Kt])])],2),t("tr",{class:F(f(s)?"":"hidden")},[Qt,t("td",Xt,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=a=>n.rank3_name=a)},null,512),[[d,n.rank3_name]])]),t("td",te,[t("div",ee,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[17]||(e[17]=a=>n.rank3_members=a)},null,512),[[d,n.rank3_members]]),ne])]),t("td",oe,[t("div",ae,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[18]||(e[18]=a=>n.rank3_invite1=a)},null,512),[[d,n.rank3_invite1]]),se])]),t("td",ue,[t("div",le,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[19]||(e[19]=a=>n.rank3_invite2=a)},null,512),[[d,n.rank3_invite2]]),ie])]),t("td",re,[t("div",de,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[20]||(e[20]=a=>n.rank3_invite3=a)},null,512),[[d,n.rank3_invite3]]),me])])],2)])],2)]),l(r,{class:F({hidden:!f(s)}),label:"",layout:"small"},{default:u(()=>[_e,pe]),_:1},8,["class"])]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),fe=t("option",{value:0},"\u65E0\u8FD0\u8425\u6743\u9650",-1),ve=t("option",{value:-1},"\u6E20\u9053\u6388\u6743\u6A21\u5F0F",-1),ge=t("option",{value:-2},"\u4F1A\u5458\u6388\u6743\u6A21\u5F0F",-1),he=t("option",{value:-3},"\u6DF7\u5408\u6388\u6743\u6A21\u5F0F",-1),be=[fe,ve,ge,he],ke=t("div",{class:"form-help"}," \u8FD4\u5229\u3001\u5206\u9500\u6A21\u5F0F\u9700\u8981\u8054\u76DF\u5F00\u901A\u8FD0\u8425\u6743\u9650\u540E\u624D\u80FD\u6709\u6548\u8FD0\u884C ",-1),ye={class:"input-group"},xe=t("div",{class:"input-group-text"},null,-1),Fe=t("div",{class:"form-help"}," \u6E20\u9053\u6388\u6743\u6A21\u5F0F\u4E0B\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u7684pid ",-1),De=S({__name:"shop",setup(w,{expose:D}){const n=B({distribute_pid:0,tao_pid:"",order_start_date:""}),A={},v=B({visible:!1,confirmLoading:!1,uploading:!0,payment_mode:!1,payment_money:0,user_data_money:0});G(()=>{h()});const s=I(A,z(n)),h=()=>{m()},m=()=>{Z({}).then(p=>{p.data.item&&q(()=>{const c=W(p.data.item,["distribute_pid","tao_pid","order_start_date"]);c.order_start_date=nt(p.data.item.order_start_date),Object.assign(n,c)})}),Q({}).then(p=>{p.data.user_data&&(v.user_data_money=p.data.user_data.money)})},y=p=>{if(p.preventDefault(),s.value.$touch(),s.value.$invalid)s.value.$errors;else{const c=f(n);c.order_start_date&&(c.order_start_date=N(c.order_start_date)),J(Object.assign(c,{page_view:"data"})).then(o=>{const{code:e}=o.data;e===0?V.success("\u4FDD\u5B58\u6210\u529F"):V.error(o.message)})}},b=()=>{v.visible=!1};return D({edit:()=>{v.visible=!0}}),(p,c)=>{const o=_("h-form-item"),e=_("h-form"),r=_("h-drawer");return M(),L(r,{title:"\u7535\u5546\u5E73\u53F0\u914D\u7F6E",visible:v.visible,"confirm-loading":v.confirmLoading,onCancel:b},{footer:u(()=>[t("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:y},"\u4FDD\u5B58")]),default:u(()=>[l(e,{layout:"small",label:"\u6DD8\u5B9D",border:!1},{default:u(()=>[l(o,{label:"\u6388\u6743\u6A21\u5F0F",content:"",layout:"small"},{default:u(()=>[i(t("select",{class:"form-select","onUpdate:modelValue":c[0]||(c[0]=k=>n.distribute_pid=k)},be,512),[[O,n.distribute_pid]]),ke]),_:1}),l(o,{label:"\u9ED8\u8BA4\u6E20\u9053\u4E13\u4EABpid",content:"",layout:"small"},{default:u(()=>[t("div",ye,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":c[1]||(c[1]=k=>n.tao_pid=k)},null,512),[[d,n.tao_pid]]),xe]),Fe]),_:1})]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),Ee=S({__name:"apply",setup(w,{expose:D}){const n=R(),A=j(()=>`${n.urlPrefix}${n.apiUrl}${T.listApply}`),v=K({}),s=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u7528\u6237\u540D",field:"member.user_name",width:150},{title:"\u72B6\u6001",field:"status",formatter(o){return o.getData().status===1?"\u901A\u8FC7":"\u5F85\u5BA1\u6838"}},{title:"qq",field:"qq"},{title:"\u5FAE\u4FE1",field:"weixin"},{title:"\u65F6\u95F4",width:140,field:"created_at",formatter(o){return N(o.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(o){if(o.getData().status===0){const e=Y('<a class="flex items-center" href="javascript:;">\u901A\u8FC7</a>');return Y(e).on("click",function(r){E(o.getData())}),e[0]}return""}}],h=B({rangePicker:"",username:"",status:0,startTime:"",endTime:""}),m=B({visible:!1,confirmLoading:!1}),y=$(),b=()=>{y.value.reload(!0)},E=o=>{ot({member_id:o.member_id,status:1}).then(e=>{V.success(e.message),y.value.reload()})},p=()=>{m.visible=!1};return D({edit:()=>{m.visible=!0}}),(o,e)=>{const r=_("h-form-item"),k=_("Litepicker"),C=_("h-form"),U=_("Tablepage"),a=_("h-drawer");return M(),L(a,{title:"\u5BA1\u6838\u56E2\u957F\u7533\u8BF7",size:"modal-xl",visible:m.visible,"confirm-loading":m.confirmLoading,onCancel:p},{default:u(()=>[l(U,{ref_key:"tableRef",ref:y,columns:s,ajaxUrl:f(A),config:f(v),queryParam:h},{search:u(()=>[l(C,{layout:"inline"},{default:u(()=>[l(r,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:u(()=>[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=x=>h.username=x),type:"text",class:"form-control mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[d,h.username]])]),_:1}),l(r,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:u(()=>[l(k,{modelValue:h.rangePicker,"onUpdate:modelValue":e[1]||(e[1]=x=>h.rangePicker=x),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"form-control mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"btn btn-primary w-full sm:w-16",onClick:b}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1},8,["visible","confirm-loading"])}}}),Be=t("option",{value:1},"\u72EC\u7ACB\u57DF\u540D",-1),we=t("option",{value:2},"\u514D\u8D39\u4E8C\u7EA7",-1),Ae=[Be,we],Ce={class:"input-group"},Ue=t("div",{class:"input-group-text"},"Http://",-1),Ve={class:"input-group"},$e=t("div",{class:"input-group-text"},"Http://",-1),Me={class:"input-group-text w-96"},Le=t("option",{value:"gouwu.rocks"},"gouwu.rocks",-1),Ye=[Le],Se={class:"btn btn-outline-success btn-sm mt-1 mb-2 mr-2 w-32"},je=S({__name:"agent",emits:["ok"],setup(w,{expose:D,emit:n}){const v=R().uploadUrl,s=B({id:0,url:"",prefix:"",domain_url:"",pid:"",relation_id:"",site_name:"",logo_url:"",type:0}),h={},m=B({visible:!1,confirmLoading:!1,data:{userCmsAgent:{user_name:""}}}),y=()=>{m.visible=!1},b=I(h,z(s)),E=o=>{m.visible=!0,q(()=>{Object.assign(s,{id:0,url:"",prefix:"",domain_url:"",pid:"",relation_id:"",site_name:"",logo_url:"",type:0});const e=W(o,["id","url","prefix","domain_url","pid","relation_id","site_name","logo_url","type"]);o.domain&&(e.site_name=o.domain.site_name,e.logo_url=o.domain.logo_url,e.url=o.domain.url,e.type=o.domain.type),o.member&&(m.data.userCmsAgent.user_name=o.member.user_name),Object.assign(s,e)})},p=()=>{if(m.confirmLoading=!0,b.value.$touch(),b.value.$invalid)b.value.$errors,m.confirmLoading=!1;else{const o=f(s);at(Object.assign(o,{user_name:m.data.userCmsAgent.user_name,domain_type:s.type})).then(e=>{const{code:r}=e||{};r===0?(V.success("\u4FDD\u5B58\u6210\u529F"),n("ok",o),m.visible=!1):V.error(e.message),m.confirmLoading=!1})}},c=o=>{s.logo_url=o.data.item.img};return D({edit:E}),(o,e)=>{const r=_("h-form-item"),k=_("UploadIcon"),C=_("h-upload"),U=_("h-form"),a=_("h-spin"),x=_("LoadingIcon"),X=_("h-modal");return M(),L(X,{title:"\u7F16\u8F91",size:"modal-lg",visible:m.visible,"confirm-loading":m.confirmLoading,onCancel:y},{footer:u(()=>[t("button",{class:"btn btn-primary mb-2 mr-1 w-24",onClick:e[8]||(e[8]=g=>p())},[P(" \u4FDD\u5B58 "),m.confirmLoading?(M(),L(x,{key:0,icon:"oval",color:"white",class:"ml-2 h-4 w-4"})):tt("",!0)])]),default:u(()=>[l(a,{spinning:m.confirmLoading},{default:u(()=>[l(U,{layout:"small"},{default:u(()=>[l(r,{label:"\u7528\u6237\u540D",content:"",layout:"small"},{default:u(()=>[P(et(m.data.userCmsAgent.user_name),1)]),_:1}),l(r,{label:"\u5E7F\u544A\u4F4Dpid",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=g=>s.pid=g)},null,512),[[d,s.pid]])]),_:1}),l(r,{label:"\u6E20\u9053id",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=g=>s.relation_id=g)},null,512),[[d,s.relation_id]])]),_:1}),l(r,{label:"\u7ED1\u5B9A\u57DF\u540D",content:"",layout:"small"},{default:u(()=>[i(t("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=g=>s.type=g)},Ae,512),[[O,s.type]])]),_:1}),l(r,{class:F({hidden:s.type==2}),label:"\u72EC\u7ACB\u57DF\u540D",layout:"small"},{default:u(()=>[t("div",Ce,[Ue,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=g=>s.url=g)},null,512),[[d,s.url]])])]),_:1},8,["class"]),l(r,{class:F({hidden:s.type==1}),label:"\u514D\u8D39\u57DF\u540D",layout:"small"},{default:u(()=>[t("div",Ve,[$e,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=g=>s.prefix=g)},null,512),[[d,s.prefix]]),t("div",Me,[i(t("select",{class:"form-select","onUpdate:modelValue":e[5]||(e[5]=g=>s.domain_url=g)},Ye,512),[[O,s.domain_url]])])])]),_:1},8,["class"]),l(r,{label:"\u7F51\u5740\u540D\u5B57",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=g=>s.site_name=g)},null,512),[[d,s.site_name]])]),_:1}),l(r,{label:"logo",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=g=>s.logo_url=g),placeholder:"\u8BBE\u7F6E\u7F51\u7AD9\u7684logo\uFF0C\u4E0D\u8BBE\u7F6E\u4E0D\u663E\u793A\uFF01"},null,512),[[d,s.logo_url]]),l(C,{name:"file",multiple:!0,action:f(v),onChange:c},{default:u(()=>[t("button",Se,[l(k,{class:"mr-2 h-4 w-4"}),P("\u4E0A\u4F20 ")])]),_:1},8,["action"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["visible","confirm-loading"])}}}),Ie=S({__name:"agent",setup(w){const D=R(),n=j(()=>`${D.urlPrefix}${D.apiUrl}${T.getItems}`),A=K({}),v=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u7528\u6237\u540D",field:"member.user_name",width:150},{title:"\u7ED1\u5B9A\u57DF\u540D",field:"domain.url",formatter(o){return o.getData().domain?Y(`<a target="_blank" href="'http://${o.getData().domain.url}">${o.getData().domain.url}</a>`)[0]:""}},{title:"\u64CD\u4F5C",field:"",formatter(o){const e=Y('<a class="flex items-center" href="javascript:;">\u7F16\u8F91</a>');return Y(e).on("click",function(r){c(o.getData())}),e[0]}}],s=B({rangePicker:"",username:"",status:0,startTime:"",endTime:""}),h=$(),m=$(),y=$(),b=$(),E=$(),p=()=>{h.value.reload(!0)},c=o=>{E.value.edit(o)};return(o,e)=>{const r=_("h-form-item"),k=_("Litepicker"),C=_("h-form"),U=_("Tablepage"),a=_("h-card");return M(),L(a,{bordered:!1,title:"\u56E2\u957F\u7BA1\u7406"},{header:u(()=>[t("button",{class:"btn btn-primary mr-2 shadow-md",onClick:e[0]||(e[0]=x=>m.value.edit({}))},"\u8FD4\u5229\u8BBE\u7F6E "),t("button",{class:"btn btn-primary mr-2 shadow-md",onClick:e[1]||(e[1]=x=>y.value.edit({}))},"\u7535\u5546\u5E73\u53F0\u914D\u7F6E "),t("button",{class:"btn btn-primary mr-2 shadow-md",onClick:e[2]||(e[2]=x=>b.value.edit({}))},"\u4EE3\u7406\u5BA1\u6838 ")]),default:u(()=>[l(U,{ref_key:"tableRef",ref:h,columns:v,ajaxUrl:f(n),config:f(A),queryParam:s},{search:u(()=>[l(C,{layout:"inline"},{default:u(()=>[l(r,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:u(()=>[i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=x=>s.username=x),type:"text",class:"form-control mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[d,s.username]])]),_:1}),l(r,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:u(()=>[l(k,{modelValue:s.rangePicker,"onUpdate:modelValue":e[4]||(e[4]=x=>s.rangePicker=x),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"form-control mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"btn btn-primary w-full sm:w-16",onClick:p}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"]),l(ce,{ref_key:"dataModal",ref:m,onOk:p},null,512),l(De,{ref_key:"shopModal",ref:y,onOk:p},null,512),l(Ee,{ref_key:"applyModal",ref:b,onOk:p},null,512),l(je,{ref_key:"agentModal",ref:E,onOk:p},null,512)]),_:1})}}});export{Ie as default};
