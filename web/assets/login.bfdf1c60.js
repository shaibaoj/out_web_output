import{h as P,aq as $,N as j,j as C,G as z,o as H,d as J,k as K,t as Q,s as k,O as U,az as W,l as g,c as y,u as a,b as v,e as m,m as t,w as u,f as X,p as B,a9 as Y,a as c,i as Z,q as i,n as p,x,y as _,aA as tt,aB as et,aC as st,aD as ot,D as lt,_ as ut}from"./index.92deb929.js";import{p as M}from"./pick.b6794720.js";const at={class:"container sm:px-10"},nt={class:"block grid-cols-2 gap-4 xl:grid"},it=X('<div class="flex-col hidden min-h-screen xl:flex"><a href="" class="flex items-center pt-5 -intro-x"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-6" src="'+tt+'"><span class="ml-3 text-lg text-white"> \u7BA1\u7406\u4E2D\u5FC3 </span></a><div class="my-auto"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-1/2 -mt-16 -intro-x" src="'+et+'"><div class="mt-10 text-4xl font-medium leading-tight text-white -intro-x"> \u518D\u70B9\u51FB\u51E0\u4E0B \u767B\u5F55\u5230\u60A8\u7684\u5E10\u6237. </div><div class="mt-5 text-lg text-white -intro-x text-opacity-70 dark:text-slate-400"> \u8F7B\u677E\u7BA1\u7406\u60A8\u7684\u8425\u9500 </div></div></div>',1),rt={class:"flex h-screen py-5 my-10 xl:my-0 xl:h-auto xl:py-0"},ct={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md dark:bg-darkmode-600 sm:w-3/4 sm:px-8 lg:w-2/4 xl:ml-20 xl:w-auto xl:bg-transparent xl:p-0 xl:shadow-none"},pt=t("h2",{class:"text-2xl font-bold text-center intro-x xl:text-left xl:text-3xl"}," \u767B\u9646 ",-1),dt=t("div",{class:"mt-2 text-center intro-x text-slate-400 xl:hidden"}," \u518D\u70B9\u51FB\u51E0\u4E0B\u5373\u53EF\u767B\u5F55\u60A8\u7684\u5E10\u6237\u3002 ",-1),mt={class:"mt-2"},xt={class:"mt-8 intro-x"},_t=t("div",{class:"flex mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},[t("div",{class:"flex items-center mr-auto"},[t("input",{type:"checkbox",class:"mr-2 border form-check-input"}),t("label",{class:"cursor-pointer select-none",for:"remember-me"},"\u8BB0\u4F4F\u6211")]),t("a",{href:""},"\u5FD8\u8BB0\u5BC6\u7801?")],-1),ft={class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},bt={class:"mt-8 intro-x"},yt={class:"py-3 input-group gap-x-2"},Bt={class:""},gt={key:1,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary"},vt={class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},ht={class:"mt-8 intro-x"},wt={class:"mt-8 intro-x"},kt=t("div",{class:"flex mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},[t("div",{class:"flex items-center mr-auto"},[t("input",{type:"checkbox",class:"mr-2 border form-check-input"}),t("label",{class:"cursor-pointer select-none",for:"remember-me"},"\u8BB0\u4F4F\u6211")]),t("a",{href:""},"\u5FD8\u8BB0\u5BC6\u7801?")],-1),Et={class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},Ct={class:"mt-8 intro-x"},At={class:"py-3 input-group gap-x-2"},Dt={class:""},Ft={key:1,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary"},Tt={class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},Vt=t("div",{class:"mt-10 text-center intro-x text-slate-600 dark:text-slate-500 xl:mt-24 xl:text-left"},[B(" \u6CE8\u518C\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684 "),t("a",{class:"text-primary dark:text-slate-200",href:""},"\u6761\u6B3E"),B(" \u4EE5\u53CA "),t("a",{class:"text-primary dark:text-slate-200",href:""},"\u9690\u79C1\u653F\u7B56")],-1),Ot=P({__name:"login",setup(Nt){const A=Y(),D=$(),{loginTo:L,loginApiTo:R}=j(),s=C({username:"",password:"",mobile:"",captcha:"",open_id:"",union_id:"",platform_type:"",nick_name:"",avatar_url:""}),E=C({api:{app_id:"wx7f67e4a1366382b3",scope:"snsapi_login",redirect_uri:"https://www.haopintui.net/app/login"}}),d=C({sms:{isLoading:!1,smsTimeOut:0,smsText:"\u53D1\u9001\u9A8C\u8BC1\u7801"}}),G={},n=z(()=>!U(s.open_id));H(()=>{J("body").removeClass("main").removeClass("error-page").addClass("login"),D.query.code&&I(D.query.code)});const F=K(G,Q(s)),h=(f,e)=>{if(f.preventDefault(),F.value.$touch(),!F.value.$invalid){const l=a(s);let b=M(l,["username","password","open_id","union_id","platform_type","nick_name","avatar_url"]);e==2&&(b=M(l,["mobile","captcha","open_id","union_id","platform_type","nick_name","avatar_url"])),b=Object.assign(b,{from_login:"business"}),L(b).then(r=>{const{code:w}=r||{};w===0?T():k.error(r.message)}).catch(r=>{k.error((r==null?void 0:r.message)||"")})}},I=f=>{R({code:f,platform_type_code:"weixinweb"}).then(e=>{const{code:l}=e||{};l===0?T():k.error(e.message)}).catch(e=>{const{data:l}=e||{};U(l.open_id)||(s.open_id=l.open_id,s.union_id=l.union_id,s.platform_type=l.platform_type,s.nick_name=l.nick_name,s.avatar_url=l.avatar_url)})},T=()=>{A.push({name:W},!1)},V=()=>{d.sms.smsTimeOut=60,st({mobile:s.mobile,sms_token:CryptoJS.MD5(`${s.mobile}`).toString()}).then(f=>{f.code==0?O():(d.sms.smsTimeOut=0,k.success(f.message))})},O=()=>{setTimeout(()=>{d.sms.smsTimeOut--,d.sms.smsTimeOut>0&&O()},1e3)},N=()=>{A.push({name:ot},!1)};return(f,e)=>{const l=g("Tab"),b=g("TabList"),r=g("TabPanel"),w=g("TabPanels"),S=g("TabGroup"),q=g("wxlogin");return c(),y("div",null,[a(Z)()?(c(),v(lt,{key:0})):m("v-if",!0),t("div",at,[t("div",nt,[m(" BEGIN: Login Info "),it,m(" END: Login Info "),m(" BEGIN: Login Form "),t("div",rt,[t("div",ct,[pt,dt,t("div",mt,[a(n)?(c(),v(S,{key:0},{default:u(()=>[i(b,{class:"nav-boxed-tabs"},{default:u(()=>[i(l,{class:"w-full py-2",tag:"button"},{default:u(()=>[B(p(a(n)?"\u7ED1\u5B9A\u8D26\u53F7":"\u8D26\u6237\u767B\u9646"),1)]),_:1}),i(l,{class:"w-full py-2",tag:"button"},{default:u(()=>[B(p(a(n)?"\u7ED1\u5B9A\u624B\u673A":"\u624B\u673A\u767B\u9646"),1)]),_:1})]),_:1}),i(w,{class:"mt-5"},{default:u(()=>[i(r,{class:"leading-relaxed"},{default:u(()=>[t("div",xt,[x(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.username=o),class:"block px-4 py-3 intro-x login__input form-control",placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,512),[[_,s.username]]),x(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>s.password=o),class:"block px-4 py-3 mt-4 intro-x login__input form-control",placeholder:"\u5BC6\u7801"},null,512),[[_,s.password]])]),_t,t("div",ft,[t("button",{class:"w-full px-4 py-3 align-top btn btn-primary xl:mr-3 xl:w-32",onClick:e[2]||(e[2]=o=>h(o,1))},p(a(n)?"\u7ED1\u5B9A":"\u767B\u9646"),1),a(n)?m("v-if",!0):(c(),y("button",{key:0,class:"hidden w-full px-4 py-3 mt-3 align-top btn btn-outline-secondary xl:mt-0 xl:w-32",onClick:N}," \u6CE8\u518C "))])]),_:1}),i(r,{class:"leading-relaxed"},{default:u(()=>[t("div",bt,[x(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.mobile=o),class:"block px-4 py-3 intro-x login__input form-control",placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,512),[[_,s.mobile]]),t("div",yt,[x(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>s.captcha=o),class:"block px-4 py-3 intro-x form-control",placeholder:"\u9A8C\u8BC1\u7801"},null,512),[[_,s.captcha]]),t("div",Bt,[d.sms.smsTimeOut==0?(c(),y("button",{key:0,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-primary",onClick:V},p(d.sms.smsText),1)):(c(),y("button",gt," \u5012\u8BA1\u65F6"+p(d.sms.smsTimeOut)+"\u79D2 ",1))])])]),t("div",vt,[t("button",{class:"w-full px-4 py-3 align-top btn btn-primary xl:mr-3",onClick:e[5]||(e[5]=o=>h(o,2))},p(a(n)?"\u7ED1\u5B9A":"\u767B\u9646"),1)])]),_:1})]),_:1})]),_:1})):(c(),v(S,{key:1},{default:u(()=>[i(b,{class:"nav-boxed-tabs"},{default:u(()=>[a(n)?m("v-if",!0):(c(),v(l,{key:0,class:"w-full py-2",tag:"button"},{default:u(()=>[B("\u5FAE\u4FE1\u767B\u9646")]),_:1})),i(l,{class:"w-full py-2",tag:"button"},{default:u(()=>[B(p(a(n)?"\u7ED1\u5B9A\u8D26\u53F7":"\u8D26\u6237\u767B\u9646"),1)]),_:1}),i(l,{class:"w-full py-2",tag:"button"},{default:u(()=>[B(p(a(n)?"\u7ED1\u5B9A\u624B\u673A":"\u624B\u673A\u767B\u9646"),1)]),_:1})]),_:1}),i(w,{class:"mt-5"},{default:u(()=>[a(n)?m("v-if",!0):(c(),v(r,{key:0,class:"leading-relaxed"},{default:u(()=>[t("div",ht,[i(q,{appid:E.api.app_id,scope:E.api.scope,redirect_uri:E.api.redirect_uri},null,8,["appid","scope","redirect_uri"])])]),_:1})),i(r,{class:"leading-relaxed"},{default:u(()=>[t("div",wt,[x(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>s.username=o),class:"block px-4 py-3 intro-x login__input form-control",placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,512),[[_,s.username]]),x(t("input",{type:"password","onUpdate:modelValue":e[7]||(e[7]=o=>s.password=o),class:"block px-4 py-3 mt-4 intro-x login__input form-control",placeholder:"\u5BC6\u7801"},null,512),[[_,s.password]])]),kt,t("div",Et,[t("button",{class:"w-full px-4 py-3 align-top btn btn-primary xl:mr-3 xl:w-32",onClick:e[8]||(e[8]=o=>h(o,1))},p(a(n)?"\u7ED1\u5B9A":"\u767B\u9646"),1),a(n)?m("v-if",!0):(c(),y("button",{key:0,class:"hidden w-full px-4 py-3 mt-3 align-top btn btn-outline-secondary xl:mt-0 xl:w-32",onClick:N}," \u6CE8\u518C "))])]),_:1}),i(r,{class:"leading-relaxed"},{default:u(()=>[t("div",Ct,[x(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=o=>s.mobile=o),class:"block px-4 py-3 intro-x login__input form-control",placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,512),[[_,s.mobile]]),t("div",At,[x(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=o=>s.captcha=o),class:"block px-4 py-3 intro-x form-control",placeholder:"\u9A8C\u8BC1\u7801"},null,512),[[_,s.captcha]]),t("div",Dt,[d.sms.smsTimeOut==0?(c(),y("button",{key:0,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-primary",onClick:V},p(d.sms.smsText),1)):(c(),y("button",Ft," \u5012\u8BA1\u65F6"+p(d.sms.smsTimeOut)+"\u79D2 ",1))])])]),t("div",Tt,[t("button",{class:"w-full px-4 py-3 align-top btn btn-primary xl:mr-3",onClick:e[11]||(e[11]=o=>h(o,2))},p(a(n)?"\u7ED1\u5B9A":"\u767B\u9646"),1)])]),_:1})]),_:1})]),_:1}))]),Vt])]),m(" END: Login Form ")])])])}}}),Mt=ut(Ot,[["__file","/Users/wu./Documents/os/web/www/web/src/views/login.vue"]]);export{Mt as default};
