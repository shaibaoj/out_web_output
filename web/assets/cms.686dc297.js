import{d as k,a7 as v,G as D,a8 as y,l as B,C as V,n as u,e as C,w as a,b as F,h as t,u as n,F as E,ad as P,g as i,B as T,j as U,a9 as Y,a as A,aa as f,ab as M,k as j}from"./index.b5f77459.js";const N={list:"/api/admin/cms/list",view:"/api/admin/cms/view"},S=i("option",{value:"all"},"\u5168\u90E8",-1),R=i("option",{value:"1"},"\u5BA1\u6838\u4E2D",-1),$={class:"mt-2 xl:mt-0"},q=k({__name:"cms",setup(z){const m=v(),_=D(()=>`${m.urlPrefix}${m.apiUrl}${N.list}`),p=y({}),w=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u540D\u79F0",field:"title"},{title:"\u6240\u6709\u8005",width:150,field:"user.nick_name"},{title:"\u521B\u5EFA\u65F6\u95F4",width:160,field:"created_at",formatter(l){return Y(l.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(l){return l.getData().status===0?A('<a class="flex items-center" href="javascript:;">\u67E5\u770B</a>')[0]:""}}],e=B({rangePicker:"",name:"",status:0,startTime:"",endTime:""}),c=V(),d=()=>{e.startTime=f(e.rangePicker)[0],e.endTime=f(e.rangePicker)[0],c.value.reload(!0)};return(l,s)=>{const r=u("h-form-item"),g=u("Litepicker"),h=u("h-form"),b=M,x=u("h-card");return F(),C(x,{bordered:!1,title:"\u5E94\u7528\u7BA1\u7406"},{default:a(()=>[t(b,{ref_key:"tableRef",ref:c,columns:w,ajaxUrl:n(_),config:n(p),queryParam:e},{search:a(()=>[t(h,{layout:"inline"},{default:a(()=>[t(r,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:a(()=>[t(n(E),{type:"text",modelValue:e.name,"onUpdate:modelValue":s[0]||(s[0]=o=>e.name=o),class:"mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u72B6\u6001",content:"",layout:"inline"},{default:a(()=>[t(n(P),{modelValue:e.status,"onUpdate:modelValue":s[1]||(s[1]=o=>e.status=o),class:"w-full mt-2 sm:mt-0 sm:w-auto",onChange:d},{default:a(()=>[S,R]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:a(()=>[t(g,{modelValue:e.rangePicker,"onUpdate:modelValue":s[2]||(s[2]=o=>e.rangePicker=o),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),i("div",$,[t(n(T),{variant:"primary",type:"button",class:"w-full sm:w-16",onClick:d},{default:a(()=>[U(" \u67E5\u8BE2 ")]),_:1})])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1})}}}),H=j(q,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/admin/cms.vue"]]);export{H as default};
