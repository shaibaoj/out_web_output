import{d as N,P as O,l as B,C as I,G as M,o as S,a as R,m as L,t as U,n as w,c as G,u as t,e as x,f as d,g as e,h as r,w as f,a7 as _,j as m,O as z,aQ as $,aK as Z,aO as j,q,aR as H,b as p,i as J,D as K,p as C,B as g,aN as P,ae as Q,k as W}from"./index.004badce.js";import{_ as X}from"./illustration.3726e6b7.js";const Y={class:"container sm:px-10"},ee={class:"block grid-cols-2 gap-4 xl:grid"},se=z('<div class="flex-col hidden min-h-screen xl:flex"><a href="" class="flex items-center pt-5 -intro-x"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-6" src="'+P+'"><span class="ml-3 text-lg text-white"> \u7BA1\u7406\u4E2D\u5FC3 </span></a><div class="my-auto"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-1/2 -mt-16 -intro-x" src="'+X+'"><div class="mt-10 text-4xl font-medium leading-tight text-white -intro-x"> \u518D\u70B9\u51FB\u51E0\u4E0B \u767B\u5F55\u5230\u60A8\u7684\u5E10\u6237. </div><div class="mt-5 text-lg text-white -intro-x text-opacity-70 dark:text-slate-400"> \u8F7B\u677E\u7BA1\u7406\u60A8\u7684\u8425\u9500 </div></div></div>',1),te={class:"flex h-screen py-5 my-10 xl:my-0 xl:h-auto xl:py-0"},oe={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md dark:bg-darkmode-600 sm:w-3/4 sm:px-8 lg:w-2/4 xl:ml-20 xl:w-auto xl:bg-transparent xl:p-0 xl:shadow-none"},ae=e("h2",{class:"text-2xl font-bold text-center intro-x xl:text-left xl:text-3xl"}," \u6CE8\u518C ",-1),le=e("div",{class:"mt-2 text-center intro-x text-slate-400 dark:text-slate-400 xl:hidden"}," \u518D\u70B9\u51FB\u51E0\u4E0B\u5373\u53EF\u767B\u5F55\u60A8\u7684\u5E10\u6237\u3002\u5728\u4E00\u5904\u7BA1\u7406\u60A8\u7684\u6240\u6709\u7535\u5B50\u5546\u52A1\u5E10\u6237 ",-1),ue={class:"mt-8 intro-x"},ie={class:"py-3 gap-x-2"},ne={class:""},re={class:"grid w-full h-1 grid-cols-12 gap-4 mt-3 intro-x"},de={class:"flex items-center mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},ce=e("label",{class:"cursor-pointer select-none",for:"remember-me"},"\u6211\u540C\u610F",-1),me=e("a",{class:"ml-1 text-primary dark:text-slate-200",href:""},"\u9690\u79C1\u653F\u7B56",-1),pe={class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},xe=N({__name:"register",setup(fe){const k=Q(),{setToken:y}=O(),s=B({mobile:"",password:"",password_confirm:"",captcha:""}),l=B({sms:{isLoading:!1,smsTimeOut:0,smsText:"\u53D1\u9001\u9A8C\u8BC1\u7801"}}),c=I(!1),E={},u=M(()=>{let o=0;return/[0-9]/.test(s.password)&&o++,/[a-zA-Z]/.test(s.password)&&o++,/[^0-9a-zA-Z_]/.test(s.password)&&o++,o});S(()=>{R("body").removeClass("main").removeClass("error-page").addClass("login")});const h=L(E,U(s)),A=o=>{if(c.value=!0,o.preventDefault(),h.value.$touch(),h.value.$invalid)h.value.$errors,c.value=!1;else{const a=t(s);$(a).then(i=>{const{code:v}=i||{};i.data.token&&y(i.data.token),v===0&&F(),c.value=!1}).catch(()=>{c.value=!1})}},F=()=>{k.push({name:Z},!1)},V=()=>{l.sms.smsTimeOut=60,j({mobile:s.mobile,sms_token:CryptoJS.MD5(s.mobile).toString()}).then(o=>{o.code==0?b():(l.sms.smsTimeOut=0,q.success(o.message))}).catch(()=>{l.sms.smsTimeOut=0})},b=()=>{setTimeout(()=>{l.sms.smsTimeOut--,l.sms.smsTimeOut>0&&b()},1e3)},D=()=>{k.push({name:H},!1)};return(o,a)=>{const i=w("FormInput"),v=w("FormCheck.Input"),T=w("LoadingIcon");return p(),G("div",null,[t(J)()?(p(),x(t(K),{key:0})):d("v-if",!0),e("div",Y,[e("div",ee,[d(" BEGIN: Register Info "),se,d(" END: Register Info "),d(" BEGIN: Register Form "),e("div",te,[e("div",oe,[ae,le,e("div",ue,[r(i,{type:"text",modelValue:s.mobile,"onUpdate:modelValue":a[0]||(a[0]=n=>s.mobile=n),modelModifiers:{trim:!0},class:"block px-4 py-3 mt-4 intro-x login__input",placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,8,["modelValue"]),e("div",ie,[r(i,{type:"text",modelValue:s.captcha,"onUpdate:modelValue":a[1]||(a[1]=n=>s.captcha=n),modelModifiers:{trim:!0},class:"block px-4 py-3 intro-x",placeholder:"\u9A8C\u8BC1\u7801"},null,8,["modelValue"]),e("div",ne,[l.sms.smsTimeOut==0?(p(),x(t(g),{key:0,variant:"outline-primary",class:"inline-block w-24 mb-2 mr-1",onClick:V},{default:f(()=>[m(C(l.sms.smsText),1)]),_:1})):(p(),x(t(g),{key:1,variant:"outline-secondary",class:"inline-block w-24 mb-2 mr-1"},{default:f(()=>[m(" \u5012\u8BA1\u65F6"+C(l.sms.smsTimeOut)+"\u79D2 ",1)]),_:1}))])]),r(i,{type:"password",modelValue:s.password,"onUpdate:modelValue":a[2]||(a[2]=n=>s.password=n),modelModifiers:{trim:!0},class:"block px-4 py-3 mt-4 intro-x login__input",placeholder:"\u5BC6\u7801"},null,8,["modelValue"]),e("div",re,[e("div",{class:_(["h-full col-span-3 rounded",{"bg-success":t(u)>0,"bg-slate-100 dark:bg-darkmode-800":t(u)<=0}])},null,2),e("div",{class:_(["h-full col-span-3 rounded",{"bg-success":t(u)>1,"bg-slate-100 dark:bg-darkmode-800":t(u)<=1}])},null,2),e("div",{class:_(["h-full col-span-3 rounded",{"bg-success":t(u)>2,"bg-slate-100 dark:bg-darkmode-800":t(u)<=2}])},null,2),e("div",{class:_(["h-full col-span-3 rounded",{"bg-success":t(u)>3,"bg-slate-100 dark:bg-darkmode-800":t(u)<=3}])},null,2)]),r(i,{type:"password",modelValue:s.password_confirm,"onUpdate:modelValue":a[3]||(a[3]=n=>s.password_confirm=n),modelModifiers:{trim:!0},class:"block px-4 py-3 mt-4 intro-x login__input",placeholder:"\u786E\u8BA4\u5BC6\u7801"},null,8,["modelValue"])]),e("div",de,[r(v,{class:"mr-2 border form-check-input"}),ce,me,m(". ")]),e("div",pe,[r(t(g),{variant:"primary",class:"w-full px-4 py-3 align-top xl:mr-3 xl:w-32",onClick:A},{default:f(()=>[m(" \u6CE8\u518C "),c.value?(p(),x(T,{key:0,icon:"oval",color:"white",class:"w-4 h-4 ml-2"})):d("v-if",!0)]),_:1}),r(t(g),{variant:"outline-secondary",class:"w-full px-4 py-3 mt-3 align-top xl:mt-0 xl:w-32",onClick:D},{default:f(()=>[m(" \u767B\u9646 ")]),_:1})])])]),d(" END: Register Form ")])])])}}}),he=W(xe,[["__file","/Users/wu./Documents/os/web/www/web/src/views/register.vue"]]);export{he as default};
