import{d as J,a7 as K,l as q,o as ha,m as ba,t as wa,an as Ea,s as Z,n as c,b as v,e as W,w as o,h as t,u as i,B as b,j as k,L as aa,c as S,f as O,p as Y,ao as xa,q as C,ap as Ua,k as Q,aq as Va,G as H,ar as ya,a8 as Ba,C as N,g as U,y as Da,a9 as $a,a as h,as as Aa,at as Fa,ab as Ca,J as Pa,au as ja,av as Ma}from"./index.37edada6.js";import{p as ka}from"./pick.40234cfe.js";import{R as va}from"./ReportDonutChart.7bf496bf.js";const Sa={key:0},qa={key:1},La=["href"],Ia={key:0},Oa={key:1},Ta=["href"],Ra=J({__name:"data",setup(X,{expose:V}){const $=K().uploadUrl,p=q({ios_mobileprovision:"",ios_p12:"",ios_app_id:"",ios_password:"",android_url:"",ios_url:""}),_={},e=q({visible:!1,confirmLoading:!1,uploading:!0,android:{android_package_name:"",keystore_md5:"",md5:"",sha1:"",sha256:""},ios:{iosMobileprovision:"",iosP12:"",ios_mobileprovision:""}});ha(()=>{l()});const r=ba(_,wa(p)),l=()=>{E()},E=()=>{Ea({}).then(u=>{u.data.app&&Z(()=>{var d,m,s,w,y,D,a,n;Object.assign(p,ka((d=u.data)==null?void 0:d.app,["ios_app_id","ios_mobileprovision","ios_p12","ios_password"])),e.ios.iosMobileprovision=(m=u.data.app)==null?void 0:m.ios_mobileprovision,e.ios.iosP12=(s=u.data.app)==null?void 0:s.ios_p12,e.android.android_package_name=(w=u.data.app)==null?void 0:w.android_package_name,e.android.keystore_md5=(y=u.data.app)==null?void 0:y.keystore_md5,e.android.md5=(D=u.data.app)==null?void 0:D.md5,e.android.sha1=(a=u.data.app)==null?void 0:a.sha1,e.android.sha256=(n=u.data.app)==null?void 0:n.sha256}),u.data.app_detail&&Z(()=>{Object.assign(p,ka(u.data.app_detail,["android_url","ios_url"]))})})},A=u=>{if(u.preventDefault(),r.value.$touch(),r.value.$invalid)r.value.$errors;else{const d=i(p);xa(d).then(m=>{const{code:s}=m||{};s===0?C.success("\u4FDD\u5B58\u6210\u529F"):C.error(m.message)}),Ua(d).then(m=>{const{code:s}=m||{};s===0?C.success("\u4FDD\u5B58\u6210\u529F"):C.error(m.message)})}},P=u=>{Object.assign(p,{ios_mobileprovision:u.data.item.img}),e.ios.iosMobileprovision=u.data.item.img},j=u=>{Object.assign(p,{ios_p12:u.data.item.img}),e.ios.iosP12=u.data.item.img},g=()=>{e.visible=!1};return V({edit:()=>{e.visible=!0}}),(u,d)=>{const m=c("FormInput"),s=c("h-form-item"),w=c("h-upload"),y=c("h-form"),D=c("h-drawer");return v(),W(D,{title:"\u6253\u5305\u914D\u7F6E",visible:e.visible,"confirm-loading":e.confirmLoading,onCancel:g},{footer:o(()=>[t(i(b),{variant:"primary",class:"w-24 mb-2 mr-1",onClick:A},{default:o(()=>[k("\u4FDD\u5B58")]),_:1})]),default:o(()=>[t(y,{layout:"small"},{default:o(()=>[t(s,{label:"AppID",content:"",layout:"small"},{default:o(()=>[t(m,{type:"text",modelValue:p.ios_app_id,"onUpdate:modelValue":d[0]||(d[0]=a=>p.ios_app_id=a),placeholder:"\u6CE8:bundle id"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u8BC1\u4E66\u5BC6\u7801",content:"",layout:"small"},{default:o(()=>[t(m,{type:"text",modelValue:p.ios_password,"onUpdate:modelValue":d[1]||(d[1]=a=>p.ios_password=a),placeholder:"\u8BC1\u4E66\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),t(s,{label:"profile\u6587\u4EF6",content:"",layout:"small"},{default:o(()=>[t(w,{name:"file",multiple:!0,action:i($),fileType:[".mobileprovision",".p12"],onChange:P},{default:o(()=>[t(i(b),{variant:"primary",class:"w-24 mb-2 mr-1"},{default:o(()=>[t(i(aa),{icon:"Upload",class:"block mx-auto"}),e.ios.iosMobileprovision?(v(),S("span",Sa,"\u66FF\u6362")):(v(),S("span",qa,"\u4E0A\u4F20"))]),_:1})]),_:1},8,["action","fileType"]),e.ios.iosMobileprovision?(v(),S("a",{key:0,target:"_blank",href:e.ios.iosMobileprovision},"\u4E0B\u8F7D",8,La)):O("v-if",!0)]),_:1}),t(s,{label:"\u79C1\u94A5\u8BC1\u4E66",content:"",layout:"small"},{default:o(()=>[t(w,{name:"file",multiple:!0,action:i($),fileType:[".mobileprovision",".p12"],onChange:j},{default:o(()=>[t(i(b),{variant:"primary",class:"w-24 mb-2 mr-1"},{default:o(()=>[t(i(aa),{icon:"Upload",class:"block mx-auto"}),e.ios.iosP12?(v(),S("span",Ia,"\u66FF\u6362")):(v(),S("span",Oa,"\u4E0A\u4F20"))]),_:1})]),_:1},8,["action","fileType"]),e.ios.iosP12?(v(),S("a",{key:0,target:"_blank",href:e.ios.iosP12},"\u4E0B\u8F7D",8,Ta)):O("v-if",!0)]),_:1}),t(s,{label:"\u5B89\u5353\u5305\u540D",content:"",layout:"small"},{default:o(()=>[k(Y(e.android.android_package_name),1)]),_:1}),t(s,{label:"\u5E94\u7528\u7B7E\u540D",content:"",layout:"small"},{default:o(()=>[k(Y(e.android.keystore_md5),1)]),_:1}),t(s,{label:"md5",content:"",layout:"small"},{default:o(()=>[k(Y(e.android.md5),1)]),_:1}),t(s,{label:"sha1",content:"",layout:"small"},{default:o(()=>[k(Y(e.android.sha1),1)]),_:1}),t(s,{label:"sha256",content:"",layout:"small"},{default:o(()=>[k(Y(e.android.sha256),1)]),_:1})]),_:1}),t(y,{layout:"small"},{default:o(()=>[t(s,{label:"\u5B89\u5353\u7248\u672C\u4E0B\u8F7D\u5730\u5740",content:"",layout:"small"},{default:o(()=>[t(m,{type:"text",modelValue:p.android_url,"onUpdate:modelValue":d[2]||(d[2]=a=>p.android_url=a),placeholder:"\u53EF\u4EE5\u5728\u6253\u5305\u5217\u8868\u9009\u7248\uFF0C\u6216\u8005\u586B\u5199\u7C7B\u4F3C\u5E94\u7528\u5B9D\u4E0A\u67B6\u540E\u7684\u5730\u5740"},null,8,["modelValue"])]),_:1}),t(s,{label:"\u82F9\u679C\u7248\u672C\u4E0B\u8F7D\u5730\u5740",content:"",layout:"small"},{default:o(()=>[t(m,{type:"text",modelValue:p.ios_url,"onUpdate:modelValue":d[3]||(d[3]=a=>p.ios_url=a),placeholder:"\u4E0A\u67B6\u6210\u529F\u540E\uFF0C\u5C06\u5730\u5740\u586B\u5199\u5230\u8FD9\u91CC"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),za=Q(Ra,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/app/package/data.vue"]]),Ya=J({__name:"log",emits:["ok"],setup(X,{expose:V,emit:T}){const p=K().uploadUrl,_=q({app_name:"",file_md5:"",file_size:"",package_name:"",version_code:"",version_name:"",url:""}),e={},r=q({visible:!1,confirmLoading:!1}),l=()=>{r.visible=!1},E=ba(e,wa(_)),A=()=>{r.visible=!0,Z(()=>{Object.assign(_,{app_name:"",file_md5:"",file_size:"",package_name:"",version_code:"",version_name:"",url:""})})},P=g=>{if(r.confirmLoading=!0,E.value.$touch(),E.value.$invalid)E.value.$errors,r.confirmLoading=!1;else{const f=i(_);Va(Object.assign(f,{task:g})).then(u=>{u.code===0&&(C.success("\u63D0\u4EA4\u6210\u529F"),T("ok",f),r.visible=!1),r.confirmLoading=!1})}},j=g=>{Object.assign(_,{url:g.data.item.img,version_code:g.data.item.version_code,version_name:g.data.item.version_name,package_name:g.data.item.package_name,app_name:g.data.item.app_name,file_md5:g.data.item.file_md5,file_size:g.data.item.file_size})};return V({edit:A}),(g,f)=>{const u=c("FormInput"),d=c("h-form-item"),m=c("h-upload"),s=c("h-form"),w=c("h-spin"),y=c("LoadingIcon"),D=c("h-modal");return v(),W(D,{title:"\u4E0A\u4F20\u53D1\u5E03\u5305",visible:r.visible,"confirm-loading":r.confirmLoading,onCancel:l},{footer:o(()=>[t(i(b),{variant:"primary",class:"mb-2 mr-1 w-24",onClick:f[4]||(f[4]=a=>P(0))},{default:o(()=>[k(" \u4FDD\u5B58 "),r.confirmLoading?(v(),W(y,{key:0,icon:"oval",color:"white",class:"ml-2 h-4 w-4"})):O("v-if",!0)]),_:1})]),default:o(()=>[t(w,{spinning:r.confirmLoading},{default:o(()=>[t(s,{layout:"small"},{default:o(()=>[t(d,{label:"\u5305\u540D",content:"",layout:"small"},{default:o(()=>[t(u,{type:"text",modelValue:_.package_name,"onUpdate:modelValue":f[0]||(f[0]=a=>_.package_name=a),placeholder:""},null,8,["modelValue"])]),_:1}),t(d,{label:"\u7248\u672C\u7F16\u53F7",content:"",layout:"small"},{default:o(()=>[t(u,{type:"text",modelValue:_.version_code,"onUpdate:modelValue":f[1]||(f[1]=a=>_.version_code=a),placeholder:""},null,8,["modelValue"])]),_:1}),t(d,{label:"\u7248\u672C",content:"",layout:"small"},{default:o(()=>[t(u,{type:"text",modelValue:_.version_name,"onUpdate:modelValue":f[2]||(f[2]=a=>_.version_name=a),placeholder:""},null,8,["modelValue"])]),_:1}),t(d,{label:"\u6587\u4EF6\u5305",content:"",layout:"small"},{default:o(()=>[t(u,{type:"text",modelValue:_.url,"onUpdate:modelValue":f[3]||(f[3]=a=>_.url=a),placeholder:"\u5B89\u5353\u5305\u7684\u4E0B\u8F7D\u5730\u5740"},null,8,["modelValue"]),t(m,{name:"file",multiple:!0,data:{action:"apk"},action:i(p),onChange:j},{default:o(()=>[t(i(b),{variant:"outline-success",class:"btn-sm mt-1 mb-2 mr-2 w-32"},{default:o(()=>[t(i(aa),{icon:"Upload",class:"mr-2 h-4 w-4"}),k("\u4E0A\u4F20 ")]),_:1})]),_:1},8,["action"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["visible","confirm-loading"])}}}),Na=Q(Ya,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/app/package/modal/log.vue"]]),Wa={class:"mt-2 xl:mt-0"},Ga=["src"],Ha=J({__name:"log",emits:["ok"],setup(X,{expose:V,emit:T}){const $=K(),p=H(()=>`${$.urlPrefix}${$.apiUrl}${ya.getPackageItemsUpdate}`),_=Ba({}),e=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u4E0A\u4F20\u65F6\u95F4",field:"created_at",formatter(a){return $a(a.getData().created_at,"YY-MM-DD HH:mm")},width:150},{title:"\u7248\u672C",field:"version_code",formatter(a){return h(`
          <div class="flex items-center">
            <div class="ml-4">
              <div class="whitespace-nowrap mt-0.5">
                ${a.getData().version_code}
              </div>
              <div class="text-slate-500 text-xs whitespace-nowrap mt-0.5">
                ${a.getData().version_name}
              </div>
              <div class="text-slate-500 text-xs whitespace-nowrap mt-0.5">
                ${a.getData().package_name}
              </div>
            </div>
          </div>
          `)[0]},download:!0},{title:" ",field:"url",width:150,formatter(a){if(a.getData().url){const n=h(`<a target="_blank" href="${a.getData().url}">\u4E0B\u8F7D</a>
            <a href="javascript:;">\u626B\u7801\u6D4B\u8BD5</a>`);return h(n).find("a:nth-child(2)").on("click",function(B){g(a.getData())}),n[0]}return""}},{title:" ",field:"",width:150,formatter(a){if(a.getData().url){const n=h('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u5B89\u5353\u626B\u7801\u6B63\u5F0F\u7248</a>');return h(n).on("click",function(B){d(a.getData())}),n[0]}return""}},{title:" ",field:"",width:150,formatter(a){if(a.getData().url&&a.getData().file_md5){const n=h('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u81EA\u52A8\u66F4\u65B0\u7248</a>');return h(n).on("click",function(B){m(a.getData(),"upload")}),n[0]}return""}}],r=q({rangePicker:"",name:""}),l=q({visible:!1,confirmLoading:!1,android_scan:{modal_scan:!1,scan_download_url:""},android:{modal_android_upate:!1,task_id:0,task_type:"",update_content:""}}),E=H(()=>{if(l.android_scan.scan_download_url){const a="http://app.ishops.today/test.html?url="+encodeURIComponent(l.android_scan.scan_download_url);return"https://img.marsnews.work/?w=300&url="+encodeURIComponent(a)}return""}),A=N(),P=N(),j=()=>{A.value.reload(!0)},g=a=>{l.android_scan.modal_scan=!0,l.android_scan.scan_download_url=a.url},f=()=>{l.android_scan.modal_scan=!1},u=()=>{l.android_scan.modal_scan=!1},d=a=>{Aa({id:a.id}).then(()=>{C.success("\u914D\u7F6E\u6210\u529F")})},m=(a,n)=>{l.android.modal_android_upate=!0,l.android.task_id=a.id,l.android.task_type=n,l.android.update_content=""},s=()=>{Fa({task_id:l.android.task_id,task_type:l.android.task_type,content:l.android.update_content}).then(a=>{const{code:n}=a||{};n===0?C.success("\u4FDD\u5B58\u6210\u529F"):C.error(a.message),T("ok",{}),l.android.modal_android_upate=!1})},w=()=>{l.android.modal_android_upate=!1},y=()=>{l.visible=!0},D=()=>{l.visible=!1};return V({show:y}),(a,n)=>{const B=c("FormInput"),M=c("h-form-item"),R=c("Litepicker"),z=c("h-form"),F=Ca,L=c("h-drawer"),I=c("h-modal"),G=c("FormTextarea");return v(),S(Da,null,[t(L,{size:"xl",title:"\u5B89\u5353\u5305\u7BA1\u7406",visible:l.visible,"confirm-loading":l.confirmLoading,onCancel:D},{header:o(()=>[t(i(b),{variant:"primary",class:"mr-2 shadow-md",onClick:n[0]||(n[0]=x=>P.value.edit({}))},{default:o(()=>[k("\u4E0A\u4F20\u65B0\u5305 ")]),_:1})]),default:o(()=>[t(F,{ref_key:"tableRef",ref:A,columns:e,ajaxUrl:i(p),config:i(_),queryParam:r},{search:o(()=>[t(z,{layout:"inline"},{default:o(()=>[t(M,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:o(()=>[t(B,{type:"text",modelValue:r.name,"onUpdate:modelValue":n[1]||(n[1]=x=>r.name=x),class:"mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,8,["modelValue"])]),_:1}),t(M,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:o(()=>[t(R,{modelValue:r.rangePicker,"onUpdate:modelValue":n[2]||(n[2]=x=>r.rangePicker=x),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"mx-auto block w-56"},null,8,["modelValue"])]),_:1}),U("div",Wa,[t(i(b),{variant:"primary",type:"button",class:"w-full sm:w-16",onClick:j},{default:o(()=>[k(" \u67E5\u8BE2 ")]),_:1})])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1},8,["visible","confirm-loading"]),t(I,{title:"\u626B\u7801\u6D4B\u8BD5\u7248\u672C",visible:l.android_scan.modal_scan,onOk:f,onCancel:u},{default:o(()=>[U("img",{src:i(E),alt:""},null,8,Ga)]),_:1},8,["visible"]),t(I,{title:"\u8BBE\u7F6E\u7248\u672C\u81EA\u52A8\u5347\u7EA7",visible:l.android.modal_android_upate},{footer:o(()=>[t(i(b),{variant:"primary",type:"button",onClick:w,class:"btn btn-outline-secondary mr-1 w-20"},{default:o(()=>[k(" \u53D6\u6D88 ")]),_:1}),t(i(b),{variant:"primary",type:"button",class:"w-20",onClick:s},{default:o(()=>[k(" \u786E\u8BA4 ")]),_:1})]),default:o(()=>[t(G,{modelValue:l.android.update_content,"onUpdate:modelValue":n[3]||(n[3]=x=>l.android.update_content=x),rows:4,placeholder:"\u7248\u672C\u66F4\u65B0\u8BF4\u660E"},null,8,["modelValue"])]),_:1},8,["visible"]),t(Na,{ref_key:"modal",ref:P,onOk:j},null,512)],64)}}}),Ja=Q(Ha,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/app/package/log.vue"]]),Ka={class:"box mt-2 flex p-2 py-5"},Qa={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},Xa={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},Za=["src"],ae={class:"text-"},ee={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},te=["src"],oe=J({__name:"package",setup(X){const V=K(),T=H(()=>`${V.urlPrefix}${V.apiUrl}${ya.getPackageItems}`),$=Ba({}),p=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u6253\u5305\u65F6\u95F4",field:"created_at"},{title:"\u7248\u672C",field:"version_name"},{title:"\u5E73\u53F0",field:"client_type",formatter(a){return a.getData().client_type===1?"\u5B89\u5353":"\u82F9\u679C"}},{title:"\u72B6\u6001",field:"status",width:80,formatter(a){return a.getData().status===0?"\u6253\u5305\u4E2D":a.getData().status===1?"\u6210\u529F":"\u5931\u8D25"}},{title:" ",field:"download_url",width:180,formatter(a){if(a.getData().download_url&&a.getData().md5&&a.getData().client_type===1){const n=h('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u5B89\u5353\u626B\u7801\u6B63\u5F0F\u7248</a>');return h(n).on("click",function(B){g(a.getData())}),n[0]}return""}},{title:" ",field:"",width:150,formatter(a){if(a.getData().download_url){const n=h(`
          <a target="_blank" href="${a.getData().download_url}">\u4E0B\u8F7D</a>
          ${a.getData().client_type===1?'<a class="flex items-center action-scan" href="javascript:;">\u626B\u7801\u6D4B\u8BD5</a>':""}
          `);return h(n).find(".action-scan").on("click",function(B){A(a.getData())}),n[0]}return""}},{title:" ",field:"",width:150,formatter(a){if(a.getData().download_url&&a.getData().md5&&a.getData().client_type===1){const n=h('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u81EA\u52A8\u66F4\u65B0\u7248</a>');return h(n).on("click",function(B){f(a.getData(),"")}),n[0]}return""}}],_=q({}),e=q({android_scan:{modal_scan:!1,scan_download_url:""},android:{modal_android_upate:!1,task_id:0,task_type:"",update_content:""},pack:{android:{percent:0,prompt:"",status:-1},ios:{percent:0,prompt:"",status:-1}},qrcode:{debug:"",release:""},packing:{android:!1,ios:!1},download:{ios_url:"",android_url:""},query:!1}),r=H(()=>{if(e.android_scan.scan_download_url){const a="http://app.ishops.today/test.html?url="+encodeURIComponent(e.android_scan.scan_download_url);return"https://img.marsnews.work/?w=300&url="+encodeURIComponent(a)}return""});ha(()=>{E()}),Pa(()=>{e.query=!1});const l=N(),E=()=>{e.query=!0,m()},A=a=>{e.android_scan.modal_scan=!0,e.android_scan.scan_download_url=a.download_url},P=()=>{e.android_scan.modal_scan=!1},j=()=>{e.android_scan.modal_scan=!1},g=a=>{Ma({task_id:a.id}).then(()=>{C.success("\u914D\u7F6E\u6210\u529F")})},f=(a,n)=>{e.android.modal_android_upate=!0,e.android.task_id=a.id,e.android.task_type=n,e.android.update_content=""},u=()=>{Fa({task_id:e.android.task_id,task_type:e.android.task_type,content:e.android.update_content}).then(a=>{const{code:n}=a||{};n===0?C.success("\u4FDD\u5B58\u6210\u529F"):C.error(a.message),e.android.modal_android_upate=!1})},d=()=>{e.android.modal_android_upate=!1},m=()=>{!e.query||ja({}).then(a=>{var B,M,R,z,F,L,I,G,x,ea,ta,oa,na,la,ua,ia,sa,da,ra,ca,pa,ma,_a,fa,ga;let n=!1;a.data.app&&((B=a.data.app)!=null&&B.android&&(e.download.android_url=(R=(M=a.data.app)==null?void 0:M.android)==null?void 0:R.download_url,e.pack.android.percent=(F=(z=a.data.app)==null?void 0:z.android)==null?void 0:F.percent,(I=(L=a.data.app)==null?void 0:L.android)!=null&&I.prompt&&(e.pack.android.prompt=(x=(G=a.data.app)==null?void 0:G.android)==null?void 0:x.prompt),e.pack.android.status=(ta=(ea=a.data.app)==null?void 0:ea.android)==null?void 0:ta.status,((oa=a.data.app)==null?void 0:oa.android.status)===0?e.packing.android=!0:(e.packing.android===!0&&(n=!0),e.packing.android=!1)),(na=a.data.app)!=null&&na.ios&&(e.download.ios_url=(ua=(la=a.data.app)==null?void 0:la.ios)==null?void 0:ua.download_url,e.pack.ios.percent=(sa=(ia=a.data.app)==null?void 0:ia.ios)==null?void 0:sa.percent,(ra=(da=a.data.app)==null?void 0:da.ios)!=null&&ra.prompt&&(e.pack.ios.prompt=(pa=(ca=a.data.app)==null?void 0:ca.ios)==null?void 0:pa.prompt),e.pack.ios.status=(_a=(ma=a.data.app)==null?void 0:ma.ios)==null?void 0:_a.status,((ga=(fa=a.data.app)==null?void 0:fa.ios)==null?void 0:ga.status)===0?e.packing.ios=!0:(e.packing.ios===!0&&(n=!0),e.packing.ios=!1))),a.data.qrcode&&(e.qrcode.debug=a.data.qrcode.debug,e.qrcode.release=a.data.qrcode.release),e.packing.android||e.packing.ios?setTimeout(()=>{m()},5e3):n&&l.value.reload(!0)})},s=a=>{},w=()=>{l.value.reload(!0)},y=N(),D=N();return(a,n)=>{const B=Ca,M=c("h-modal"),R=c("FormTextarea"),z=c("h-card");return v(),S(Da,null,[t(z,{title:"\u6253\u5305\u7BA1\u7406",bordered:!1},{header:o(()=>[t(i(b),{variant:"primary",class:"mr-2 shadow-md",onClick:n[0]||(n[0]=F=>y.value.edit({}))},{default:o(()=>[k("\u6253\u5305\u914D\u7F6E ")]),_:1}),t(i(b),{variant:"primary",class:"mr-2 shadow-md",onClick:n[1]||(n[1]=F=>D.value.show({}))},{default:o(()=>[k("\u5B89\u5353\u5305\u7BA1\u7406 ")]),_:1})]),extra:o(()=>{var F,L;return[U("div",Ka,[U("div",Qa,[t(i(va),{height:120}),O(' type="circle"\n            :percent="page.pack?.android?.percent"\n            :format="\n              (percent) => (percent > 0 ? `${page.pack?.android?.prompt}${percent} %` : `${page.pack?.android?.prompt}`)\n            " '),((L=(F=e.pack)==null?void 0:F.android)==null?void 0:L.status)!=0?(v(),W(i(b),{key:0,variant:"outline-success",class:"mb-2 mr-1 inline-block w-24",onClick:n[2]||(n[2]=I=>s(1))},{default:o(()=>[k(" \u5B89\u5353\u6253\u5305 ")]),_:1})):O("v-if",!0)]),U("div",Xa,[U("img",{src:e.qrcode.release,alt:"",class:"h-24 w-24"},null,8,Za),U("div",ae," \u6B64\u4E3A\u6B63\u5F0F\u7248\u672C\u4E8C\u7EF4\u7801\uFF0C\u6D4B\u8BD5\u8BF7\u70B9\u5BF9\u5E94\u884C\u626B\u7801\u6D4B\u8BD5 "+Y(e.pack.android.prompt),1)]),U("div",ee,[t(i(va),{height:120}),O(' type="circle"\n            :percent="page.pack.ios.percent"\n            :format="(percent) => (percent > 0 ? `${page.pack.ios.prompt}${percent} %` : `${page.pack.ios.prompt}`)" '),e.pack.ios.status!=0?(v(),W(i(b),{key:0,variant:"outline-success",class:"mb-2 mr-1 inline-block w-24",onClick:n[3]||(n[3]=I=>s(2))},{default:o(()=>[k(" \u82F9\u679C\u6253\u5305 ")]),_:1})):O("v-if",!0)])])]}),default:o(()=>[t(B,{ref_key:"tableRef",ref:l,columns:p,ajaxUrl:i(T),config:i($),queryParam:_},null,8,["ajaxUrl","config","queryParam"]),t(M,{title:"\u626B\u7801\u6D4B\u8BD5\u7248\u672C",visible:e.android_scan.modal_scan,onOk:P,onCancel:j},{default:o(()=>[U("img",{src:i(r),alt:""},null,8,te)]),_:1},8,["visible"]),t(M,{title:"\u8BBE\u7F6E\u7248\u672C\u81EA\u52A8\u5347\u7EA7",visible:e.android.modal_android_upate,onOk:u,onCancel:d},{default:o(()=>[t(R,{modelValue:e.android.update_content,"onUpdate:modelValue":n[4]||(n[4]=F=>e.android.update_content=F),rows:4,placeholder:"\u7248\u672C\u66F4\u65B0\u8BF4\u660E"},null,8,["modelValue"])]),_:1},8,["visible"])]),_:1}),t(za,{ref_key:"dataModal",ref:y,onOk:w},null,512),t(Ja,{ref_key:"logModal",ref:D,onOk:w},null,512)],64)}}}),ie=Q(oe,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/app/package.vue"]]);export{ie as default};
