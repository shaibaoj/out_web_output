import{h as x,Y as y,D as B,Z as v,j as F,C as T,b as Y,w as o,s as n,a as P,p as r,x as E,a0 as M,l as s,u as f,d}from"./index.9c437169.js";import{f as U,s as p}from"./dateUtil.cd140771.js";const V={list:"/api/admin/feedback/list"},j=s("option",{value:"all"},"\u5168\u90E8",-1),R=[j],$=x({__name:"feedback",setup(S){const u=y(),_=B(()=>`${u.urlPrefix}${u.apiUrl}${V.list}`),h=v({}),b=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u5185\u5BB9",field:"content"},{title:"\u8054\u7CFB\u65B9\u5F0F",width:150,field:"contact"},{title:"\u65F6\u95F4",width:140,field:"created_at",formatter(a){return U(a.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(a){if(a.getData().status===0){const t=d('<a class="flex items-center" href="javascript:;">\u56DE\u590D</a>');return d(t).on("click",function(l){g(a.getData())}),t[0]}return""}}],e=F({rangePicker:"",status:0,startTime:"",endTime:""}),c=T(),m=()=>{e.startTime=p(e.rangePicker)[0],e.endTime=p(e.rangePicker)[0],c.value.reload(!0)},g=a=>{};return(a,t)=>{const l=n("h-form-item"),k=n("Litepicker"),w=n("h-form"),D=n("Tablepage"),C=n("h-card");return P(),Y(C,{bordered:!1,title:"\u95EE\u9898\u53CD\u9988"},{default:o(()=>[r(D,{ref_key:"tableRef",ref:c,columns:b,ajaxUrl:f(_),config:f(h),queryParam:e},{search:o(()=>[r(l,{label:"\u72B6\u6001",content:"",layout:"inline"},{default:o(()=>[E(s("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.status=i),class:"form-select mt-2 w-full sm:mt-0 sm:w-auto",onChange:m},R,544),[[M,e.status]])]),_:1}),r(w,{layout:"inline"},{default:o(()=>[r(l,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:o(()=>[r(k,{modelValue:e.rangePicker,"onUpdate:modelValue":t[1]||(t[1]=i=>e.rangePicker=i),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"form-control mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),s("div",{class:"mt-2 xl:mt-0"},[s("button",{type:"button",class:"btn btn-primary w-full sm:w-16",onClick:m}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1})}}});export{$ as default};
