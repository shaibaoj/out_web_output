import{r as x,d as D,a7 as v,G as V,a8 as A,l as E,C as P,n as r,e as T,w as u,b as U,h as a,u as n,F as Y,ad as q,g as m,B as M,j,a9 as N,a as p,q as S,aa as _,ab as R,k as $}from"./index.b5f77459.js";const h={list:"/api/admin/apply/list",update:"/api/admin/apply/update"};function z(d){return x({url:h.update,method:"post",data:d})}const G=m("option",{value:"all"},"\u5168\u90E8",-1),H=m("option",{value:"1"},"\u5BA1\u6838\u4E2D",-1),L={class:"mt-2 xl:mt-0"},O=D({__name:"apply",setup(d){const c=v(),w=V(()=>`${c.urlPrefix}${c.apiUrl}${h.list}`),g=A({}),b=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u5E10\u53F7",width:150,field:"user.nick_name"},{title:"\u540D\u79F0",width:100,field:"name"},{title:"\u7C7B\u578B",width:80,field:"type"},{title:"\u6708\u6536\u5165",width:80,field:"income"},{title:"\u62E5\u6709\u8F6C\u64AD\u7FA4",width:80,field:"relay_qun"},{title:"\u8054\u7CFBQQ",width:120,field:"qq",sorter:!0},{title:"\u8054\u7CFB\u624B\u673A",width:150,field:"mobile"},{title:"\u81EA\u6709\u6E20\u9053",width:80,field:"channel"},{title:"\u7533\u8BF7\u7406\u7531",field:"reason"},{title:"\u7533\u8BF7\u65F6\u95F4",width:150,field:"created_at",formatter(l){return N(l.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(l){if(l.getData().status===0){const t=p('<a class="flex items-center" href="javascript:;">\u901A\u8FC7</a>');return p(t).on("click",function(o){y(l.getData())}),t[0]}return""}}],e=E({rangePicker:"",name:"",status:0,startTime:"",endTime:""}),i=P(),y=l=>{z({id:l.id,status:1}).then(t=>{S.success(t.message),i.value.reload()})},f=()=>{e.startTime=_(e.rangePicker)[0],e.endTime=_(e.rangePicker)[0],i.value.reload(!0)};return(l,t)=>{const o=r("h-form-item"),F=r("Litepicker"),B=r("h-form"),C=R,k=r("h-card");return U(),T(k,{bordered:!1,title:"\u7533\u8BF7\u5BA1\u6838"},{default:u(()=>[a(C,{ref_key:"tableRef",ref:i,columns:b,ajaxUrl:n(w),config:n(g),queryParam:e},{search:u(()=>[a(B,{layout:"inline"},{default:u(()=>[a(o,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:u(()=>[a(n(Y),{type:"text",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=s=>e.name=s),class:"mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,8,["modelValue"])]),_:1}),a(o,{label:"\u72B6\u6001",content:"",layout:"inline"},{default:u(()=>[a(n(q),{modelValue:e.status,"onUpdate:modelValue":t[1]||(t[1]=s=>e.status=s),class:"w-full mt-2 sm:mt-0 sm:w-auto",onChange:f},{default:u(()=>[G,H]),_:1},8,["modelValue"])]),_:1}),a(o,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:u(()=>[a(F,{modelValue:e.rangePicker,"onUpdate:modelValue":t[2]||(t[2]=s=>e.rangePicker=s),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),m("div",L,[a(n(M),{variant:"primary",type:"button",class:"w-full sm:w-16",onClick:f},{default:u(()=>[j(" \u67E5\u8BE2 ")]),_:1})])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1})}}}),W=$(O,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/admin/apply.vue"]]);export{W as default};
