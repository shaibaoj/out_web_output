import{h as F,N as T,j as _,C as N,G as O,o as S,d as V,k as M,t as I,l as L,c as g,u as a,b as h,e as i,m as s,x as m,y as p,n as w,aw as x,p as k,f as R,aE as U,az as z,aC as G,s as $,aF as Z,a as d,i as j,aA as H,aB as J,a9 as q,D as K,_ as P}from"./index.bff3ee16.js";const Q={class:"container sm:px-10"},W={class:"block grid-cols-2 gap-4 xl:grid"},X=R('<div class="flex-col hidden min-h-screen xl:flex"><a href="" class="flex items-center pt-5 -intro-x"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-6" src="'+H+'"><span class="ml-3 text-lg text-white"> \u7BA1\u7406\u4E2D\u5FC3 </span></a><div class="my-auto"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-1/2 -mt-16 -intro-x" src="'+J+'"><div class="mt-10 text-4xl font-medium leading-tight text-white -intro-x"> \u518D\u70B9\u51FB\u51E0\u4E0B \u767B\u5F55\u5230\u60A8\u7684\u5E10\u6237. </div><div class="mt-5 text-lg text-white -intro-x text-opacity-70 dark:text-slate-400"> \u8F7B\u677E\u7BA1\u7406\u60A8\u7684\u8425\u9500 </div></div></div>',1),Y={class:"flex h-screen py-5 my-10 xl:my-0 xl:h-auto xl:py-0"},ss={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md dark:bg-darkmode-600 sm:w-3/4 sm:px-8 lg:w-2/4 xl:ml-20 xl:w-auto xl:bg-transparent xl:p-0 xl:shadow-none"},ts=s("h2",{class:"text-2xl font-bold text-center intro-x xl:text-left xl:text-3xl"}," \u6CE8\u518C ",-1),es=s("div",{class:"mt-2 text-center intro-x text-slate-400 dark:text-slate-400 xl:hidden"}," \u518D\u70B9\u51FB\u51E0\u4E0B\u5373\u53EF\u767B\u5F55\u60A8\u7684\u5E10\u6237\u3002\u5728\u4E00\u5904\u7BA1\u7406\u60A8\u7684\u6240\u6709\u7535\u5B50\u5546\u52A1\u5E10\u6237 ",-1),os={class:"mt-8 intro-x"},as={class:"py-3 input-group gap-x-2"},ls={class:""},us={key:1,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary"},ns={class:"grid w-full h-1 grid-cols-12 gap-4 mt-3 intro-x"},is=s("div",{class:"flex items-center mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},[s("input",{type:"checkbox",class:"mr-2 border form-check-input"}),s("label",{class:"cursor-pointer select-none",for:"remember-me"},"\u6211\u540C\u610F"),s("a",{class:"ml-1 text-primary dark:text-slate-200",href:""},"\u9690\u79C1\u653F\u7B56"),k(". ")],-1),rs={class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},cs=F({__name:"register",setup(ds){const v=q(),{setToken:y}=T(),t=_({mobile:"",password:"",password_confirm:"",captcha:""}),u=_({sms:{isLoading:!1,smsTimeOut:0,smsText:"\u53D1\u9001\u9A8C\u8BC1\u7801"}}),r=N(!1),B={},n=O(()=>{let e=0;return/[0-9]/.test(t.password)&&e++,/[a-zA-Z]/.test(t.password)&&e++,/[^0-9a-zA-Z_]/.test(t.password)&&e++,e});S(()=>{V("body").removeClass("main").removeClass("error-page").addClass("login")});const f=M(B,I(t)),C=e=>{if(r.value=!0,e.preventDefault(),f.value.$touch(),f.value.$invalid)f.value.$errors,r.value=!1;else{const o=a(t);U(o).then(c=>{const{code:l}=c||{};c.data.token&&y(c.data.token),l===0&&E(),r.value=!1}).catch(()=>{r.value=!1})}},E=()=>{v.push({name:z},!1)},A=()=>{u.sms.smsTimeOut=60,G({mobile:t.mobile,sms_token:CryptoJS.MD5(t.mobile).toString()}).then(e=>{e.code==0?b():(u.sms.smsTimeOut=0,$.success(e.message))}).catch(()=>{u.sms.smsTimeOut=0})},b=()=>{setTimeout(()=>{u.sms.smsTimeOut--,u.sms.smsTimeOut>0&&b()},1e3)},D=()=>{v.push({name:Z},!1)};return(e,o)=>{const c=L("LoadingIcon");return d(),g("div",null,[a(j)()?(d(),h(K,{key:0})):i("v-if",!0),s("div",Q,[s("div",W,[i(" BEGIN: Register Info "),X,i(" END: Register Info "),i(" BEGIN: Register Form "),s("div",Y,[s("div",ss,[ts,es,s("div",os,[m(s("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=l=>t.mobile=l),class:"block px-4 py-3 mt-4 intro-x login__input form-control",placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,512),[[p,t.mobile,void 0,{trim:!0}]]),s("div",as,[m(s("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=l=>t.captcha=l),class:"block px-4 py-3 intro-x form-control",placeholder:"\u9A8C\u8BC1\u7801"},null,512),[[p,t.captcha,void 0,{trim:!0}]]),s("div",ls,[u.sms.smsTimeOut==0?(d(),g("button",{key:0,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-primary",onClick:A},w(u.sms.smsText),1)):(d(),g("button",us," \u5012\u8BA1\u65F6"+w(u.sms.smsTimeOut)+"\u79D2 ",1))])]),m(s("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=l=>t.password=l),class:"block px-4 py-3 mt-4 intro-x login__input form-control",placeholder:"\u5BC6\u7801"},null,512),[[p,t.password,void 0,{trim:!0}]]),s("div",ns,[s("div",{class:x(["h-full col-span-3 rounded",{"bg-success":a(n)>0,"bg-slate-100 dark:bg-darkmode-800":a(n)<=0}])},null,2),s("div",{class:x(["h-full col-span-3 rounded",{"bg-success":a(n)>1,"bg-slate-100 dark:bg-darkmode-800":a(n)<=1}])},null,2),s("div",{class:x(["h-full col-span-3 rounded",{"bg-success":a(n)>2,"bg-slate-100 dark:bg-darkmode-800":a(n)<=2}])},null,2),s("div",{class:x(["h-full col-span-3 rounded",{"bg-success":a(n)>3,"bg-slate-100 dark:bg-darkmode-800":a(n)<=3}])},null,2)]),m(s("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=l=>t.password_confirm=l),class:"block px-4 py-3 mt-4 intro-x login__input form-control",placeholder:"\u786E\u8BA4\u5BC6\u7801"},null,512),[[p,t.password_confirm,void 0,{trim:!0}]])]),is,s("div",rs,[s("button",{class:"w-full px-4 py-3 align-top btn btn-primary xl:mr-3 xl:w-32",onClick:C},[k(" \u6CE8\u518C "),r.value?(d(),h(c,{key:0,icon:"oval",color:"white",class:"w-4 h-4 ml-2"})):i("v-if",!0)]),s("button",{class:"w-full px-4 py-3 mt-3 align-top btn btn-outline-secondary xl:mt-0 xl:w-32",onClick:D}," \u767B\u9646 ")])])]),i(" END: Register Form ")])])])}}}),ps=P(cs,[["__file","/Users/wu./Documents/os/web/www/web/src/views/register.vue"]]);export{ps as default};
