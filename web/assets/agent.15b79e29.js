import{r as H,h as Y,j as B,G as S,o as G,at as Z,v as I,a5 as J,k as z,t as R,l as p,a as M,b as L,w as u,m as t,q as l,x as r,a3 as P,aw as x,u as c,y as d,a6 as K,av as Q,s as V,_ as O,Z as N,$ as X,C as $,a0 as ot,d as j,a2 as tt,p as T,e as st,n as at}from"./index.546cbf4d.js";import{g as et}from"./user.df7d4086.js";import{p as W}from"./pick.9a0d5d51.js";const q={getItems:"/api/user/member/agent/list",getView:"/api/user/member/agent/view",updateItem:"/api/user/member/agent/update",listApply:"/api/user/member/agent/listApply",updateApplyStatus:"/api/user/member/agent/update_apply_status"};function ut(A){return H({url:q.updateApplyStatus,method:"post",data:A})}function lt(A){return H({url:q.updateItem,method:"post",data:A})}const it=t("option",{value:0},"\u5BFC\u8D2D",-1),rt=t("option",{value:1},"\u4F1A\u5458\u8FD4\u5229",-1),dt=t("option",{value:3},"\u591A\u7EA7\u5206\u9500",-1),mt=[it,rt,dt],_t={class:"grid-cols-3 gap-2 sm:grid"},pt={class:"input-group"},ct=t("div",{class:"w-24 text-xs input-group-text"},"\u81EA\u8D2D",-1),ft=t("div",{class:"input-group-text"},"%",-1),vt={class:"mt-2 input-group sm:mt-0"},gt=t("div",{class:"w-24 text-xs input-group-text"},"\u4E0B\u7EA7",-1),bt=t("div",{class:"input-group-text"},"%",-1),ht={class:"mt-2 input-group sm:mt-0"},kt=t("div",{class:"w-24 text-xs input-group-text"},"\u4E0B\u4E0B\u7EA7",-1),wt=t("div",{class:"input-group-text"},"%",-1),yt={class:"input-group"},xt=t("div",{class:"input-group-text"},"%",-1),Dt=t("div",{class:"form-help"},"\u63D0\u793A:\u672A\u8FDB\u884C\u8BE6\u7EC6\u767B\u8BB0\u6BD4\u4F8B\u8BBE\u7F6E\uFF0C\u5C06\u624D\u6709\u4E0A\u9762\u9ED8\u8BA4\u8BBE\u7F6E\u6BD4\u4F8B ",-1),Ft={class:"overflow-x-auto"},Et=t("thead",null,[t("tr",null,[t("th",{class:"bg-slate-50 !pr-2 dark:bg-darkmode-800"}),t("th",{class:"bg-slate-50 dark:bg-darkmode-800"},"\u7B49\u7EA7\u540D\u79F0"),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u5347\u7EA7\u9700\u8981\u9080\u8BF7\u4EBA\u6570 "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u81EA\u8D2D\u8FD4\u5229\u6BD4\u4F8B "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u4E0B\u7EA7\u8D2D\u7269\u5956\u52B1 "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"},"\u4E0B\u4E0B\u7EA7\u8D2D\u7269\u5956\u52B1")])],-1),Bt=t("td",{class:"!pr-2"},"1.",-1),At={class:"whitespace-nowrap"},Ct={class:"!px-2"},Ut={class:"input-group"},Vt=t("div",{class:"input-group-text"},"\u4EBA",-1),$t={class:"!px-2"},Mt={class:"input-group"},Lt=t("div",{class:"input-group-text"},"%",-1),jt={class:"!px-2"},Yt={class:"input-group"},Ot=t("div",{class:"input-group-text"},"%",-1),St={class:"!pl-2 text-slate-500"},Pt={class:"input-group"},qt=t("div",{class:"input-group-text"},"%",-1),Tt=t("td",{class:"!pr-2"},"2.",-1),It={class:"whitespace-nowrap"},zt={class:"!px-2"},Rt={class:"input-group"},Nt=t("div",{class:"input-group-text"},"\u4EBA",-1),Wt={class:"!px-2"},Ht={class:"input-group"},Gt=t("div",{class:"input-group-text"},"%",-1),Zt={class:"!px-2"},Jt={class:"input-group"},Kt=t("div",{class:"input-group-text"},"%",-1),Qt={class:"!pl-2 text-slate-500"},Xt={class:"input-group"},te=t("div",{class:"input-group-text"},"%",-1),ee=t("td",{class:"!pr-2"},"3.",-1),ne={class:"whitespace-nowrap"},oe={class:"!px-2"},se={class:"input-group"},ae=t("div",{class:"input-group-text"},"\u4EBA",-1),ue={class:"!px-2"},le={class:"input-group"},ie=t("div",{class:"input-group-text"},"%",-1),re={class:"!px-2"},de={class:"input-group"},me=t("div",{class:"input-group-text"},"%",-1),_e={class:"!pl-2 text-slate-500"},pe={class:"input-group"},ce=t("div",{class:"input-group-text"},"%",-1),fe=t("div",{class:"form-help"},"1:\u4F1A\u5458\u63A8\u5E7F\u4EBA\u6570\u8FBE\u5230\u8BBE\u7F6E\u7B49\u7EA7\u8981\u6C42\u540E\uFF0C\u91C7\u7528\u76F8\u5E94\u7B49\u7EA7\u8BBE\u7F6E\u6BD4\u4F8B\u8FDB\u884C\u5956\u52B1 ",-1),ve=t("div",{class:"form-help"},"2:\u4F1A\u5458\u7B49\u7EA7\u540D\u79F0\u53EF\u4EE5\u81EA\u5B9A\u4E49 ",-1),ge=Y({__name:"data",setup(A,{expose:D}){const n=B({user_rate:0,invite_mode:0,invite1_rate:0,invite2_rate:0,invite3_rate:0,rank3_name:"",rank3_members:0,rank3_invite1:0,rank3_invite2:0,rank3_invite3:0,rank2_name:"",rank2_members:0,rank2_invite1:0,rank2_invite2:0,rank2_invite3:0,rank1_name:"",rank1_members:0,rank1_invite1:0,rank1_invite2:0,rank1_invite3:0,order_start_time:""}),C={},f=B({visible:!1,confirmLoading:!1,uploading:!0,payment_money:0,user_data_money:0}),a=S(()=>n.invite_mode===3),b=S(()=>n.invite_mode===1);G(()=>{m()});const m=()=>{w()},w=()=>{Z({}).then(o=>{o.data.app_data&&I(()=>{const e=W(o.data.app_data,["invite_mode","invite1_rate","invite2_rate","invite3_rate","invite4_rate","invite5_rate","user_rate","order_start_time","rank1_name","rank2_name","rank3_name","rank1_invite1","rank1_invite2","rank1_invite3","rank1_invite1_h1","rank1_invite2_h1","rank1_invite3_h1","rank1_invite1_h2","rank1_invite2_h2","rank1_invite3_h2","rank2_invite1","rank2_invite2","rank2_invite3","rank2_invite1_h1","rank2_invite2_h1","rank2_invite3_h1","rank2_invite1_h2","rank2_invite2_h2","rank2_invite3_h2","rank3_invite1","rank3_invite2","rank3_invite3","rank3_invite1_h1","rank3_invite2_h1","rank3_invite3_h1","rank3_invite1_h2","rank3_invite2_h2","rank3_invite3_h2","rank1_members","rank2_members","rank3_members"]);Object.assign(n,e),o.data.app_data.order_start_time&&(n.order_start_time=J(o.data.app_data.order_start_time))})}),et({}).then(o=>{o.data.user_data&&(f.user_data_money=o.data.user_data.money)})},h=z(C,R(n)),F=o=>{if(o.preventDefault(),h.value.$touch(),h.value.$invalid)h.value.$errors;else{let e=c(n),i={};e.order_start_time?i=Object.assign(i,{order_start_time:K(e.order_start_time)}):i=Object.assign(i,{order_start_time:0}),Q(Object.assign({},e,i,{page_view:"agent"})).then(k=>{const{code:E}=k||{};E===0?V.success("\u4FDD\u5B58\u6210\u529F"):V.error(k.message)})}},_=()=>{f.visible=!1};return D({edit:()=>{f.visible=!0}}),(o,e)=>{const i=p("h-form-item"),k=p("Litepicker"),E=p("h-form"),U=p("h-drawer");return M(),L(U,{title:"\u8BBE\u7F6E",size:"modal-xl",visible:f.visible,"confirm-loading":f.confirmLoading,onCancel:_},{footer:u(()=>[t("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:F},"\u4FDD\u5B58")]),default:u(()=>[l(E,{layout:"small"},{default:u(()=>[l(i,{label:"\u8D2D\u7269\u6A21\u5F0F",content:"",layout:"small"},{default:u(()=>[r(t("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=s=>n.invite_mode=s)},mt,512),[[P,n.invite_mode]])]),_:1}),l(i,{class:x({hidden:!c(a)&&!c(b)}),label:"\u8BA2\u5355\u8BA1\u7B97\u5F00\u59CB\u65F6\u95F4",layout:"small"},{default:u(()=>[l(k,{modelValue:n.order_start_time,"onUpdate:modelValue":e[1]||(e[1]=s=>n.order_start_time=s),options:{autoApply:!1,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"block w-56 form-control"},null,8,["modelValue"])]),_:1},8,["class"]),l(i,{class:x({hidden:!c(a)}),label:"\u9ED8\u8BA4\u8BBE\u7F6E",layout:"small"},{default:u(()=>[t("div",_t,[t("div",pt,[ct,r(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[2]||(e[2]=s=>n.invite1_rate=s)},null,512),[[d,n.invite1_rate]]),ft]),t("div",vt,[gt,r(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[3]||(e[3]=s=>n.invite2_rate=s)},null,512),[[d,n.invite2_rate]]),bt]),t("div",ht,[kt,r(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[4]||(e[4]=s=>n.invite3_rate=s)},null,512),[[d,n.invite3_rate]]),wt])])]),_:1},8,["class"]),l(i,{class:x({hidden:!c(b)}),label:"\u8FD4\u5229\u6BD4\u4F8B",layout:"small"},{default:u(()=>[t("div",yt,[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=s=>n.user_rate=s)},null,512),[[d,n.user_rate]]),xt])]),_:1},8,["class"]),l(i,{class:x({hidden:!c(a)}),label:"",layout:"small"},{default:u(()=>[Dt]),_:1},8,["class"]),t("div",Ft,[t("table",{class:x(["table border",c(a)?"":"hidden"])},[Et,t("tbody",null,[t("tr",{class:x(c(a)?"":"hidden")},[Bt,t("td",At,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[6]||(e[6]=s=>n.rank1_name=s)},null,512),[[d,n.rank1_name]])]),t("td",Ct,[t("div",Ut,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[7]||(e[7]=s=>n.rank1_members=s)},null,512),[[d,n.rank1_members]]),Vt])]),t("td",$t,[t("div",Mt,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[8]||(e[8]=s=>n.rank1_invite1=s)},null,512),[[d,n.rank1_invite1]]),Lt])]),t("td",jt,[t("div",Yt,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[9]||(e[9]=s=>n.rank1_invite2=s)},null,512),[[d,n.rank1_invite2]]),Ot])]),t("td",St,[t("div",Pt,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[10]||(e[10]=s=>n.rank1_invite3=s)},null,512),[[d,n.rank1_invite3]]),qt])])],2),t("tr",{class:x(c(a)?"":"hidden")},[Tt,t("td",It,[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=s=>n.rank2_name=s)},null,512),[[d,n.rank2_name]])]),t("td",zt,[t("div",Rt,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[12]||(e[12]=s=>n.rank2_members=s)},null,512),[[d,n.rank2_members]]),Nt])]),t("td",Wt,[t("div",Ht,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[13]||(e[13]=s=>n.rank2_invite1=s)},null,512),[[d,n.rank2_invite1]]),Gt])]),t("td",Zt,[t("div",Jt,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[14]||(e[14]=s=>n.rank2_invite2=s)},null,512),[[d,n.rank2_invite2]]),Kt])]),t("td",Qt,[t("div",Xt,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[15]||(e[15]=s=>n.rank2_invite3=s)},null,512),[[d,n.rank2_invite3]]),te])])],2),t("tr",{class:x(c(a)?"":"hidden")},[ee,t("td",ne,[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=s=>n.rank3_name=s)},null,512),[[d,n.rank3_name]])]),t("td",oe,[t("div",se,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[17]||(e[17]=s=>n.rank3_members=s)},null,512),[[d,n.rank3_members]]),ae])]),t("td",ue,[t("div",le,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[18]||(e[18]=s=>n.rank3_invite1=s)},null,512),[[d,n.rank3_invite1]]),ie])]),t("td",re,[t("div",de,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[19]||(e[19]=s=>n.rank3_invite2=s)},null,512),[[d,n.rank3_invite2]]),me])]),t("td",_e,[t("div",pe,[r(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[20]||(e[20]=s=>n.rank3_invite3=s)},null,512),[[d,n.rank3_invite3]]),ce])])],2)])],2)]),l(i,{class:x({hidden:!c(a)}),label:"",layout:"small"},{default:u(()=>[fe,ve]),_:1},8,["class"])]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),be=O(ge,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/member/agent/data.vue"]]),he=t("option",{value:0},"\u65E0\u8FD0\u8425\u6743\u9650",-1),ke=t("option",{value:-1},"\u6E20\u9053\u6388\u6743\u6A21\u5F0F",-1),we=t("option",{value:-2},"\u4F1A\u5458\u6388\u6743\u6A21\u5F0F",-1),ye=t("option",{value:-3},"\u6DF7\u5408\u6388\u6743\u6A21\u5F0F",-1),xe=[he,ke,we,ye],De=t("div",{class:"form-help"}," \u8FD4\u5229\u3001\u5206\u9500\u6A21\u5F0F\u9700\u8981\u8054\u76DF\u5F00\u901A\u8FD0\u8425\u6743\u9650\u540E\u624D\u80FD\u6709\u6548\u8FD0\u884C ",-1),Fe={class:"input-group"},Ee=t("div",{class:"input-group-text"},null,-1),Be=t("div",{class:"form-help"}," \u6E20\u9053\u6388\u6743\u6A21\u5F0F\u4E0B\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u7684pid ",-1),Ae=Y({__name:"shop",setup(A,{expose:D}){const n=B({distribute_pid:0,order_start_time:"",pid:""}),C={},f=B({visible:!1,confirmLoading:!1,uploading:!0,payment_mode:!1,payment_money:0,user_data_money:0});G(()=>{b()});const a=z(C,R(n)),b=()=>{m()},m=()=>{Z({}).then(_=>{_.data.app_data&&I(()=>{const v=W(_.data.app_data,["distribute_pid","pid","order_start_time"]);Object.assign(n,v),_.data.app_data.order_start_time&&(n.order_start_time=J(_.data.app_data.order_start_time))})}),et({}).then(_=>{_.data.user_data&&(f.user_data_money=_.data.user_data.money)})},w=_=>{if(_.preventDefault(),a.value.$touch(),a.value.$invalid)a.value.$errors;else{let v=c(n),o={};v.order_start_time?o=Object.assign(o,{order_start_time:K(v.order_start_time)}):o=Object.assign(o,{order_start_time:0}),Q(Object.assign({},v,o,{page_view:"data"})).then(e=>{const{code:i}=e.data;i===0?V.success("\u4FDD\u5B58\u6210\u529F"):V.error(e.message)})}},h=()=>{f.visible=!1};return D({edit:()=>{f.visible=!0}}),(_,v)=>{const o=p("h-form-item"),e=p("h-form"),i=p("h-drawer");return M(),L(i,{title:"\u7535\u5546\u5E73\u53F0\u914D\u7F6E",visible:f.visible,"confirm-loading":f.confirmLoading,onCancel:h},{footer:u(()=>[t("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:w},"\u4FDD\u5B58")]),default:u(()=>[l(e,{layout:"small",label:"\u6DD8\u5B9D",border:!1},{default:u(()=>[l(o,{label:"\u6388\u6743\u6A21\u5F0F",content:"",layout:"small"},{default:u(()=>[r(t("select",{class:"form-select","onUpdate:modelValue":v[0]||(v[0]=k=>n.distribute_pid=k)},xe,512),[[P,n.distribute_pid]]),De]),_:1}),l(o,{label:"\u9ED8\u8BA4\u6E20\u9053\u4E13\u4EABpid",content:"",layout:"small"},{default:u(()=>[t("div",Fe,[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":v[1]||(v[1]=k=>n.pid=k)},null,512),[[d,n.pid]]),Ee]),Be]),_:1})]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),Ce=O(Ae,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/member/agent/shop.vue"]]),Ue=Y({__name:"apply",setup(A,{expose:D}){const n=N(),C=S(()=>`${n.urlPrefix}${n.apiUrl}${q.listApply}`),f=X({}),a=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u7528\u6237\u540D",field:"member.user_name",width:150},{title:"\u72B6\u6001",field:"status",formatter(o){return o.getData().status===1?"\u901A\u8FC7":"\u5F85\u5BA1\u6838"}},{title:"qq",field:"qq"},{title:"\u5FAE\u4FE1",field:"weixin"},{title:"\u65F6\u95F4",width:140,field:"created_at",formatter(o){return ot(o.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(o){if(o.getData().status===0){const e=j('<a class="flex items-center" href="javascript:;">\u901A\u8FC7</a>');return j(e).on("click",function(i){F(o.getData())}),e[0]}return""}}],b=B({rangePicker:"",name:"",status:0,startTime:"",endTime:""}),m=B({visible:!1,confirmLoading:!1}),w=$(),h=()=>{w.value.reload(!0)},F=o=>{ut({member_id:o.member_id,status:1}).then(e=>{V.success(e.message),w.value.reload()})},_=()=>{m.visible=!1};return D({edit:()=>{m.visible=!0}}),(o,e)=>{const i=p("h-form-item"),k=p("Litepicker"),E=p("h-form"),U=tt,s=p("h-drawer");return M(),L(s,{title:"\u5BA1\u6838\u56E2\u957F\u7533\u8BF7",size:"modal-xl",visible:m.visible,"confirm-loading":m.confirmLoading,onCancel:_},{default:u(()=>[l(U,{ref_key:"tableRef",ref:w,columns:a,ajaxUrl:c(C),config:c(f),queryParam:b},{search:u(()=>[l(E,{layout:"inline"},{default:u(()=>[l(i,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:u(()=>[r(t("input",{"onUpdate:modelValue":e[0]||(e[0]=y=>b.name=y),type:"text",class:"mt-2 form-control sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[d,b.name]])]),_:1}),l(i,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:u(()=>[l(k,{modelValue:b.rangePicker,"onUpdate:modelValue":e[1]||(e[1]=y=>b.rangePicker=y),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"mt-2 form-control sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"w-full btn btn-primary sm:w-16",onClick:h}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1},8,["visible","confirm-loading"])}}}),Ve=O(Ue,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/member/agent/apply.vue"]]),$e=t("option",{value:1},"\u72EC\u7ACB\u57DF\u540D",-1),Me=t("option",{value:2},"\u514D\u8D39\u4E8C\u7EA7",-1),Le=[$e,Me],je={class:"input-group"},Ye=t("div",{class:"input-group-text"},"Http://",-1),Oe={class:"input-group"},Se=t("div",{class:"input-group-text"},"Http://",-1),Pe={class:"input-group-text w-96"},qe=t("option",{value:"gouwu.rocks"},"gouwu.rocks",-1),Te=[qe],Ie={class:"btn btn-outline-success btn-sm mt-1 mb-2 mr-2 w-32"},ze=Y({__name:"agent",emits:["ok"],setup(A,{expose:D,emit:n}){const f=N().uploadUrl,a=B({id:0,url:"",prefix:"",domain_url:"",pid:"",relation_id:"",site_name:"",logo_url:"",type:0}),b={},m=B({visible:!1,confirmLoading:!1,data:{userCmsAgent:{user_name:""}}}),w=()=>{m.visible=!1},h=z(b,R(a)),F=o=>{m.visible=!0,I(()=>{Object.assign(a,{id:0,url:"",prefix:"",domain_url:"",pid:"",relation_id:"",site_name:"",logo_url:"",type:0});const e=W(o,["id","url","prefix","domain_url","pid","relation_id","site_name","logo_url","type"]);o.domain&&(e.site_name=o.domain.site_name,e.logo_url=o.domain.logo_url,e.url=o.domain.url,e.type=o.domain.type),o.member&&(m.data.userCmsAgent.user_name=o.member.user_name),Object.assign(a,e)})},_=()=>{if(m.confirmLoading=!0,h.value.$touch(),h.value.$invalid)h.value.$errors,m.confirmLoading=!1;else{const o=c(a);lt(Object.assign(o,{user_name:m.data.userCmsAgent.user_name,domain_type:a.type})).then(e=>{const{code:i}=e||{};i===0?(V.success("\u4FDD\u5B58\u6210\u529F"),n("ok",o),m.visible=!1):V.error(e.message),m.confirmLoading=!1})}},v=o=>{a.logo_url=o.data.item.img};return D({edit:F}),(o,e)=>{const i=p("h-form-item"),k=p("UploadIcon"),E=p("h-upload"),U=p("h-form"),s=p("h-spin"),y=p("LoadingIcon"),nt=p("h-modal");return M(),L(nt,{title:"\u7F16\u8F91",size:"modal-lg",visible:m.visible,"confirm-loading":m.confirmLoading,onCancel:w},{footer:u(()=>[t("button",{class:"btn btn-primary mb-2 mr-1 w-24",onClick:e[8]||(e[8]=g=>_())},[T(" \u4FDD\u5B58 "),m.confirmLoading?(M(),L(y,{key:0,icon:"oval",color:"white",class:"ml-2 h-4 w-4"})):st("v-if",!0)])]),default:u(()=>[l(s,{spinning:m.confirmLoading},{default:u(()=>[l(U,{layout:"small"},{default:u(()=>[l(i,{label:"\u7528\u6237\u540D",content:"",layout:"small"},{default:u(()=>[T(at(m.data.userCmsAgent.user_name),1)]),_:1}),l(i,{label:"\u5E7F\u544A\u4F4Dpid",content:"",layout:"small"},{default:u(()=>[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=g=>a.pid=g)},null,512),[[d,a.pid]])]),_:1}),l(i,{label:"\u6E20\u9053id",content:"",layout:"small"},{default:u(()=>[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=g=>a.relation_id=g)},null,512),[[d,a.relation_id]])]),_:1}),l(i,{label:"\u7ED1\u5B9A\u57DF\u540D",content:"",layout:"small"},{default:u(()=>[r(t("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=g=>a.type=g)},Le,512),[[P,a.type]])]),_:1}),l(i,{class:x({hidden:a.type==2}),label:"\u72EC\u7ACB\u57DF\u540D",layout:"small"},{default:u(()=>[t("div",je,[Ye,r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=g=>a.url=g)},null,512),[[d,a.url]])])]),_:1},8,["class"]),l(i,{class:x({hidden:a.type==1}),label:"\u514D\u8D39\u57DF\u540D",layout:"small"},{default:u(()=>[t("div",Oe,[Se,r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=g=>a.prefix=g)},null,512),[[d,a.prefix]]),t("div",Pe,[r(t("select",{class:"form-select","onUpdate:modelValue":e[5]||(e[5]=g=>a.domain_url=g)},Te,512),[[P,a.domain_url]])])])]),_:1},8,["class"]),l(i,{label:"\u7F51\u5740\u540D\u5B57",content:"",layout:"small"},{default:u(()=>[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=g=>a.site_name=g)},null,512),[[d,a.site_name]])]),_:1}),l(i,{label:"logo",content:"",layout:"small"},{default:u(()=>[r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=g=>a.logo_url=g),placeholder:"\u8BBE\u7F6E\u7F51\u7AD9\u7684logo\uFF0C\u4E0D\u8BBE\u7F6E\u4E0D\u663E\u793A\uFF01"},null,512),[[d,a.logo_url]]),l(E,{name:"file",multiple:!0,action:c(f),onChange:v},{default:u(()=>[t("button",Ie,[l(k,{class:"mr-2 h-4 w-4"}),T("\u4E0A\u4F20 ")])]),_:1},8,["action"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["visible","confirm-loading"])}}}),Re=O(ze,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/member/agent/agent.vue"]]),Ne=Y({__name:"agent",setup(A){const D=N(),n=S(()=>`${D.urlPrefix}${D.apiUrl}${q.getItems}`),C=X({}),f=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u7528\u6237\u540D",field:"member.user_name",width:150},{title:"\u7ED1\u5B9A\u57DF\u540D",field:"domain.url",formatter(o){return o.getData().domain?j(`<a target="_blank" href="'http://${o.getData().domain.url}">${o.getData().domain.url}</a>`)[0]:""}},{title:"\u64CD\u4F5C",field:"",formatter(o){const e=j('<a class="flex items-center" href="javascript:;">\u7F16\u8F91</a>');return j(e).on("click",function(i){v(o.getData())}),e[0]}}],a=B({rangePicker:"",name:"",status:0,startTime:"",endTime:""}),b=$(),m=$(),w=$(),h=$(),F=$(),_=()=>{b.value.reload(!0)},v=o=>{F.value.edit(o)};return(o,e)=>{const i=p("h-form-item"),k=p("Litepicker"),E=p("h-form"),U=tt,s=p("h-card");return M(),L(s,{bordered:!1,title:"\u56E2\u957F\u7BA1\u7406"},{header:u(()=>[t("button",{class:"mr-2 shadow-md btn btn-primary",onClick:e[0]||(e[0]=y=>m.value.edit({}))},"\u8FD4\u5229\u8BBE\u7F6E "),t("button",{class:"mr-2 shadow-md btn btn-primary",onClick:e[1]||(e[1]=y=>w.value.edit({}))},"\u7535\u5546\u5E73\u53F0\u914D\u7F6E "),t("button",{class:"mr-2 shadow-md btn btn-primary",onClick:e[2]||(e[2]=y=>h.value.edit({}))},"\u4EE3\u7406\u5BA1\u6838 ")]),default:u(()=>[l(U,{ref_key:"tableRef",ref:b,columns:f,ajaxUrl:c(n),config:c(C),queryParam:a},{search:u(()=>[l(E,{layout:"inline"},{default:u(()=>[l(i,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:u(()=>[r(t("input",{"onUpdate:modelValue":e[3]||(e[3]=y=>a.name=y),type:"text",class:"mt-2 form-control sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[d,a.name]])]),_:1}),l(i,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:u(()=>[l(k,{modelValue:a.rangePicker,"onUpdate:modelValue":e[4]||(e[4]=y=>a.rangePicker=y),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"mt-2 form-control sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"w-full btn btn-primary sm:w-16",onClick:_}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"]),l(be,{ref_key:"dataModal",ref:m,onOk:_},null,512),l(Ce,{ref_key:"shopModal",ref:w,onOk:_},null,512),l(Ve,{ref_key:"applyModal",ref:h,onOk:_},null,512),l(Re,{ref_key:"agentModal",ref:F,onOk:_},null,512)]),_:1})}}}),Ze=O(Ne,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/member/agent.vue"]]);export{Ze as default};
