import{h as G,aK as q,L as I,j as h,o as P,d as R,k as U,t as $,aL as j,s as d,aF as H,l as c,c as v,u as E,b as J,e as r,m as t,q as u,w as i,f as K,p as f,a9 as z,a as _,i as Q,x as C,y as T,n as k,aD as W,aE as X,aG as Y,D as Z,_ as tt}from"./index.79082781.js";import{p as A}from"./pick.39fd68ea.js";const st={class:"container sm:px-10"},et={class:"block grid-cols-2 gap-4 xl:grid"},at=K('<div class="flex-col hidden min-h-screen xl:flex"><a href="" class="flex items-center pt-5 -intro-x"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-6" src="'+W+'"><span class="ml-3 text-lg text-white"> \u7BA1\u7406\u4E2D\u5FC3 </span></a><div class="my-auto"><img alt="\u7BA1\u7406\u4E2D\u5FC3" class="w-1/2 -mt-16 -intro-x" src="'+X+'"><div class="mt-10 text-4xl font-medium leading-tight text-white -intro-x"> \u518D\u70B9\u51FB\u51E0\u4E0B \u767B\u5F55\u5230\u60A8\u7684\u5E10\u6237. </div><div class="mt-5 text-lg text-white -intro-x text-opacity-70 dark:text-slate-400"> \u8F7B\u677E\u7BA1\u7406\u60A8\u7684\u8425\u9500 </div></div></div>',1),ot={class:"flex h-screen py-5 my-10 xl:my-0 xl:h-auto xl:py-0"},ut={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md dark:bg-darkmode-600 sm:w-3/4 sm:px-8 lg:w-2/4 xl:ml-20 xl:w-auto xl:bg-transparent xl:p-0 xl:shadow-none"},lt=t("h2",{class:"text-2xl font-bold text-center intro-x xl:text-left xl:text-3xl"}," \u767B\u9646 ",-1),nt=t("div",{class:"mt-2 text-center intro-x text-slate-400 xl:hidden"}," \u518D\u70B9\u51FB\u51E0\u4E0B\u5373\u53EF\u767B\u5F55\u60A8\u7684\u5E10\u6237\u3002 ",-1),it={class:"mt-2"},ct={class:"mt-8 intro-x"},mt={class:"mt-8 intro-x"},dt={class:"py-3 input-group gap-x-2"},rt={class:""},pt={key:1,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary"},xt={class:"mt-5 text-center intro-x xl:mt-8 xl:text-left"},_t=t("div",{class:"mt-10 text-center intro-x text-slate-600 dark:text-slate-500 xl:mt-24 xl:text-left"},[f(" \u6CE8\u518C\u5373\u8868\u793A\u60A8\u540C\u610F\u6211\u4EEC\u7684 "),t("a",{class:"text-primary dark:text-slate-200",href:""},"\u6761\u6B3E"),f(" \u4EE5\u53CA "),t("a",{class:"text-primary dark:text-slate-200",href:""},"\u9690\u79C1\u653F\u7B56")],-1),ft=G({__name:"b",setup(gt){const D=z(),g=q(),{loginTo:F}=I(),e=h({username:"",password:"",mobile:"",captcha:""}),b=h({api:{app_id:"wx7f67e4a1366382b3",scope:"snsapi_login",redirect_uri:"https://www.haopintui.net/app/login/b"}}),a=h({sms:{isLoading:!1,smsTimeOut:0,smsText:"\u53D1\u9001\u9A8C\u8BC1\u7801"}}),L={};P(()=>{R("body").removeClass("main").removeClass("error-page").addClass("login"),g.query.code,g.query.code&&O(g.query.code)});const w=U(L,$(e)),N=(l,s)=>{if(l.preventDefault(),w.value.$touch(),!w.value.$invalid){const n=E(e);let p=A(n,["username","password"]);s==2&&(p=A(n,["mobile","captcha"])),F(p).then(o=>{const{code:x}=o||{};x===0?B():d.error(o.message)}).catch(o=>{d.error((o==null?void 0:o.message)||"")})}},O=l=>{a.sms.smsTimeOut=60,j({code:l}).then(s=>{const{code:n}=s||{};n===0?B():d.error(s.message)}).catch(s=>{d.error((s==null?void 0:s.message)||"")})},B=()=>{D.push({name:H},!1)},S=()=>{a.sms.smsTimeOut=60,Y({code:e.mobile,sms_token:CryptoJS.MD5(`${e.mobile}`).toString()}).then(l=>{l.code==0?y():(a.sms.smsTimeOut=0,d.success(l.message))})},y=()=>{setTimeout(()=>{a.sms.smsTimeOut--,a.sms.smsTimeOut>0&&y()},1e3)};return(l,s)=>{const n=c("Tab"),p=c("TabList"),o=c("wxlogin"),x=c("TabPanel"),V=c("TabPanels"),M=c("TabGroup");return _(),v("div",null,[E(Q)()?(_(),J(Z,{key:0})):r("v-if",!0),t("div",st,[t("div",et,[r(" BEGIN: Login Info "),at,r(" END: Login Info "),r(" BEGIN: Login Form "),t("div",ot,[t("div",ut,[lt,nt,t("div",it,[u(M,null,{default:i(()=>[u(p,{class:"nav-boxed-tabs"},{default:i(()=>[u(n,{class:"w-full py-2",tag:"button"},{default:i(()=>[f("\u5FAE\u4FE1\u626B\u7801\u767B\u9646")]),_:1}),u(n,{class:"w-full py-2",tag:"button"},{default:i(()=>[f("\u9A8C\u8BC1\u7801\u767B\u9646")]),_:1})]),_:1}),u(V,{class:"mt-5"},{default:i(()=>[u(x,{class:"leading-relaxed"},{default:i(()=>[t("div",ct,[u(o,{appid:b.api.app_id,scope:b.api.scope,redirect_uri:b.api.redirect_uri},null,8,["appid","scope","redirect_uri"])])]),_:1}),u(x,{class:"leading-relaxed"},{default:i(()=>[t("div",mt,[C(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=m=>e.mobile=m),class:"block px-4 py-3 intro-x login__input form-control",placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,512),[[T,e.mobile]]),t("div",dt,[C(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=m=>e.captcha=m),class:"block px-4 py-3 intro-x form-control",placeholder:"\u9A8C\u8BC1\u7801"},null,512),[[T,e.captcha]]),t("div",rt,[a.sms.smsTimeOut==0?(_(),v("button",{key:0,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-primary",onClick:S},k(a.sms.smsText),1)):(_(),v("button",pt," \u5012\u8BA1\u65F6"+k(a.sms.smsTimeOut)+"\u79D2 ",1))])])]),t("div",xt,[t("button",{class:"w-full px-4 py-3 align-top btn btn-primary xl:mr-3",onClick:s[2]||(s[2]=m=>N(m,2))}," \u767B\u9646 ")])]),_:1})]),_:1})]),_:1})]),_t])]),r(" END: Login Form ")])])])}}}),vt=tt(ft,[["__file","/Users/wu./Documents/os/web/www/web/src/views/login/b.vue"]]);export{vt as default};
