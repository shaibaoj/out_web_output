import{d as j,a6 as $,x as O,K as S,o as T,y as z,z as N,ae as Q,D as A,af as L,e as M,w as t,A as p,b as R,g as a,h as u,u as o,Q as c,j as m,E as r,F as g,k as _,ad as h,ag as G,C as f,ah as I}from"./index.778e50f1.js";import{p as x}from"./pick.28bc0ef7.js";const K={class:"grid grid-cols-11 pb-20 gap-x-6"},W={class:"col-span-11 intro-y 2xl:col-span-9"},H={class:"p-5 border-2 border-dashed rounded-md shadow-sm border-slate-200/60 dark:border-darkmode-400"},J={class:"relative w-32 h-32 cursor-pointer image-fit zoom-in"},P=["src"],X=a("option",{value:0},"\u5173\u95ED",-1),Y=a("option",{value:1},"\u5F00\u901A",-1),Z=a("option",{value:0},"\u4E0D\u7F13\u5B58",-1),uu=a("option",{value:1},"\u7F13\u5B58",-1),eu={class:"flex flex-col justify-end gap-2 mt-5 md:flex-row"},lu={class:"sticky top-0 mt-5 box"},tu={class:"p-5"},au={class:"flex items-center font-medium text-primary",href:""},ou={class:"flex items-center mt-5",href:""},nu={class:"sticky top-0 pt-10"},du=a("ul",{class:"relative text-slate-500 before:absolute before:left-0 before:z-[-1] before:h-full before:w-[2px] before:bg-slate-200 before:content-[''] before:dark:bg-darkmode-600"},[a("li",{class:"pl-5 mb-4 font-medium border-l-2 border-primary text-primary dark:border-primary"},[a("a",{href:""},"\u5E94\u7528\u8BBE\u7F6E")]),a("li",{class:"pl-5 mb-4 border-l-2 border-transparent dark:border-transparent"},[a("a",{href:""},"\u7F51\u7AD9\u8BBE\u7F6E")]),a("li",{class:"pl-5 mb-4 border-l-2 border-transparent dark:border-transparent"},[a("a",{href:""},"\u5BA2\u670D\u8BBE\u7F6E")]),a("li",{class:"pl-5 mb-4 border-l-2 border-transparent dark:border-transparent"},[a("a",{href:""},"\u63A8\u5E7F\u4F4D\u8BBE\u7F6E")]),a("li",{class:"pl-5 mb-4 border-l-2 border-transparent dark:border-transparent"},[a("a",{href:""},"\u6269\u5C55\u8BBE\u7F6E")])],-1),su={class:"relative p-5 mt-10 border rounded-md border-warning bg-warning/20 dark:border-0 dark:bg-darkmode-600"},ru=a("h2",{class:"text-lg font-medium"},"\u63D0\u9192",-1),iu=a("div",{class:"mt-5 font-medium"},"\u7F51\u7AD9\u8BBE\u7F6E",-1),mu=a("div",{class:"mt-2 text-xs leading-relaxed text-slate-600 dark:text-slate-500"},[a("div",null," \u5E94\u7528\u8BBE\u7F6E\u540D\u79F0\u548C\u56FE\u6807\u4E3B\u8981\u7528\u6237\u7BA1\u7406\u5E73\u53F0\u663E\u793A\u4F7F\u7528. "),a("div",{class:"mt-2"}," \u7F51\u7AD9\u8BBE\u7F6E\u4E3B\u8981\u8BBE\u7F6E\u7F51\u7AD9\u76F8\u5173\u7684\u914D\u7F6E\u4FE1\u606F. ")],-1),_u=j({__name:"setting",setup(cu){const F=$().uploadUrl,e=O({name:"",icon_url:"",site_name:"",title:"",logo_url:"",keywords:"",description:"",beianhao:"",introduce:"",qq_url:"",tj:"",weixin_url:"",mall_all:0,cache:0}),V={},B=S(0);T(()=>{v()});const b=z(V,N(e)),v=()=>{w()},w=()=>{Q({}).then(s=>{s.data.app&&A(()=>{Object.assign(e,x(s.data.app,["name","icon_url","site_name","title","logo_url","keywords","description","beianhao","introduce","qq_url","tj","weixin","qq","tel","weixin_url"])),B.value=s.data.app.id})}),L({}).then(s=>{s.data.app_data&&A(()=>{const l=x(s.data.app_data,["mall_all","cache"]);Object.assign(e,l)})})},C=s=>{if(s.preventDefault(),b.value.$touch(),b.value.$invalid)b.value.$errors;else{const l=o(e);G(l).then(d=>{const{code:i}=d||{};i===0?f.success("\u4FDD\u5B58\u6210\u529F"):f.error(d.message)}),I(Object.assign(l,{page_view:"cms"})).then(d=>{const{code:i}=d||{};i===0?f.success("\u4FDD\u5B58\u6210\u529F"):f.error(d.message)})}},D=s=>{Object.assign(e,{icon_url:s.data.item.img})},y=s=>{Object.assign(e,{logo_url:s.data.item.img})},k=s=>{Object.assign(e,{weixin_url:s.data.item.img})};return(s,l)=>{const d=p("h-form-item"),i=p("h-upload"),E=p("h-form"),q=p("FormTextarea"),U=p("h-card");return R(),M(U,{title:"\u5E94\u7528\u8BBE\u7F6E"},{menu:t(()=>[a("div",lu,[a("div",tu,[a("a",au,[u(o(c),{icon:"Activity",class:"w-4 h-4 mr-2"}),m(" \u5E2E\u52A9\u4E2D\u5FC3 ")]),a("a",ou,[u(o(c),{icon:"Box",class:"w-4 h-4 mr-2"}),m(" \u89E3\u6790\u6559\u7A0B ")])])]),a("div",nu,[du,a("div",su,[u(o(c),{icon:"Lightbulb",class:"absolute top-0 right-0 w-12 h-12 mt-5 mr-3 text-warning/80"}),ru,iu,mu])])]),default:t(()=>[a("div",K,[a("div",W,[u(E,{label:"\u5E94\u7528\u8BBE\u7F6E("+B.value+")",border:!0},{default:t(()=>[u(d,{label:"\u5E94\u7528\u540D\u79F0",content:"\u7ED9\u5E94\u7528\u8D77\u4E2A\u540D\u5B57\u5427",required:!1},{default:t(()=>[u(o(r),{type:"text",placeholder:"\u5E94\u7528\u540D\u5B57",modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=n=>e.name=n)},null,8,["modelValue"]),u(o(g),{class:"text-right"},{default:t(()=>[m(" 0/70 ")]),_:1})]),_:1}),u(d,{label:"\u5E94\u7528\u56FE\u6807",content:"\u8BBE\u7F6E\u5E94\u7528\u7684logo\uFF0C\u4E0D\u8BBE\u7F6E\u4E0D\u663E\u793A",required:!1},{default:t(()=>[a("div",H,[u(i,{name:"file",multiple:!0,action:o(F),onChange:D},{default:t(()=>[a("div",J,[a("img",{class:"rounded-md",alt:"",src:e.icon_url},null,8,P)])]),_:1},8,["action"]),u(i,{name:"file",multiple:!0,action:o(F),onChange:D},{default:t(()=>[u(o(_),{variant:"outline-success",class:"w-32 mt-1 mb-2 mr-2 btn-sm"},{default:t(()=>[u(o(c),{icon:"Upload",class:"w-4 h-4 mr-2"}),m("\u4E0A\u4F20 ")]),_:1})]),_:1},8,["action"])])]),_:1})]),_:1},8,["label"]),u(E,{label:"\u7F51\u7AD9\u8BBE\u7F6E",border:!0},{default:t(()=>[u(d,{label:"\u7F51\u7AD9\u540D\u79F0",content:"\u7ED9\u7F51\u7AD9\u8D77\u4E2A\u540D\u5B57\u5427"},{default:t(()=>[u(o(r),{type:"text",modelValue:e.site_name,"onUpdate:modelValue":l[1]||(l[1]=n=>e.site_name=n),placeholder:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u7F51\u7AD9\u9996\u9875\u6807\u9898",content:"\u7F51\u7AD9\u9996\u9875\u6807\u9898"},{default:t(()=>[u(o(r),{type:"text",modelValue:e.title,"onUpdate:modelValue":l[2]||(l[2]=n=>e.title=n),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u5173\u952E\u8BCD",content:"\u7ED9\u7F51\u7AD9\u5199\u4E00\u4E9B\u5173\u952E\u8BCD\u5427\uFF01",required:!1},{default:t(()=>[u(o(r),{type:"text",placeholder:"\u5173\u952E\u8BCD",modelValue:e.keywords,"onUpdate:modelValue":l[3]||(l[3]=n=>e.keywords=n)},null,8,["modelValue"]),u(o(g),{class:"text-right"},{default:t(()=>[m(" 0/70")]),_:1})]),_:1}),u(d,{label:"\u7F51\u7AD9logo",content:"\u8BBE\u7F6E\u7F51\u7AD9\u7684logo\uFF0C\u4E0D\u8BBE\u7F6E\u4E0D\u663E\u793A",required:!1},{default:t(()=>[u(o(r),{type:"text",placeholder:"logo\u7684url\u5730\u5740",modelValue:e.logo_url,"onUpdate:modelValue":l[4]||(l[4]=n=>e.logo_url=n)},null,8,["modelValue"]),u(i,{name:"file",multiple:!0,action:o(F),onChange:y},{default:t(()=>[u(o(_),{variant:"outline-success",class:"w-32 mt-1 mb-2 mr-2 btn-sm"},{default:t(()=>[u(o(c),{icon:"Upload",class:"w-4 h-4 mr-2"}),m("\u4E0A\u4F20 ")]),_:1})]),_:1},8,["action"])]),_:1}),u(d,{label:"\u5FAE\u4FE1\u4E8C\u7EF4\u7801",content:"\u7F51\u7EDC\u5730\u5740\u56FE\u7247\uFF0C\u4E5F\u53EF\u4EE5\u4E0A\u4F20\u5FAE\u4FE1\u56FE\u7247\u5230\u81EA\u5DF1\u7684\u670D\u52A1\u5668\uFF01"},{default:t(()=>[u(o(r),{type:"text",modelValue:e.weixin_url,"onUpdate:modelValue":l[5]||(l[5]=n=>e.weixin_url=n),placeholder:""},null,8,["modelValue"]),u(i,{name:"file",multiple:!0,action:o(F),onChange:k},{default:t(()=>[u(o(_),{variant:"outline-success",class:"w-32 mt-1 mb-2 mr-2 btn-sm"},{default:t(()=>[u(o(c),{icon:"Upload",class:"w-4 h-4 mr-2"}),m("\u4E0A\u4F20 ")]),_:1})]),_:1},8,["action"])]),_:1}),u(d,{label:"\u7F51\u7AD9\u5907\u6848\u53F7",content:""},{default:t(()=>[u(o(r),{type:"text",modelValue:e.beianhao,"onUpdate:modelValue":l[6]||(l[6]=n=>e.beianhao=n),placeholder:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u4ECB\u7ECD",content:"\u5EFA\u8BAE\u7B80\u5355\u7B80\u6D01\u660E\u4E86"},{default:t(()=>[u(o(r),{type:"text",modelValue:e.introduce,"onUpdate:modelValue":l[7]||(l[7]=n=>e.introduce=n),placeholder:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u52A0\u7FA4\u94FE\u63A5",content:"\u7559\u7A7A\u5C06\u4E0D\u663E\u793A\u52A0\u7FA4\u56FE\u6807\uFF01"},{default:t(()=>[u(o(r),{type:"text",modelValue:e.qq_url,"onUpdate:modelValue":l[8]||(l[8]=n=>e.qq_url=n),placeholder:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u7EDF\u8BA1\u4EE3\u7801",content:"\u901A\u8FC7\u7B2C\u4E09\u65B9\u7EDF\u8BA1\u5DE5\u5177\u7EDF\u8BA1\u7F51\u7AD9\u6D41\u91CF"},{default:t(()=>[u(q,{modelValue:e.tj,"onUpdate:modelValue":l[9]||(l[9]=n=>e.tj=n),rows:4,placeholder:""},null,8,["modelValue"])]),_:1})]),_:1}),u(E,{label:"\u5BA2\u670D\u8BBE\u7F6E",border:!0},{default:t(()=>[u(d,{label:"\u5FAE\u4FE1\u5BA2\u670D",content:""},{default:t(()=>[u(o(r),{type:"text",modelValue:e.weixin,"onUpdate:modelValue":l[10]||(l[10]=n=>e.weixin=n),placeholder:""},null,8,["modelValue"])]),_:1}),u(d,{label:"qq",content:"QQ\u53F7\u7801"},{default:t(()=>[u(o(r),{type:"text",modelValue:e.qq,"onUpdate:modelValue":l[11]||(l[11]=n=>e.qq=n),placeholder:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u7535\u8BDD",content:"\u8054\u7CFB\u7535\u8BDD"},{default:t(()=>[u(o(r),{type:"text",modelValue:e.tel,"onUpdate:modelValue":l[12]||(l[12]=n=>e.tel=n),placeholder:""},null,8,["modelValue"])]),_:1})]),_:1}),u(E,{label:"\u6269\u5C55\u8BBE\u7F6E",border:!0},{default:t(()=>[u(d,{label:"\u5168\u7F51\u8D2D",content:""},{default:t(()=>[u(o(h),{modelValue:e.mall_all,"onUpdate:modelValue":l[13]||(l[13]=n=>e.mall_all=n)},{default:t(()=>[X,Y]),_:1},8,["modelValue"])]),_:1}),u(d,{label:"\u7F13\u5B58\u8BBE\u7F6E",content:"\u8BE5\u53C2\u6570\u9488\u5BF9\u4F7F\u7528\u81EA\u8D2D\u57DF\u540D\u548C\u7A7A\u95F4\u7684\u7528\u6237\uFF0C\u8BBE\u7F6E\u662F\u5426\u7F13\u5B58\u9875\u9762\u4FE1\u606F\uFF0C\u7F13\u5B58\u4F1A\u63D0\u4F9B\u8BBF\u95EE\u901F\u5EA6\uFF0C\u4F46\u662F\u4F1A\u589E\u52A0\u7A7A\u95F4\u4F7F\u7528\u91CF"},{default:t(()=>[u(o(h),{modelValue:e.cache,"onUpdate:modelValue":l[14]||(l[14]=n=>e.cache=n)},{default:t(()=>[Z,uu]),_:1},8,["modelValue"])]),_:1})]),_:1}),a("div",eu,[u(o(_),{variant:"primary",type:"button",class:"w-full py-3 md:w-52",onClick:C},{default:t(()=>[m(" \u4FDD\u5B58 ")]),_:1})])])])]),_:1})}}});export{_u as default};
