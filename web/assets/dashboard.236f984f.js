import{h as C,j as E,D as A,E as h,a6 as F,b as B,w as b,s as f,a,l as u,c as o,e as p,m as d,u as g,a7 as k,q as l,a8 as x}from"./index.5040b566.js";const D={class:"flex box"},y={class:"flex flex-col items-center justify-center p-2"},q=u("p",{class:"title"},"\u5171\u4EAB\u7248\u672C",-1),v=["src"],w={key:1,class:"app-status app-status-ok"},P={key:2,class:"app-status"},j={class:"btn"},V={key:3},M=u("span",null,"\u6CE8\uFF1A\u5F00\u901A\u72EC\u7ACB\u7248\u672C\u540E\uFF0C\u8BF7\u4FDD\u6301\u5171\u4EAB\u7248\u672C\u5173\u95ED",-1),N=u("div",{class:"line"},null,-1),L={class:"flex flex-col items-center justify-center p-2"},R=u("p",{class:"title"},"\u72EC\u7ACB\u7248\u672C",-1),S={class:"app-status"},$={class:"btn"},z=u("span",null,"\u72EC\u7ACB\u7248\u672C\u7528\u6237\u66F4\u5168\u9762\u4E13\u4E1A\u7684\u529F\u80FD",-1),G=u("span",null,"\u6CE8\uFF1A\u5F00\u901A\u72EC\u7ACB\u7248\u672C\u540E\uFF0C\u5171\u4EAB\u7248\u672C\u81EA\u52A8\u5173\u95ED",-1),K=C({__name:"dashboard",setup(H){const r=x(),e=E({qrcode:{release:"",debug:""},app:{mode:0,status:0,expire_date:""}}),i=A(()=>e.app&&e.app.status===1?e.app.expire_date.substring(0,10)+"\u5230\u671F":"\u672A\u5F00\u901A");h(()=>{c()});const c=()=>{F({}).then(s=>{s.data.qrcode&&(e.qrcode.debug=s.data.qrcode.debug,e.qrcode.release=s.data.qrcode.release),s.data.app&&(e.app.mode=s.data.app.mode,e.app=s.data.app)})},_=()=>{const s=e.app.mode===2?0:2;k({mode:s}).then(t=>{const{code:n}=t||{};n===0?l.success(t.message):l.error(t.message),c()})},m=s=>{r.push({name:s})};return(s,t)=>{const n=f("h-card");return a(),B(n,{bordered:!1,title:"APP\u7BA1\u7406"},{default:b(()=>[u("div",D,[u("div",y,[q,e.app.mode===2?(a(),o("img",{key:0,class:"w-40 h-40",src:e.qrcode.release},null,8,v)):p("",!0),e.app.mode===2?(a(),o("span",w,"\u5DF2\u5F00\u901A")):(a(),o("span",P,"\u672A\u5F00\u901A")),u("p",j,[u("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:_},d(e.app.mode===2?"\u4E00\u952E\u5173\u95ED\u5171\u4EAB\u7248\u672C":"\u4E00\u952E\u5F00\u901A\u5171\u4EAB\u7248\u672C"),1)]),e.app.mode===2?(a(),o("span",V,"\u5171\u4EAB\u7248\u672C\u76F4\u63A5\u5206\u4EAB\u6B64\u4E8C\u7EF4\u7801\u7528\u6237\u4E0B\u8F7D")):p("",!0),M]),N,u("div",L,[R,u("span",S,d(g(i)),1),u("p",$,[u("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:t[0]||(t[0]=I=>m("app-package"))},"\u72EC\u7ACB\u7248\u672C\u7BA1\u7406")]),z,G])])]),_:1})}}});export{K as default};
