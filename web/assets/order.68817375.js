import{r as C,d as y,a7 as v,G as B,a8 as V,l as A,C as Y,n as s,e as E,w as r,b as I,h as a,g as P,u as l,B as U,j as M,a9 as T,a as f,q as j,ab as z,k as q}from"./index.e8171561.js";const p={getItems:"/api/user/member/order/list",getView:"/api/user/member/order/view",updateItem:"/api/user/member/order/update"};function N(i){return C({url:p.updateItem,method:"post",data:i})}const S={class:"mt-2 xl:mt-0"},$=y({__name:"order",setup(i){const m=v(),_=B(()=>`${m.urlPrefix}${m.apiUrl}${p.getItems}`),h=V({}),w=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u91D1\u989D",hozAlign:"center",field:"money",width:120},{title:"\u79EF\u5206",hozAlign:"center",field:"points",width:120},{title:"\u6BD4\u4F8B\uFF08%\uFF09",hozAlign:"center",field:"commission_rate",width:120},{title:"\u72B6\u6001",field:"status_name",width:100},{title:"\u4F1A\u5458",field:"member.nick_name",width:120},{title:"\u65F6\u95F4",width:140,field:"created_at",formatter(t){return T(t.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u5907\u6CE8",field:"memo"},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(t){if(t.getData().status===0){const e=f('<a class="flex items-center" href="javascript:;">\u901A\u8FC7</a>');return f(e).on("click",function(c){b(t.getData())}),e[0]}return""}}],o=A({rangePicker:"",name:"",status:0,startTime:"",endTime:""}),n=Y(),g=()=>{n.value.reload(!0)},b=t=>{N({user_id:t.user_id,status:1}).then(e=>{j.success(e.message),n.value.reload()})};return(t,e)=>{const c=s("FormInput"),d=s("h-form-item"),F=s("Litepicker"),x=s("h-form"),D=z,k=s("h-card");return I(),E(k,{bordered:!1,title:"\u5956\u52B1\u660E\u7EC6"},{default:r(()=>[a(D,{ref_key:"tableRef",ref:n,columns:w,ajaxUrl:l(_),config:l(h),queryParam:o},{search:r(()=>[a(x,{layout:"inline"},{default:r(()=>[a(d,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:r(()=>[a(c,{type:"text",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=u=>o.name=u),class:"mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,8,["modelValue"])]),_:1}),a(d,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:r(()=>[a(F,{modelValue:o.rangePicker,"onUpdate:modelValue":e[1]||(e[1]=u=>o.rangePicker=u),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),P("div",S,[a(l(U),{variant:"primary",type:"button",class:"w-full sm:w-16",onClick:g},{default:r(()=>[M(" \u67E5\u8BE2 ")]),_:1})])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1})}}}),H=q($,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/member/order.vue"]]);export{H as default};
