import{r as v,h as g,j as f,o as x,k as $,t as A,l as _,b as I,w as a,a as V,q as m,aB as c,x as d,y as r,m as e,s as F,v as U,_ as M}from"./index.56eed59e.js";const w={getItems:"/api/user/info/template/list",getView:"/api/user/info/template/view",updateItem:"/api/user/info/template/update"};function S(b){return v({url:w.getView,method:"post",data:b})}function N(b){return v({url:w.updateItem,method:"post",data:b})}const Q=e("option",{value:"qq"},"QQ\u6587\u6848",-1),R=e("option",{value:"weixin"},"\u5FAE\u4FE1\u6587\u6848",-1),T=e("option",{value:"cms"},"CMS\u6587\u6848",-1),j=e("option",{value:"mall"},"\u5168\u7F51\u8D2D\u7269\u6587\u6848",-1),z=e("option",{value:"quan"},"\u5168\u7F51\u8D2D\u7269\u5E26\u5238\u6587\u6848",-1),G=e("option",{value:"app"},"APP\u6587\u6848",-1),H=e("div",{class:"desc"},"\u53EF\u4EE5\u70B9\u51FB\u4E0B\u9762\u7684\u6587\u5B57,\u5C06\u5BF9\u5E94\u6807\u7B7E\u63D2\u5165\u5230\u6A21\u677F\u4E2D",-1),J={class:"flex flex-row flex-wrap mt-2 gap-x-4 gap-y-4"},K=g({__name:"template",setup(b){const q=f({}),k={},t=f({uploading:!0,model:"qq",content:"",content_qq:"",content_cms:"",content_mall:"",content_mall_coupon:"",content_app_coupon:""});x(()=>{C()});const E=$(k,A(q)),C=()=>{y()},y=()=>{S({}).then(u=>{u.data.item&&(t.content=u.data.item.content,t.content_qq=u.data.item.content_qq,t.content_cms=u.data.item.content_cms,t.content_mall=u.data.item.content_mall,t.content_mall_coupon=u.data.item.content_mall_coupon,t.content_app_coupon=u.data.item.content_app_coupon)})},B=u=>{u.preventDefault(),E.value.$touch(),E.value.$invalid?E.value.$errors:N({content:t.content,content_qq:t.content_qq,content_cms:t.content_cms,content_mall:t.content_mall,content_mall_coupon:t.content_mall_coupon,content_app_coupon:t.content_app_coupon}).then(n=>{const{code:s}=n||{};s===0?F.success("\u4FDD\u5B58\u6210\u529F"):F.error(n.message)})},l=u=>{let n=document.getElementById("content_qq");t.model==="qq"?n=document.getElementById("content_qq"):t.model==="weixin"?n=document.getElementById("content"):t.model==="cms"?n=document.getElementById("content_cms"):t.model==="mall"?n=document.getElementById("content_mall"):t.model==="quan"?n=document.getElementById("content_mall_coupon"):t.model==="app"&&(n=document.getElementById("content_app_coupon"));let s="";if(n!=null){if(n.onselectstart||n.onselectstart===0){var i=n.onselectstart,p=n.onselect;s=n.value.substring(0,i)+u+n.value.substring(p,n.value.length),U(()=>{n!=null&&(n.focus(),n.onselectionchange(p+u.length,p+u.length))})}else s+=u;t.model==="qq"?t.content_qq=s:t.model==="weixin"?t.content=s:t.model==="cms"?t.content_cms=s:t.model==="mall"?t.content_mall=s:t.model==="quan"?t.content_mall_coupon=s:t.model==="app"&&(t.content_app_coupon=s)}};return(u,n)=>{const s=_("h-radio-group"),i=_("h-form-item"),p=_("h-form"),D=_("h-card");return V(),I(D,{bordered:!1,title:"\u6A21\u7248\u8BBE\u7F6E"},{default:a(()=>[m(s,{value:t.model,"onUpdate:value":n[0]||(n[0]=o=>t.model=o)},{default:a(()=>[Q,R,T,j,z,G]),_:1},8,["value"]),m(p,{layout:"small",name:"\u6587\u6848\u6A21\u677F"},{default:a(()=>[m(i,{class:c({hidden:t.model!="qq"}),label:"",layout:"small"},{default:a(()=>[d(e("textarea",{id:"content_qq",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=o=>t.content_qq=o),rows:10},null,512),[[r,t.content_qq]])]),_:1},8,["class"]),m(i,{class:c({hidden:t.model!="weixin"}),label:"",layout:"small"},{default:a(()=>[d(e("textarea",{id:"content",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=o=>t.content=o),rows:10},null,512),[[r,t.content]])]),_:1},8,["class"]),m(i,{class:c({hidden:t.model!="cms"}),label:"",layout:"small"},{default:a(()=>[d(e("textarea",{id:"content_cms",class:"form-control","onUpdate:modelValue":n[3]||(n[3]=o=>t.content_cms=o),rows:10},null,512),[[r,t.content_cms]])]),_:1},8,["class"]),m(i,{class:c({hidden:t.model!="mall"}),label:"",layout:"small"},{default:a(()=>[d(e("textarea",{id:"content_mall",class:"form-control","onUpdate:modelValue":n[4]||(n[4]=o=>t.content_mall=o),rows:10},null,512),[[r,t.content_mall]])]),_:1},8,["class"]),m(i,{class:c({hidden:t.model!="quan"}),label:"",layout:"small"},{default:a(()=>[d(e("textarea",{id:"content_mall_coupon",class:"form-control","onUpdate:modelValue":n[5]||(n[5]=o=>t.content_mall_coupon=o),rows:10},null,512),[[r,t.content_mall_coupon]])]),_:1},8,["class"]),m(i,{class:c({hidden:t.model!="app"}),label:"",layout:"small"},{default:a(()=>[d(e("textarea",{id:"content_app_coupon",class:"form-control","onUpdate:modelValue":n[6]||(n[6]=o=>t.content_app_coupon=o),rows:10},null,512),[[r,t.content_app_coupon]])]),_:1},8,["class"]),m(i,{label:" ",content:"",layout:"small"},{default:a(()=>[H,e("div",J,[e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[7]||(n[7]=o=>l("{\u56FE\u7247}"))},"{\u56FE\u7247}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[8]||(n[8]=o=>l("{\u77ED\u6807\u9898}"))},"{\u77ED\u6807\u9898}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[9]||(n[9]=o=>l("{\u4ECB\u7ECD}"))},"{\u4ECB\u7ECD}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[10]||(n[10]=o=>l("{\u5E97\u94FA\u7C7B\u578B}"))},"{\u5E97\u94FA\u7C7B\u578B}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[11]||(n[11]=o=>l("{\u539F\u4EF7}"))},"{\u539F\u4EF7}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[12]||(n[12]=o=>l("{\u5238\u540E\u4EF7}"))},"{\u5238\u540E\u4EF7}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[13]||(n[13]=o=>l("{\u9500\u91CF}"))},"{\u9500\u91CF}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[14]||(n[14]=o=>l("{\u4F63\u91D1\u6BD4\u4F8B}"))},"{\u4F63\u91D1\u6BD4\u4F8B}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[15]||(n[15]=o=>l("{\u9886\u5238\u94FE\u63A5}"))},"{\u9886\u5238\u94FE\u63A5}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[16]||(n[16]=o=>l("{\u5238\u6EE1}"))},"{\u5238\u6EE1}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[17]||(n[17]=o=>l("{\u5238\u989D}"))},"{\u5238\u989D}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[18]||(n[18]=o=>l("{\u4F18\u60E0\u5238\u5269\u4F59\u6570\u91CF}"))},"{\u4F18\u60E0\u5238\u5269\u4F59\u6570\u91CF}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[19]||(n[19]=o=>l("{\u4F18\u60E0\u5238\u6709\u6548\u9650\u671F}"))},"{\u4F18\u60E0\u5238\u6709\u6548\u9650\u671F}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[20]||(n[20]=o=>l("{\u4E8C\u5408\u4E00\u957F\u94FE\u63A5}"))},"{\u4E8C\u5408\u4E00\u957F\u94FE\u63A5}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[21]||(n[21]=o=>l("{\u4E8C\u5408\u4E00\u77ED\u94FE\u63A5}"))},"{\u4E8C\u5408\u4E00\u77ED\u94FE\u63A5}"),e("span",{class:"inline-block w-24 mb-2 mr-1 btn btn-outline-secondary",onClick:n[22]||(n[22]=o=>l("{\u6DD8\u53E3\u4EE4}"))},"{\u6DD8\u53E3\u4EE4}")])]),_:1}),m(i,{layout:"small"},{default:a(()=>[e("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:B},"\u4FDD\u5B58")]),_:1})]),_:1})]),_:1})}}}),O=M(K,[["__file","/Users/wu./Documents/os/web/www/web/src/views/user/info/template.vue"]]);export{O as default};
