import{r as H,h as S,j as B,D as j,o as G,av as Z,v as q,k as z,t as I,a as M,b as L,w as u,l as t,p as l,x as i,a2 as O,az as F,u as v,y as d,$ as R,ax as J,q as V,s as _,an as et,Y as N,Z as K,C as $,d as Y,a1 as Q,n as T,e as nt,m as ot}from"./index.ea18d8b2.js";import{g as X}from"./user.43a29242.js";import{p as W}from"./pick.7e332561.js";const P={getItems:"/api/user/member/agent/list",getView:"/api/user/member/agent/view",updateItem:"/api/user/member/agent/update",listApply:"/api/user/member/agent/listApply",updateApplyStatus:"/api/user/member/agent/update_apply_status"};function st(w){return H({url:P.updateApplyStatus,method:"post",data:w})}function at(w){return H({url:P.updateItem,method:"post",data:w})}const ut=t("option",{value:0},"\u5BFC\u8D2D",-1),lt=t("option",{value:1},"\u4F1A\u5458\u8FD4\u5229",-1),it=t("option",{value:3},"\u591A\u7EA7\u5206\u9500",-1),rt=[ut,lt,it],dt={class:"grid-cols-3 gap-2 sm:grid"},mt={class:"input-group"},_t=t("div",{class:"w-24 text-xs input-group-text"},"\u81EA\u8D2D",-1),pt=t("div",{class:"input-group-text"},"%",-1),ct={class:"mt-2 input-group sm:mt-0"},ft=t("div",{class:"w-24 text-xs input-group-text"},"\u4E0B\u7EA7",-1),vt=t("div",{class:"input-group-text"},"%",-1),gt={class:"mt-2 input-group sm:mt-0"},ht=t("div",{class:"w-24 text-xs input-group-text"},"\u4E0B\u4E0B\u7EA7",-1),bt=t("div",{class:"input-group-text"},"%",-1),kt={class:"input-group"},yt=t("div",{class:"input-group-text"},"%",-1),xt=t("div",{class:"form-help"},"\u63D0\u793A:\u672A\u8FDB\u884C\u8BE6\u7EC6\u767B\u8BB0\u6BD4\u4F8B\u8BBE\u7F6E\uFF0C\u5C06\u624D\u6709\u4E0A\u9762\u9ED8\u8BA4\u8BBE\u7F6E\u6BD4\u4F8B ",-1),Ft={class:"overflow-x-auto"},Dt=t("thead",null,[t("tr",null,[t("th",{class:"bg-slate-50 !pr-2 dark:bg-darkmode-800"}),t("th",{class:"bg-slate-50 dark:bg-darkmode-800"},"\u7B49\u7EA7\u540D\u79F0"),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u5347\u7EA7\u9700\u8981\u9080\u8BF7\u4EBA\u6570 "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u81EA\u8D2D\u8FD4\u5229\u6BD4\u4F8B "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"}," \u4E0B\u7EA7\u8D2D\u7269\u5956\u52B1 "),t("th",{class:"whitespace-nowrap bg-slate-50 !px-2 text-slate-500 dark:bg-darkmode-800"},"\u4E0B\u4E0B\u7EA7\u8D2D\u7269\u5956\u52B1")])],-1),Et=t("td",{class:"!pr-2"},"1.",-1),Bt={class:"whitespace-nowrap"},wt={class:"!px-2"},At={class:"input-group"},Ct=t("div",{class:"input-group-text"},"\u4EBA",-1),Ut={class:"!px-2"},Vt={class:"input-group"},$t=t("div",{class:"input-group-text"},"%",-1),Mt={class:"!px-2"},Lt={class:"input-group"},Yt=t("div",{class:"input-group-text"},"%",-1),St={class:"!pl-2 text-slate-500"},jt={class:"input-group"},Ot=t("div",{class:"input-group-text"},"%",-1),Pt=t("td",{class:"!pr-2"},"2.",-1),Tt={class:"whitespace-nowrap"},qt={class:"!px-2"},zt={class:"input-group"},It=t("div",{class:"input-group-text"},"\u4EBA",-1),Rt={class:"!px-2"},Nt={class:"input-group"},Wt=t("div",{class:"input-group-text"},"%",-1),Ht={class:"!px-2"},Gt={class:"input-group"},Zt=t("div",{class:"input-group-text"},"%",-1),Jt={class:"!pl-2 text-slate-500"},Kt={class:"input-group"},Qt=t("div",{class:"input-group-text"},"%",-1),Xt=t("td",{class:"!pr-2"},"3.",-1),te={class:"whitespace-nowrap"},ee={class:"!px-2"},ne={class:"input-group"},oe=t("div",{class:"input-group-text"},"\u4EBA",-1),se={class:"!px-2"},ae={class:"input-group"},ue=t("div",{class:"input-group-text"},"%",-1),le={class:"!px-2"},ie={class:"input-group"},re=t("div",{class:"input-group-text"},"%",-1),de={class:"!pl-2 text-slate-500"},me={class:"input-group"},_e=t("div",{class:"input-group-text"},"%",-1),pe=t("div",{class:"form-help"},"1:\u4F1A\u5458\u63A8\u5E7F\u4EBA\u6570\u8FBE\u5230\u8BBE\u7F6E\u7B49\u7EA7\u8981\u6C42\u540E\uFF0C\u91C7\u7528\u76F8\u5E94\u7B49\u7EA7\u8BBE\u7F6E\u6BD4\u4F8B\u8FDB\u884C\u5956\u52B1 ",-1),ce=t("div",{class:"form-help"},"2:\u4F1A\u5458\u7B49\u7EA7\u540D\u79F0\u53EF\u4EE5\u81EA\u5B9A\u4E49 ",-1),fe=S({__name:"data",setup(w,{expose:D}){const n=B({user_rate:0,invite_mode:0,invite1_rate:0,invite2_rate:0,invite3_rate:0,rank3_name:"",rank3_members:0,rank3_invite1:0,rank3_invite2:0,rank3_invite3:0,rank2_name:"",rank2_members:0,rank2_invite1:0,rank2_invite2:0,rank2_invite3:0,rank1_name:"",rank1_members:0,rank1_invite1:0,rank1_invite2:0,rank1_invite3:0,order_start_date:""}),A={},g=B({visible:!1,confirmLoading:!1,uploading:!0,payment_money:0,user_data_money:0}),s=j(()=>n.invite_mode===3),h=j(()=>n.invite_mode===1);G(()=>{m()});const m=()=>{y()},y=()=>{Z({}).then(o=>{o.data.item&&q(()=>{const e=W(o.data.item,["invite_mode","invite1_rate","invite2_rate","invite3_rate","invite4_rate","invite5_rate","user_rate","order_start_date","rank1_name","rank2_name","rank3_name","rank1_invite1","rank1_invite2","rank1_invite3","rank1_invite1_h1","rank1_invite2_h1","rank1_invite3_h1","rank1_invite1_h2","rank1_invite2_h2","rank1_invite3_h2","rank2_invite1","rank2_invite2","rank2_invite3","rank2_invite1_h1","rank2_invite2_h1","rank2_invite3_h1","rank2_invite1_h2","rank2_invite2_h2","rank2_invite3_h2","rank3_invite1","rank3_invite2","rank3_invite3","rank3_invite1_h1","rank3_invite2_h1","rank3_invite3_h1","rank3_invite1_h2","rank3_invite2_h2","rank3_invite3_h2","rank1_members","rank2_members","rank3_members"]);Object.assign(n,e)})}),X({}).then(o=>{o.data.user_data&&(g.user_data_money=o.data.user_data.money)})},b=z(A,I(n)),E=o=>{if(o.preventDefault(),b.value.$touch(),b.value.$invalid)b.value.$errors;else{const e=v(n);e.order_start_date&&(e.order_start_date=R(e.order_start_date)),J(Object.assign(e,{page_view:"agent"})).then(r=>{const{code:k}=r||{};k===0?V.success("\u4FDD\u5B58\u6210\u529F"):V.error(r.message)})}},p=()=>{g.visible=!1};return D({edit:()=>{g.visible=!0}}),(o,e)=>{const r=_("h-form-item"),k=_("Litepicker"),C=_("h-form"),U=_("h-drawer");return M(),L(U,{title:"\u8BBE\u7F6E",size:"modal-xl",visible:g.visible,"confirm-loading":g.confirmLoading,onCancel:p},{footer:u(()=>[t("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:E},"\u4FDD\u5B58")]),default:u(()=>[l(C,{layout:"small"},{default:u(()=>[l(r,{label:"\u8D2D\u7269\u6A21\u5F0F",content:"",layout:"small"},{default:u(()=>[i(t("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=a=>n.invite_mode=a)},rt,512),[[O,n.invite_mode]])]),_:1}),l(r,{class:F({hidden:!v(s)&&!v(h)}),label:"\u8BA2\u5355\u8BA1\u7B97\u5F00\u59CB\u65F6\u95F4",layout:"small"},{default:u(()=>[l(k,{modelValue:n.order_start_date,"onUpdate:modelValue":e[1]||(e[1]=a=>n.order_start_date=a),options:{autoApply:!1,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"block w-56 form-control"},null,8,["modelValue"])]),_:1},8,["class"]),l(r,{class:F({hidden:!v(s)}),label:"\u9ED8\u8BA4\u8BBE\u7F6E",layout:"small"},{default:u(()=>[t("div",dt,[t("div",mt,[_t,i(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[2]||(e[2]=a=>n.invite1_rate=a)},null,512),[[d,n.invite1_rate]]),pt]),t("div",ct,[ft,i(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[3]||(e[3]=a=>n.invite2_rate=a)},null,512),[[d,n.invite2_rate]]),vt]),t("div",gt,[ht,i(t("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":e[4]||(e[4]=a=>n.invite3_rate=a)},null,512),[[d,n.invite3_rate]]),bt])])]),_:1},8,["class"]),l(r,{class:F({hidden:!v(h)}),label:"\u8FD4\u5229\u6BD4\u4F8B",layout:"small"},{default:u(()=>[t("div",kt,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>n.user_rate=a)},null,512),[[d,n.user_rate]]),yt])]),_:1},8,["class"]),l(r,{class:F({hidden:!v(s)}),label:"",layout:"small"},{default:u(()=>[xt]),_:1},8,["class"]),t("div",Ft,[t("table",{class:F(["table border",v(s)?"":"hidden"])},[Dt,t("tbody",null,[t("tr",{class:F(v(s)?"":"hidden")},[Et,t("td",Bt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[6]||(e[6]=a=>n.rank1_name=a)},null,512),[[d,n.rank1_name]])]),t("td",wt,[t("div",At,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[7]||(e[7]=a=>n.rank1_members=a)},null,512),[[d,n.rank1_members]]),Ct])]),t("td",Ut,[t("div",Vt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[8]||(e[8]=a=>n.rank1_invite1=a)},null,512),[[d,n.rank1_invite1]]),$t])]),t("td",Mt,[t("div",Lt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[9]||(e[9]=a=>n.rank1_invite2=a)},null,512),[[d,n.rank1_invite2]]),Yt])]),t("td",St,[t("div",jt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[10]||(e[10]=a=>n.rank1_invite3=a)},null,512),[[d,n.rank1_invite3]]),Ot])])],2),t("tr",{class:F(v(s)?"":"hidden")},[Pt,t("td",Tt,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=a=>n.rank2_name=a)},null,512),[[d,n.rank2_name]])]),t("td",qt,[t("div",zt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[12]||(e[12]=a=>n.rank2_members=a)},null,512),[[d,n.rank2_members]]),It])]),t("td",Rt,[t("div",Nt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[13]||(e[13]=a=>n.rank2_invite1=a)},null,512),[[d,n.rank2_invite1]]),Wt])]),t("td",Ht,[t("div",Gt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[14]||(e[14]=a=>n.rank2_invite2=a)},null,512),[[d,n.rank2_invite2]]),Zt])]),t("td",Jt,[t("div",Kt,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[15]||(e[15]=a=>n.rank2_invite3=a)},null,512),[[d,n.rank2_invite3]]),Qt])])],2),t("tr",{class:F(v(s)?"":"hidden")},[Xt,t("td",te,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=a=>n.rank3_name=a)},null,512),[[d,n.rank3_name]])]),t("td",ee,[t("div",ne,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[17]||(e[17]=a=>n.rank3_members=a)},null,512),[[d,n.rank3_members]]),oe])]),t("td",se,[t("div",ae,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[18]||(e[18]=a=>n.rank3_invite1=a)},null,512),[[d,n.rank3_invite1]]),ue])]),t("td",le,[t("div",ie,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[19]||(e[19]=a=>n.rank3_invite2=a)},null,512),[[d,n.rank3_invite2]]),re])]),t("td",de,[t("div",me,[i(t("input",{type:"text",class:"form-control min-w-[3rem]","onUpdate:modelValue":e[20]||(e[20]=a=>n.rank3_invite3=a)},null,512),[[d,n.rank3_invite3]]),_e])])],2)])],2)]),l(r,{class:F({hidden:!v(s)}),label:"",layout:"small"},{default:u(()=>[pe,ce]),_:1},8,["class"])]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),ve=t("option",{value:0},"\u65E0\u8FD0\u8425\u6743\u9650",-1),ge=t("option",{value:-1},"\u6E20\u9053\u6388\u6743\u6A21\u5F0F",-1),he=t("option",{value:-2},"\u4F1A\u5458\u6388\u6743\u6A21\u5F0F",-1),be=t("option",{value:-3},"\u6DF7\u5408\u6388\u6743\u6A21\u5F0F",-1),ke=[ve,ge,he,be],ye=t("div",{class:"form-help"}," \u8FD4\u5229\u3001\u5206\u9500\u6A21\u5F0F\u9700\u8981\u8054\u76DF\u5F00\u901A\u8FD0\u8425\u6743\u9650\u540E\u624D\u80FD\u6709\u6548\u8FD0\u884C ",-1),xe={class:"input-group"},Fe=t("div",{class:"input-group-text"},null,-1),De=t("div",{class:"form-help"}," \u6E20\u9053\u6388\u6743\u6A21\u5F0F\u4E0B\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u7684pid ",-1),Ee=S({__name:"shop",setup(w,{expose:D}){const n=B({distribute_pid:0,tao_pid:"",order_start_date:""}),A={},g=B({visible:!1,confirmLoading:!1,uploading:!0,payment_mode:!1,payment_money:0,user_data_money:0});G(()=>{h()});const s=z(A,I(n)),h=()=>{m()},m=()=>{Z({}).then(p=>{p.data.item&&q(()=>{const c=W(p.data.item,["distribute_pid","tao_pid","order_start_date"]);c.order_start_date=et(p.data.item.order_start_date),Object.assign(n,c)})}),X({}).then(p=>{p.data.user_data&&(g.user_data_money=p.data.user_data.money)})},y=p=>{if(p.preventDefault(),s.value.$touch(),s.value.$invalid)s.value.$errors;else{const c=v(n);c.order_start_date&&(c.order_start_date=R(c.order_start_date)),J(Object.assign(c,{page_view:"data"})).then(o=>{const{code:e}=o.data;e===0?V.success("\u4FDD\u5B58\u6210\u529F"):V.error(o.message)})}},b=()=>{g.visible=!1};return D({edit:()=>{g.visible=!0}}),(p,c)=>{const o=_("h-form-item"),e=_("h-form"),r=_("h-drawer");return M(),L(r,{title:"\u7535\u5546\u5E73\u53F0\u914D\u7F6E",visible:g.visible,"confirm-loading":g.confirmLoading,onCancel:b},{footer:u(()=>[t("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:y},"\u4FDD\u5B58")]),default:u(()=>[l(e,{layout:"small",label:"\u6DD8\u5B9D",border:!1},{default:u(()=>[l(o,{label:"\u6388\u6743\u6A21\u5F0F",content:"",layout:"small"},{default:u(()=>[i(t("select",{class:"form-select","onUpdate:modelValue":c[0]||(c[0]=k=>n.distribute_pid=k)},ke,512),[[O,n.distribute_pid]]),ye]),_:1}),l(o,{label:"\u9ED8\u8BA4\u6E20\u9053\u4E13\u4EABpid",content:"",layout:"small"},{default:u(()=>[t("div",xe,[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":c[1]||(c[1]=k=>n.tao_pid=k)},null,512),[[d,n.tao_pid]]),Fe]),De]),_:1})]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),Be=S({__name:"apply",setup(w,{expose:D}){const n=N(),A=j(()=>`${n.urlPrefix}${n.apiUrl}${P.listApply}`),g=K({}),s=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u7528\u6237\u540D",field:"member.user_name",width:150},{title:"\u72B6\u6001",field:"status",formatter(o){return o.getData().status===1?"\u901A\u8FC7":"\u5F85\u5BA1\u6838"}},{title:"qq",field:"qq"},{title:"\u5FAE\u4FE1",field:"weixin"},{title:"\u65F6\u95F4",width:140,field:"created_at",formatter(o){return R(o.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(o){if(o.getData().status===0){const e=Y('<a class="flex items-center" href="javascript:;">\u901A\u8FC7</a>');return Y(e).on("click",function(r){E(o.getData())}),e[0]}return""}}],h=B({rangePicker:"",username:"",status:0,startTime:"",endTime:""}),m=B({visible:!1,confirmLoading:!1}),y=$(),b=()=>{y.value.reload(!0)},E=o=>{st({member_id:o.member_id,status:1}).then(e=>{V.success(e.message),y.value.reload()})},p=()=>{m.visible=!1};return D({edit:()=>{m.visible=!0}}),(o,e)=>{const r=_("h-form-item"),k=_("Litepicker"),C=_("h-form"),U=Q,a=_("h-drawer");return M(),L(a,{title:"\u5BA1\u6838\u56E2\u957F\u7533\u8BF7",size:"modal-xl",visible:m.visible,"confirm-loading":m.confirmLoading,onCancel:p},{default:u(()=>[l(U,{ref_key:"tableRef",ref:y,columns:s,ajaxUrl:v(A),config:v(g),queryParam:h},{search:u(()=>[l(C,{layout:"inline"},{default:u(()=>[l(r,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:u(()=>[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=x=>h.username=x),type:"text",class:"form-control mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[d,h.username]])]),_:1}),l(r,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:u(()=>[l(k,{modelValue:h.rangePicker,"onUpdate:modelValue":e[1]||(e[1]=x=>h.rangePicker=x),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"form-control mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"btn btn-primary w-full sm:w-16",onClick:b}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1},8,["visible","confirm-loading"])}}}),we=t("option",{value:1},"\u72EC\u7ACB\u57DF\u540D",-1),Ae=t("option",{value:2},"\u514D\u8D39\u4E8C\u7EA7",-1),Ce=[we,Ae],Ue={class:"input-group"},Ve=t("div",{class:"input-group-text"},"Http://",-1),$e={class:"input-group"},Me=t("div",{class:"input-group-text"},"Http://",-1),Le={class:"input-group-text w-96"},Ye=t("option",{value:"gouwu.rocks"},"gouwu.rocks",-1),Se=[Ye],je={class:"w-32 mt-1 mb-2 mr-2 btn btn-outline-success btn-sm"},Oe=S({__name:"agent",emits:["ok"],setup(w,{expose:D,emit:n}){const g=N().uploadUrl,s=B({id:0,url:"",prefix:"",domain_url:"",pid:"",relation_id:"",site_name:"",logo_url:"",type:0}),h={},m=B({visible:!1,confirmLoading:!1,data:{userCmsAgent:{user_name:""}}}),y=()=>{m.visible=!1},b=z(h,I(s)),E=o=>{m.visible=!0,q(()=>{Object.assign(s,{id:0,url:"",prefix:"",domain_url:"",pid:"",relation_id:"",site_name:"",logo_url:"",type:0});const e=W(o,["id","url","prefix","domain_url","pid","relation_id","site_name","logo_url","type"]);o.domain&&(e.site_name=o.domain.site_name,e.logo_url=o.domain.logo_url,e.url=o.domain.url,e.type=o.domain.type),o.member&&(m.data.userCmsAgent.user_name=o.member.user_name),Object.assign(s,e)})},p=()=>{if(m.confirmLoading=!0,b.value.$touch(),b.value.$invalid)b.value.$errors,m.confirmLoading=!1;else{const o=v(s);at(Object.assign(o,{user_name:m.data.userCmsAgent.user_name,domain_type:s.type})).then(e=>{const{code:r}=e||{};r===0?(V.success("\u4FDD\u5B58\u6210\u529F"),n("ok",o),m.visible=!1):V.error(e.message),m.confirmLoading=!1})}},c=o=>{s.logo_url=o.data.item.img};return D({edit:E}),(o,e)=>{const r=_("h-form-item"),k=_("UploadIcon"),C=_("h-upload"),U=_("h-form"),a=_("h-spin"),x=_("LoadingIcon"),tt=_("h-modal");return M(),L(tt,{title:"\u7F16\u8F91",size:"modal-lg",visible:m.visible,"confirm-loading":m.confirmLoading,onCancel:y},{footer:u(()=>[t("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:e[9]||(e[9]=f=>p())},[T(" \u4FDD\u5B58 "),m.confirmLoading?(M(),L(x,{key:0,icon:"oval",color:"white",class:"w-4 h-4 ml-2"})):nt("",!0)])]),default:u(()=>[l(a,{spinning:m.confirmLoading},{default:u(()=>[l(U,{layout:"small"},{default:u(()=>[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=f=>s.id=f),type:"hidden"},null,512),[[d,s.id]]),l(r,{label:"\u7528\u6237\u540D",content:"",layout:"small"},{default:u(()=>[T(ot(m.data.userCmsAgent.user_name),1)]),_:1}),l(r,{label:"\u5E7F\u544A\u4F4Dpid",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=f=>s.pid=f)},null,512),[[d,s.pid]])]),_:1}),l(r,{label:"\u6E20\u9053id",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=f=>s.relation_id=f)},null,512),[[d,s.relation_id]])]),_:1}),l(r,{label:"\u7ED1\u5B9A\u57DF\u540D",content:"",layout:"small"},{default:u(()=>[i(t("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=f=>s.type=f)},Ce,512),[[O,s.type]])]),_:1}),l(r,{class:F({hidden:s.type==2}),label:"\u72EC\u7ACB\u57DF\u540D",layout:"small"},{default:u(()=>[t("div",Ue,[Ve,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=f=>s.url=f)},null,512),[[d,s.url]])])]),_:1},8,["class"]),l(r,{class:F({hidden:s.type==1}),label:"\u514D\u8D39\u57DF\u540D",layout:"small"},{default:u(()=>[t("div",$e,[Me,i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=f=>s.prefix=f)},null,512),[[d,s.prefix]]),t("div",Le,[i(t("select",{class:"form-select","onUpdate:modelValue":e[6]||(e[6]=f=>s.domain_url=f)},Se,512),[[O,s.domain_url]])])])]),_:1},8,["class"]),l(r,{label:"\u7F51\u5740\u540D\u5B57",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=f=>s.site_name=f)},null,512),[[d,s.site_name]])]),_:1}),l(r,{label:"logo",content:"",layout:"small"},{default:u(()=>[i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=f=>s.logo_url=f),placeholder:"\u8BBE\u7F6E\u7F51\u7AD9\u7684logo\uFF0C\u4E0D\u8BBE\u7F6E\u4E0D\u663E\u793A\uFF01"},null,512),[[d,s.logo_url]]),l(C,{name:"file",multiple:!0,action:v(g),onChange:c},{default:u(()=>[t("button",je,[l(k,{class:"w-4 h-4 mr-2"}),T("\u4E0A\u4F20 ")])]),_:1},8,["action"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["visible","confirm-loading"])}}}),ze=S({__name:"agent",setup(w){const D=N(),n=j(()=>`${D.urlPrefix}${D.apiUrl}${P.getItems}`),A=K({}),g=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u7528\u6237\u540D",field:"member.user_name",width:150},{title:"\u7ED1\u5B9A\u57DF\u540D",field:"domain.url",formatter(o){return o.getData().domain?Y(`<a target="_blank" href="'http://${o.getData().domain.url}">${o.getData().domain.url}</a>`)[0]:""}},{title:"\u64CD\u4F5C",field:"",formatter(o){const e=Y('<a class="flex items-center" href="javascript:;">\u7F16\u8F91</a>');return Y(e).on("click",function(r){c(o.getData())}),e[0]}}],s=B({rangePicker:"",username:"",status:0,startTime:"",endTime:""}),h=$(),m=$(),y=$(),b=$(),E=$(),p=()=>{h.value.reload(!0)},c=o=>{E.value.edit(o)};return(o,e)=>{const r=_("h-form-item"),k=_("Litepicker"),C=_("h-form"),U=Q,a=_("h-card");return M(),L(a,{bordered:!1,title:"\u56E2\u957F\u7BA1\u7406"},{header:u(()=>[t("button",{class:"btn btn-primary mr-2 shadow-md",onClick:e[0]||(e[0]=x=>m.value.edit({}))},"\u8FD4\u5229\u8BBE\u7F6E "),t("button",{class:"btn btn-primary mr-2 shadow-md",onClick:e[1]||(e[1]=x=>y.value.edit({}))},"\u7535\u5546\u5E73\u53F0\u914D\u7F6E "),t("button",{class:"btn btn-primary mr-2 shadow-md",onClick:e[2]||(e[2]=x=>b.value.edit({}))},"\u4EE3\u7406\u5BA1\u6838 ")]),default:u(()=>[l(U,{ref_key:"tableRef",ref:h,columns:g,ajaxUrl:v(n),config:v(A),queryParam:s},{search:u(()=>[l(C,{layout:"inline"},{default:u(()=>[l(r,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:u(()=>[i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=x=>s.username=x),type:"text",class:"form-control mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[d,s.username]])]),_:1}),l(r,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:u(()=>[l(k,{modelValue:s.rangePicker,"onUpdate:modelValue":e[4]||(e[4]=x=>s.rangePicker=x),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"form-control mt-2 sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"btn btn-primary w-full sm:w-16",onClick:p}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"]),l(fe,{ref_key:"dataModal",ref:m,onOk:p},null,512),l(Ee,{ref_key:"shopModal",ref:y,onOk:p},null,512),l(Be,{ref_key:"applyModal",ref:b,onOk:p},null,512),l(Oe,{ref_key:"agentModal",ref:E,onOk:p},null,512)]),_:1})}}});export{ze as default};
