import{h as O,Y as F,D as C,Z as E,j as c,o as Y,C as $,b as A,w as r,s,a as j,l as t,m as n,p as d,x as U,y as M,u as f,d as z,O as T,$ as p,a1 as k}from"./index.add566e0.js";import{a as H,b as R}from"./report.1f16879a.js";const S={list:"/api/user/order/order/list"},q={class:"box flex p-2 py-5"},N={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},P=t("span",null,"\u4ECA\u65E5\u9884\u4F30",-1),V={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},G=t("span",null,"\u6628\u65E5\u9884\u4F30",-1),W={class:"flex flex-1 flex-col items-center justify-center gap-y-2"},Z=t("span",null,"\u7D2F\u79EF\u9884\u4F30",-1),L=O({__name:"common",setup(I){const i=F(),_=C(()=>`${i.urlPrefix}${i.apiUrl}${S.list}`),y=E({sharedColumnNames:{created:"created_at",updated:"created_at"}}),h=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"",field:"title",formatter(e){return z(`
        <div class="flex items-center">
                <div class="w-9 h-9 zoom-in">
                  <img class="border-white rounded-lg shadow-md w-9 h-9" src="${T(e.getData().prod_img)?"/@/assets/images/notfound.png":e.getData().prod_img}" />
                </div>
                <div class="ml-4">
                  <a href="" class="font-medium whitespace-nowrap">${e.getData().order_no}</a>
                  <div class="text-slate-500 text-xs whitespace-nowrap mt-0.5">
                    ${e.getData().prod_name}
                  </div>
                </div>
              </div>
              `)[0]},download:!0},{title:"\u72B6\u6001",hozAlign:"center",field:"status",width:80},{title:"\u8BA2\u5355\u7C7B\u578B",field:"order_type",width:120},{title:"\u4ED8\u6B3E\u91D1\u989D",field:"am",width:120},{title:"\u9884\u4F30\u6536\u76CA",field:"commision",width:120},{title:"\u5E7F\u544A\u4F4D",field:"",width:80,formatter(e){return`${e.getData().pid||""}${e.getData().zone_name||""}`}},{title:"\u8BA2\u5355\u65F6\u95F4",field:"order_time",formatter(e){return p(e.getData().order_time,"YY-MM-DD HH:mm")},width:150},{title:"\u540C\u6B65\u65F6\u95F4",field:"created_at",formatter(e){return p(e.getData().created_at,"YY-MM-DD HH:mm")},width:150}],o=c({order_no:""}),a=c({data:{report:{userOrder:{money_taobao:0},userDayOrder:{money_taobao:0},userDayOrderYesterday:{money_taobao:0}}}});Y(()=>{D()});const D=()=>{l()},u=$(),l=()=>{u.value.reload(!0),g()},g=()=>{H({}).then(e=>{e.data.report&&(a.data.report.userOrder=e.data.report)}),R({}).then(e=>{e.data.report&&(a.data.report.userDayOrder=e.data.report),e.data.userDayOrderYesterday&&(a.data.report.userDayOrderYesterday=e.data.userDayOrderYesterday)})};return(e,m)=>{const x=s("h-form-item"),w=s("h-form"),b=k,v=s("h-card");return j(),A(v,{bordered:!1,title:"\u6DD8\u5B9D\u8BA2\u5355"},{extra:r(()=>[t("div",q,[t("div",N,[P,t("span",null,n(a.data.report.userDayOrder.money_taobao),1)]),t("div",V,[G,t("span",null,n(a.data.report.userDayOrderYesterday.money_taobao),1)]),t("div",W,[Z,t("span",null,n(a.data.report.userOrder.money_taobao),1)])])]),default:r(()=>[d(b,{ref_key:"tableRef",ref:u,columns:h,ajaxUrl:f(_),config:f(y),queryParam:o},{search:r(()=>[d(w,{layout:"inline"},{default:r(()=>[d(x,{label:"\u8BA2\u5355\u53F7",content:"",layout:"inline"},{default:r(()=>[U(t("input",{"onUpdate:modelValue":m[0]||(m[0]=B=>o.order_no=B),type:"text",class:"form-control mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[M,o.order_no]])]),_:1}),t("div",{class:"mt-2 xl:mt-0"},[t("button",{type:"button",class:"btn btn-primary w-full sm:w-16",onClick:l}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1})}}});export{L as default};
