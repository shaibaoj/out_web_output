import{h as y,Y as E,D as I,Z as U,j as u,C as V,b as d,w as a,s as o,a as f,p as i,u as m,l as s,n as $,e as j,d as p,a1 as A}from"./index.64e15f73.js";const D={getItems:"/api/user/info/taoke/list",getView:"/api/user/info/taoke/view",updateItem:"/api/user/info/taoke/update"},N=s("div",null,[s("p",null,"\u786E\u8BA4\u6388\u6743\u5B8C\u6210")],-1),q=y({__name:"taoke",setup(z){const l=E(),_=I(()=>`${l.urlPrefix}${l.apiUrl}${D.getItems}`),g=U({}),b=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u5E73\u53F0",field:"platform",width:100},{title:"\u8D26\u53F7",field:"account",width:100},{title:"\u8FC7\u671F\u65F6\u95F4",width:160,field:"date"},{title:"\u5269\u4F59\u5929\u6570",width:160,field:"days"},{title:"\u64CD\u4F5C",field:"action",formatter(n){const t=p('<a class="flex items-center" target="_blank" href="record.target">\u6388\u6743</a>');return p(t).on("click",function(c){v(n.getData())}),t[0]}}],h=u({}),e=u({taoke:{visible:!1,confirmLoading:!1}}),r=V(),k=()=>{r.value.reload(!0)},v=n=>{e.taoke.visible=!0},C=()=>{e.taoke.visible=!1,e.taoke.confirmLoading=!1,k()},w=()=>{e.taoke.visible=!1,e.taoke.confirmLoading=!1};return(n,t)=>{const c=A,B=o("h-spin"),x=o("LoadingIcon"),F=o("h-modal"),L=o("h-card");return f(),d(L,{bordered:!1,title:"\u7B2C\u4E09\u65B9\u6388\u6743"},{default:a(()=>[i(c,{ref_key:"tableRef",ref:r,columns:b,ajaxUrl:m(_),config:m(g),queryParam:h},null,8,["ajaxUrl","config","queryParam"]),i(F,{title:"\u6388\u6743\u786E\u8BA4",size:"modal-sm",visible:e.taoke.visible,"confirm-loading":e.taoke.confirmLoading,onCancel:w},{footer:a(()=>[s("button",{class:"btn btn-primary mb-2 mr-1 w-24",onClick:t[0]||(t[0]=P=>C())},[$(" \u5237\u65B0\u786E\u8BA4 "),e.taoke.confirmLoading?(f(),d(x,{key:0,icon:"oval",color:"white",class:"ml-2 h-4 w-4"})):j("",!0)])]),default:a(()=>[i(B,{spinning:e.taoke.confirmLoading},{default:a(()=>[N]),_:1},8,["spinning"])]),_:1},8,["visible","confirm-loading"])]),_:1})}}});export{q as default};
