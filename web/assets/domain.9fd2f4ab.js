import{v as O,d as j,a6 as S,x as U,y as I,z as P,b as L,e as W,w as t,g as d,h as e,u as o,Q as F,j as m,E as i,F as N,k as A,D as Q,C,A as c,p as G,K as $,a7 as H,c as K,H as M,ac as g,a as q,aa as J}from"./index.778e50f1.js";import{p as X}from"./pick.28bc0ef7.js";const R={list:"/api/admin/domain/list",view:"/api/admin/domain/view",update:"/api/admin/domain/update"};function Y(w){return O({url:R.update,method:"post",data:w})}const Z={class:"grid grid-cols-11 pb-20 gap-x-6"},ee={class:"col-span-11 intro-y 2xl:col-span-9"},ue={class:"flex flex-col justify-end gap-2 mt-5 md:flex-row"},le={class:"sticky top-0 mt-5 box"},te={class:"p-5"},ae={class:"flex items-center font-medium text-primary",href:""},oe={class:"flex items-center mt-5",href:""},de={class:"sticky top-0 pt-10"},se=d("ul",{class:"relative text-slate-500 before:absolute before:left-0 before:z-[-1] before:h-full before:w-[2px] before:bg-slate-200 before:content-[''] before:dark:bg-darkmode-600"},[d("li",{class:"pl-5 mb-4 border-l-2 border-transparent dark:border-transparent dark:border-primary"},[d("a",{href:""},"\u7F51\u7AD9\u8BBE\u7F6E")]),d("li",{class:"pl-5 mb-4 border-l-2 border-transparent dark:border-transparent"},[d("a",{href:""},"\u5BA2\u670D\u8BBE\u7F6E")]),d("li",{class:"pl-5 mb-4 border-l-2 border-transparent dark:border-transparent"},[d("a",{href:""},"\u5E7F\u544A\u4F4D\u8BBE\u7F6E")])],-1),ne={class:"relative p-5 mt-10 border rounded-md border-warning bg-warning/20 dark:border-0 dark:bg-darkmode-600"},re=d("h2",{class:"text-lg font-medium"},"\u63D0\u9192",-1),ie=d("div",{class:"mt-5 font-medium"},"\u7F51\u7AD9\u8BBE\u7F6E",-1),me=d("div",{class:"mt-2 text-xs leading-relaxed text-slate-600 dark:text-slate-500"},[d("div",{class:"mt-2"}," \u7F51\u7AD9\u8BBE\u7F6E\u4E3B\u8981\u8BBE\u7F6E\u7F51\u7AD9\u76F8\u5173\u7684\u914D\u7F6E\u4FE1\u606F. ")],-1),pe=j({__name:"edit",emits:["ok"],setup(w,{expose:x,emit:h}){const B=S().uploadUrl,u=U({site_name:"",title:"",domain_url:"",logo_url:"",keywords:"",description:"",beianhao:"",introduce:"",qq_url:"",tj:"",weixin_url:"",ads1:"",ads2:"",ads3:"",ads4:"",ads5:"",ads6:"",ads7:"",ads8:"",ads9:"",ads10:"",ads11:"",ads12:""}),y={},E=U({visible:!1,confirmLoading:!1}),_=I(y,P(u)),D=p=>{E.visible=!0,Q(()=>{Object.assign(u,{id:0,site_name:"",title:"",domain_url:"",logo_url:"",keywords:"",description:"",beianhao:"",introduce:"",qq_url:"",tj:"",weixin_url:"",ads1:"",ads2:"",ads3:"",ads4:"",ads5:"",ads6:"",ads7:"",ads8:"",ads9:"",ads10:"",ads11:"",ads12:""}),Object.assign(u,X(p,["id","domain_url","site_name","title","logo_url","keywords","description","beianhao","introduce","qq_url","tj","weixin","qq","tel","weixin_url","ads1","ads2","ads3","ads4","ads5","ads6","ads7","ads8","ads9","ads10","ads11","ads12"]))})},f=p=>{if(p.preventDefault(),_.value.$touch(),_.value.$invalid)_.value.$errors,E.confirmLoading=!1;else{const l=o(u);E.confirmLoading=!0,Y(l).then(s=>{const{code:b}=s||{};b===0?(C.success("\u4FDD\u5B58\u6210\u529F"),E.confirmLoading=!1,h("ok",l)):(C.error(s.message),E.confirmLoading=!1)})}},r=p=>{Object.assign(u,{logo_url:p.data.item.img})},V=p=>{Object.assign(u,{weixin_url:p.data.item.img})};return x({edit:D}),(p,l)=>{const s=c("h-form-item"),b=c("h-upload"),n=c("FormTextarea"),k=c("h-form"),T=c("h-spin"),z=c("h-card");return L(),W(z,{title:"\u57DF\u540D\u8BBE\u7F6E"},{menu:t(()=>[d("div",le,[d("div",te,[d("a",ae,[e(o(F),{icon:"Activity",class:"w-4 h-4 mr-2"}),m(" \u5E2E\u52A9\u4E2D\u5FC3 ")]),d("a",oe,[e(o(F),{icon:"Box",class:"w-4 h-4 mr-2"}),m(" \u89E3\u6790\u6559\u7A0B ")])])]),d("div",de,[se,d("div",ne,[e(o(F),{icon:"Lightbulb",class:"absolute top-0 right-0 w-12 h-12 mt-5 mr-3 text-warning/80"}),re,ie,me])])]),default:t(()=>[d("div",Z,[d("div",ee,[e(T,{spinning:E.confirmLoading},{default:t(()=>[e(k,{label:"\u7F51\u7AD9\u8BBE\u7F6E",border:!0},{default:t(()=>[e(s,{label:"\u57DF\u540D",content:"\u57DF\u540D\u5982:www.xxx.com"},{default:t(()=>[e(o(i),{type:"text",modelValue:u.domain_url,"onUpdate:modelValue":l[0]||(l[0]=a=>u.domain_url=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u7F51\u7AD9\u540D\u79F0",content:"\u7ED9\u7F51\u7AD9\u8D77\u4E2A\u540D\u5B57\u5427"},{default:t(()=>[e(o(i),{type:"text",modelValue:u.site_name,"onUpdate:modelValue":l[1]||(l[1]=a=>u.site_name=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u7F51\u7AD9\u9996\u9875\u6807\u9898",content:"\u7F51\u7AD9\u9996\u9875\u6807\u9898"},{default:t(()=>[e(o(i),{type:"text",modelValue:u.title,"onUpdate:modelValue":l[2]||(l[2]=a=>u.title=a),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u5173\u952E\u8BCD",content:"\u7ED9\u7F51\u7AD9\u5199\u4E00\u4E9B\u5173\u952E\u8BCD\u5427\uFF01",required:!1},{default:t(()=>[e(o(i),{type:"text",placeholder:"\u5173\u952E\u8BCD",modelValue:u.keywords,"onUpdate:modelValue":l[3]||(l[3]=a=>u.keywords=a)},null,8,["modelValue"]),e(o(N),{class:"text-right"},{default:t(()=>[m(" 0/70")]),_:1})]),_:1}),e(s,{label:"\u7F51\u7AD9logo",content:"\u8BBE\u7F6E\u7F51\u7AD9\u7684logo\uFF0C\u4E0D\u8BBE\u7F6E\u4E0D\u663E\u793A",required:!1},{default:t(()=>[e(o(i),{type:"text",placeholder:"logo\u7684url\u5730\u5740",modelValue:u.logo_url,"onUpdate:modelValue":l[4]||(l[4]=a=>u.logo_url=a)},null,8,["modelValue"]),e(b,{name:"file",multiple:!0,action:o(B),onChange:r},{default:t(()=>[e(o(A),{variant:"outline-success",class:"w-32 mt-1 mb-2 mr-2 btn-sm"},{default:t(()=>[e(o(F),{icon:"Upload",class:"w-4 h-4 mr-2"}),m("\u4E0A\u4F20 ")]),_:1})]),_:1},8,["action"])]),_:1}),e(s,{label:"\u5FAE\u4FE1\u4E8C\u7EF4\u7801",content:"\u7F51\u7EDC\u5730\u5740\u56FE\u7247\uFF0C\u4E5F\u53EF\u4EE5\u4E0A\u4F20\u5FAE\u4FE1\u56FE\u7247\u5230\u81EA\u5DF1\u7684\u670D\u52A1\u5668\uFF01"},{default:t(()=>[e(o(i),{type:"text",modelValue:u.weixin_url,"onUpdate:modelValue":l[5]||(l[5]=a=>u.weixin_url=a),placeholder:""},null,8,["modelValue"]),e(b,{name:"file",multiple:!0,action:o(B),onChange:V},{default:t(()=>[e(o(A),{variant:"outline-success",class:"w-32 mt-1 mb-2 mr-2 btn-sm"},{default:t(()=>[e(o(F),{icon:"Upload",class:"w-4 h-4 mr-2"}),m("\u4E0A\u4F20 ")]),_:1})]),_:1},8,["action"])]),_:1}),e(s,{label:"\u7F51\u7AD9\u5907\u6848\u53F7",content:""},{default:t(()=>[e(o(i),{type:"text",modelValue:u.beianhao,"onUpdate:modelValue":l[6]||(l[6]=a=>u.beianhao=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u4ECB\u7ECD",content:"\u5EFA\u8BAE\u7B80\u5355\u7B80\u6D01\u660E\u4E86"},{default:t(()=>[e(o(i),{type:"text",modelValue:u.introduce,"onUpdate:modelValue":l[7]||(l[7]=a=>u.introduce=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u7EDF\u8BA1\u4EE3\u7801",content:"\u901A\u8FC7\u7B2C\u4E09\u65B9\u7EDF\u8BA1\u5DE5\u5177\u7EDF\u8BA1\u7F51\u7AD9\u6D41\u91CF"},{default:t(()=>[e(n,{modelValue:u.tj,"onUpdate:modelValue":l[8]||(l[8]=a=>u.tj=a),rows:4,placeholder:""},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{label:"\u5BA2\u670D\u8BBE\u7F6E",border:!0},{default:t(()=>[e(s,{label:"\u5FAE\u4FE1\u5BA2\u670D",content:""},{default:t(()=>[e(o(i),{type:"text",modelValue:u.weixin,"onUpdate:modelValue":l[9]||(l[9]=a=>u.weixin=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"qq",content:"QQ\u53F7\u7801"},{default:t(()=>[e(o(i),{type:"text",modelValue:u.qq,"onUpdate:modelValue":l[10]||(l[10]=a=>u.qq=a),placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u7535\u8BDD",content:"\u8054\u7CFB\u7535\u8BDD"},{default:t(()=>[e(o(i),{type:"text",modelValue:u.tel,"onUpdate:modelValue":l[11]||(l[11]=a=>u.tel=a),placeholder:""},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{label:"\u5E7F\u544A\u4F4D\u8BBE\u7F6E",border:!0},{default:t(()=>[e(s,{label:"\u53F3\u4FA7\u4E0A\u5E7F\u544A",content:"\u53F3\u8FB9\u680F\u4E0A\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads1,"onUpdate:modelValue":l[12]||(l[12]=a=>u.ads1=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u53F3\u4FA7\u4E0B\u5E7F\u544A",content:"\u53F3\u8FB9\u680F\u4E0B\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads2,"onUpdate:modelValue":l[13]||(l[13]=a=>u.ads2=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u9876\u90E8\u5E7F\u544A",content:"\u9876\u90E8\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads3,"onUpdate:modelValue":l[14]||(l[14]=a=>u.ads3=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u5E95\u90E8\u5E7F\u544A",content:"\u5E95\u90E8\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads4,"onUpdate:modelValue":l[15]||(l[15]=a=>u.ads4=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u4E3B\u533A\u57DF\u4E0A\u5E7F\u544A",content:"\u4E3B\u533A\u57DF\u4E0A\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads5,"onUpdate:modelValue":l[16]||(l[16]=a=>u.ads5=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u4E3B\u533A\u57DF\u4E0B\u5E7F\u544A",content:"\u4E3B\u533A\u57DF\u4E0B\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads6,"onUpdate:modelValue":l[17]||(l[17]=a=>u.ads6=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u6587\u7AE0\u4E0A\u5E7F\u544A",content:"\u6587\u7AE0\u4E0A\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads7,"onUpdate:modelValue":l[18]||(l[18]=a=>u.ads7=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u6587\u7AE0\u4E2D\u5E7F\u544A",content:"\u6587\u7AE0\u4E2D\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads8,"onUpdate:modelValue":l[19]||(l[19]=a=>u.ads8=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u6587\u7AE0\u4E0B\u5E7F\u544A",content:"\u6587\u7AE0\u4E0B\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads9,"onUpdate:modelValue":l[20]||(l[20]=a=>u.ads9=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u76F8\u5173\u9605\u8BFB\u4E0A\u5E7F\u544A",content:"\u76F8\u5173\u9605\u8BFB\u4E0A\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads10,"onUpdate:modelValue":l[21]||(l[21]=a=>u.ads10=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u76F8\u5173\u9605\u8BFB\u4E2D\u5E7F\u544A",content:"\u76F8\u5173\u9605\u8BFB\u4E2D\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads11,"onUpdate:modelValue":l[22]||(l[22]=a=>u.ads11=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1}),e(s,{label:"\u76F8\u5173\u9605\u8BFB\u4E0B\u5E7F\u544A",content:"\u76F8\u5173\u9605\u8BFB\u4E0B\u5E7F\u544A"},{default:t(()=>[e(n,{modelValue:u.ads12,"onUpdate:modelValue":l[23]||(l[23]=a=>u.ads12=a),rows:3,placeholder:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["spinning"]),d("div",ue,[e(o(A),{variant:"primary",type:"button",class:"w-full py-3 md:w-52",onClick:f},{default:t(()=>[m(" \u4FDD\u5B58 ")]),_:1})])])])]),_:1})}}}),ce={class:"flex items-center justify-center w-5 h-5"},fe={class:"mt-2 xl:mt-0"},Ee={class:"sticky top-0 mt-5 box"},Fe={class:"p-5"},_e={class:"flex items-center font-medium text-primary",target:"_blank",rel:"noopener noreferrer",href:"https://www.xxxxxx.com/article/7"},be=d("div",{class:"sticky top-0"},[d("div",{class:"relative p-5 mt-10 border rounded-md border-warning bg-warning/20 dark:border-0 dark:bg-darkmode-600"},[d("h2",{class:"text-lg font-medium"},"\u63D0\u793A"),d("div",{class:"mt-2 text-xs leading-relaxed text-slate-600 dark:text-slate-500"},[d("div",null," 1\u3001\u6DFB\u52A0\u57DF\u540D ")])])],-1),De=j({__name:"domain",setup(w){const x=S(),h=G(()=>`${x.urlPrefix}${x.apiUrl}${R.list}`),v=$(),B=$(),u=U({url:""}),y=H({}),E=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u57DF\u540D",minWidth:200,responsive:0,field:"url",vertAlign:"middle",print:!0,download:!0,headerSort:!1,formatter(f){return`<div>
                <div class="font-medium whitespace-nowrap"><a target="_blank" href="http://${f.getData().domain_url}">${f.getData().domain_url}</a></div>
              </div>`}},{title:"\u64CD\u4F5C",minWidth:200,field:"actions",responsive:1,hozAlign:"center",vertAlign:"middle",print:!1,download:!1,headerSort:!1,formatter(f){const r=q(`    <div class="flex items-center lg:justify-center">
          <a class="flex items-center mr-3" href="javascript:;">
                  <i data-lucide="check-square" class="w-4 h-4 mr-1"></i> \u4FEE\u6539
                </a>
                </div>`);return q(r).find("a:first-child").on("click",function(V){D(f.getData())}),r[0]}}],_=()=>{B.value.reload(!0)},D=f=>{v.value.edit(f)};return(f,r)=>{const V=c("FormInput"),p=c("h-form-item"),l=c("h-form"),s=J,b=c("h-card");return L(),K(M,null,[e(b,{title:"\u57DF\u540D\u7BA1\u7406",bordered:!1},{header:t(()=>[e(o(A),{variant:"primary",class:"mr-2 shadow-md",onClick:r[0]||(r[0]=n=>D({}))},{default:t(()=>[m(" \u6DFB\u52A0\u57DF\u540D ")]),_:1}),e(o(g),{class:"ml-auto pos-dropdown sm:ml-0"},{default:t(()=>[e(o(g).Button,{as:o(A),class:"px-2 btn box"},{default:t(()=>[d("span",ce,[e(o(F),{icon:"Plus",class:"w-4 h-4"})])]),_:1},8,["as"]),e(o(g).Items,{class:"w-40"},{default:t(()=>[e(o(g).Item,{onClick:r[1]||(r[1]=n=>D({}))},{default:t(()=>[e(o(F),{icon:"File",class:"w-4 h-4 mr-2"}),m(" \u6DFB\u52A0\u57DF\u540D ")]),_:1}),m("\u3001 ")]),_:1})]),_:1})]),menu:t(()=>[d("div",Ee,[d("div",Fe,[d("a",_e,[e(o(F),{icon:"Activity",class:"w-4 h-4 mr-2"}),m(" \u6559\u7A0B>>> ")])])]),be]),default:t(()=>[e(s,{ref_key:"tableRef",ref:B,columns:E,ajaxUrl:o(h),config:o(y),queryParam:u},{search:t(()=>[e(l,{layout:"inline"},{default:t(()=>[e(p,{label:"\u57DF\u540D",content:"",layout:"inline"},{default:t(()=>[e(V,{modelValue:u.url,"onUpdate:modelValue":r[2]||(r[2]=n=>u.url=n),type:"text",class:"mt-2 sm:mt-0 sm:w-40 2xl:w-full"},null,8,["modelValue"])]),_:1}),d("div",fe,[e(o(A),{variant:"primary",type:"button",class:"w-full sm:w-16",onClick:_},{default:t(()=>[m(" \u67E5\u8BE2 ")]),_:1})])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1}),e(pe,{ref_key:"editRef",ref:v,onOk:_},null,512)],64)}}});export{De as default};
