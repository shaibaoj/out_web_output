import{h as k,Y as v,D as y,Z as C,j as B,C as Y,b as E,w as a,s as r,a as F,p as o,x as f,y as M,l as n,a2 as P,u as d,$ as T,d as U,a0 as p,a1 as V}from"./index.5040b566.js";const A={list:"/api/admin/cms/list",view:"/api/admin/cms/view"},j=n("option",{value:"all"},"\u5168\u90E8",-1),$=n("option",{value:"1"},"\u5BA1\u6838\u4E2D",-1),S=[j,$],q=k({__name:"cms",setup(N){const i=v(),_=y(()=>`${i.urlPrefix}${i.apiUrl}${A.list}`),h=C({}),b=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u540D\u79F0",field:"title"},{title:"\u6240\u6709\u8005",width:150,field:"user.nick_name"},{title:"\u521B\u5EFA\u65F6\u95F4",width:160,field:"created_at",formatter(l){return T(l.getData().created_at,"YY-MM-DD HH:mm")}},{title:"\u64CD\u4F5C",field:"action",width:120,formatter(l){return l.getData().status===0?U('<a class="flex items-center" href="javascript:;">\u67E5\u770B</a>')[0]:""}}],e=B({rangePicker:"",name:"",status:0,startTime:"",endTime:""}),m=Y(),c=()=>{e.startTime=p(e.rangePicker)[0],e.endTime=p(e.rangePicker)[0],m.value.reload(!0)};return(l,t)=>{const u=r("h-form-item"),g=r("Litepicker"),w=r("h-form"),x=V,D=r("h-card");return F(),E(D,{bordered:!1,title:"\u5E94\u7528\u7BA1\u7406"},{default:a(()=>[o(x,{ref_key:"tableRef",ref:m,columns:b,ajaxUrl:d(_),config:d(h),queryParam:e},{search:a(()=>[o(w,{layout:"inline"},{default:a(()=>[o(u,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:a(()=>[f(n("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.name=s),type:"text",class:"mt-2 form-control sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[M,e.name]])]),_:1}),o(u,{label:"\u72B6\u6001",content:"",layout:"inline"},{default:a(()=>[f(n("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.status=s),class:"w-full mt-2 form-select sm:mt-0 sm:w-auto",onChange:c},S,544),[[P,e.status]])]),_:1}),o(u,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:a(()=>[o(g,{modelValue:e.rangePicker,"onUpdate:modelValue":t[2]||(t[2]=s=>e.rangePicker=s),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"mt-2 form-control sm:mt-0 sm:w-56 2xl:w-full"},null,8,["modelValue"])]),_:1}),n("div",{class:"mt-2 xl:mt-0"},[n("button",{type:"button",class:"w-full btn btn-primary sm:w-16",onClick:c}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1})}}});export{q as default};
