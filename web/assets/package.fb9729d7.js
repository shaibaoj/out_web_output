import{h as G,Y as H,j as M,o as ka,k as ha,t as va,a8 as Ca,v as Z,a as h,b as J,w as n,l as u,p as e,x as b,y as k,u as F,c as E,e as N,n as I,m as R,a9 as Ea,q as D,aa as xa,s as _,ab as Ua,D as W,Z as ya,C as Y,F as Ba,ac as wa,$ as $a,d as v,ad as Aa,ae as Da,a1 as Fa,G as Pa,af as Va,K as ga,ag as ja}from"./index.19049599.js";import{p as ba}from"./pick.cfc4a81b.js";const Ma={class:"w-24 mb-2 mr-1 btn btn-primary"},Sa={key:0},qa={key:1},Oa=["href"],La={class:"w-24 mb-2 mr-1 btn btn-primary"},Ia={key:0},Ta={key:1},za=["href"],Ra=G({__name:"data",setup(K,{expose:A}){const q=H().uploadUrl,r=M({ios_mobileprovision:"",ios_p12:"",ios_app_id:"",ios_password:"",android_url:"",ios_url:""}),c={},t=M({visible:!1,confirmLoading:!1,uploading:!0,android:{android_package_name:"",keystore_md5:"",md5:"",sha1:"",sha256:""},ios:{iosMobileprovision:"",iosP12:"",ios_mobileprovision:""}});ka(()=>{x()});const o=ha(c,va(r)),x=()=>{C()},C=()=>{Ca({}).then(s=>{s.data.app&&Z(()=>{var m,d,g,y,B,l,a,i;Object.assign(r,ba((m=s.data)==null?void 0:m.app,["ios_app_id","ios_mobileprovision","ios_p12","ios_password"])),t.ios.iosMobileprovision=(d=s.data.app)==null?void 0:d.ios_mobileprovision,t.ios.iosP12=(g=s.data.app)==null?void 0:g.ios_p12,t.android.android_package_name=(y=s.data.app)==null?void 0:y.android_package_name,t.android.keystore_md5=(B=s.data.app)==null?void 0:B.keystore_md5,t.android.md5=(l=s.data.app)==null?void 0:l.md5,t.android.sha1=(a=s.data.app)==null?void 0:a.sha1,t.android.sha256=(i=s.data.app)==null?void 0:i.sha256}),s.data.app_detail&&Z(()=>{Object.assign(r,ba(s.data.app_detail,["android_url","ios_url"]))})})},P=s=>{if(s.preventDefault(),o.value.$touch(),o.value.$invalid)o.value.$errors;else{const m=F(r);Ea(m).then(d=>{const{code:g}=d||{};g===0?D.success("\u4FDD\u5B58\u6210\u529F"):D.error(d.message)}),xa(m).then(d=>{const{code:g}=d||{};g===0?D.success("\u4FDD\u5B58\u6210\u529F"):D.error(d.message)})}},V=s=>{Object.assign(r,{ios_mobileprovision:s.data.item.img}),t.ios.iosMobileprovision=s.data.item.img},O=s=>{Object.assign(r,{ios_p12:s.data.item.img}),t.ios.iosP12=s.data.item.img},f=()=>{t.visible=!1};return A({edit:()=>{t.visible=!0}}),(s,m)=>{const d=_("h-form-item"),g=_("UploadIcon"),y=_("h-upload"),B=_("h-form"),l=_("h-drawer");return h(),J(l,{title:"\u6253\u5305\u914D\u7F6E",visible:t.visible,"confirm-loading":t.confirmLoading,onCancel:f},{footer:n(()=>[u("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:P},"\u4FDD\u5B58")]),default:n(()=>[e(B,{layout:"small"},{default:n(()=>[e(d,{label:"AppID",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":m[0]||(m[0]=a=>r.ios_app_id=a),placeholder:"\u6CE8:bundle id"},null,512),[[k,r.ios_app_id]])]),_:1}),e(d,{label:"\u8BC1\u4E66\u5BC6\u7801",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":m[1]||(m[1]=a=>r.ios_password=a),placeholder:"\u8BC1\u4E66\u5BC6\u7801"},null,512),[[k,r.ios_password]])]),_:1}),e(d,{label:"profile\u6587\u4EF6",content:"",layout:"small"},{default:n(()=>[b(u("input",{"onUpdate:modelValue":m[2]||(m[2]=a=>r.ios_mobileprovision=a),type:"hidden"},null,512),[[k,r.ios_mobileprovision]]),e(y,{name:"file",multiple:!0,action:F(q),fileType:[".mobileprovision",".p12"],onChange:V},{default:n(()=>[u("button",Ma,[e(g,{class:"block mx-auto"}),t.ios.iosMobileprovision?(h(),E("span",Sa,"\u66FF\u6362")):(h(),E("span",qa,"\u4E0A\u4F20"))])]),_:1},8,["action","fileType"]),t.ios.iosMobileprovision?(h(),E("a",{key:0,target:"_blank",href:t.ios.iosMobileprovision},"\u4E0B\u8F7D",8,Oa)):N("",!0)]),_:1}),e(d,{label:"\u79C1\u94A5\u8BC1\u4E66",content:"",layout:"small"},{default:n(()=>[b(u("input",{"onUpdate:modelValue":m[3]||(m[3]=a=>r.ios_p12=a),type:"hidden"},null,512),[[k,r.ios_p12]]),e(y,{name:"file",multiple:!0,action:F(q),fileType:[".mobileprovision",".p12"],onChange:O},{default:n(()=>[u("button",La,[e(g,{class:"block mx-auto"}),t.ios.iosP12?(h(),E("span",Ia,"\u66FF\u6362")):(h(),E("span",Ta,"\u4E0A\u4F20"))])]),_:1},8,["action","fileType"]),t.ios.iosP12?(h(),E("a",{key:0,target:"_blank",href:t.ios.iosP12},"\u4E0B\u8F7D",8,za)):N("",!0)]),_:1}),e(d,{label:"\u5B89\u5353\u5305\u540D",content:"",layout:"small"},{default:n(()=>[I(R(t.android.android_package_name),1)]),_:1}),e(d,{label:"\u5E94\u7528\u7B7E\u540D",content:"",layout:"small"},{default:n(()=>[I(R(t.android.keystore_md5),1)]),_:1}),e(d,{label:"md5",content:"",layout:"small"},{default:n(()=>[I(R(t.android.md5),1)]),_:1}),e(d,{label:"sha1",content:"",layout:"small"},{default:n(()=>[I(R(t.android.sha1),1)]),_:1}),e(d,{label:"sha256",content:"",layout:"small"},{default:n(()=>[I(R(t.android.sha256),1)]),_:1})]),_:1}),e(B,{layout:"small"},{default:n(()=>[e(d,{label:"\u5B89\u5353\u7248\u672C\u4E0B\u8F7D\u5730\u5740",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":m[4]||(m[4]=a=>r.android_url=a),placeholder:"\u53EF\u4EE5\u5728\u6253\u5305\u5217\u8868\u9009\u7248\uFF0C\u6216\u8005\u586B\u5199\u7C7B\u4F3C\u5E94\u7528\u5B9D\u4E0A\u67B6\u540E\u7684\u5730\u5740"},null,512),[[k,r.android_url]])]),_:1}),e(d,{label:"\u82F9\u679C\u7248\u672C\u4E0B\u8F7D\u5730\u5740",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":m[5]||(m[5]=a=>r.ios_url=a),placeholder:"\u4E0A\u67B6\u6210\u529F\u540E\uFF0C\u5C06\u5730\u5740\u586B\u5199\u5230\u8FD9\u91CC"},null,512),[[k,r.ios_url]])]),_:1})]),_:1})]),_:1},8,["visible","confirm-loading"])}}}),Ya={class:"w-32 mt-1 mb-2 mr-2 btn btn-outline-success btn-sm"},Na=G({__name:"log",emits:["ok"],setup(K,{expose:A,emit:S}){const r=H().uploadUrl,c=M({app_name:"",files_md5:"",file_size:"",package_name:"",version_code:"",version_name:"",url:""}),t={},o=M({visible:!1,confirmLoading:!1}),x=()=>{o.visible=!1},C=ha(t,va(c)),P=()=>{o.visible=!0,Z(()=>{Object.assign(c,{app_name:"",files_md5:"",file_size:"",package_name:"",version_code:"",version_name:"",url:""})})},V=f=>{if(o.confirmLoading=!0,C.value.$touch(),C.value.$invalid)C.value.$errors,o.confirmLoading=!1;else{const p=F(c);Ua(Object.assign(p,{task:f})).then(s=>{s.code===0&&(D.success("\u63D0\u4EA4\u6210\u529F"),S("ok",p),o.visible=!1),o.confirmLoading=!1})}},O=f=>{Object.assign(c,{url:f.data.item.img,version_code:f.data.item.version_code,version_name:f.data.item.version_name,package_name:f.data.item.package_name,app_name:f.data.item.app_name,files_md5:f.data.item.files_md5,file_size:f.data.item.file_size})};return A({edit:P}),(f,p)=>{const s=_("h-form-item"),m=_("UploadIcon"),d=_("h-upload"),g=_("h-form"),y=_("h-spin"),B=_("LoadingIcon"),l=_("h-modal");return h(),J(l,{title:"\u4E0A\u4F20\u53D1\u5E03\u5305",visible:o.visible,"confirm-loading":o.confirmLoading,onCancel:x},{footer:n(()=>[u("button",{class:"w-24 mb-2 mr-1 btn btn-primary",onClick:p[7]||(p[7]=a=>V(0))},[I(" \u4FDD\u5B58 "),o.confirmLoading?(h(),J(B,{key:0,icon:"oval",color:"white",class:"w-4 h-4 ml-2"})):N("",!0)])]),default:n(()=>[e(y,{spinning:o.confirmLoading},{default:n(()=>[e(g,{layout:"small"},{default:n(()=>[b(u("input",{"onUpdate:modelValue":p[0]||(p[0]=a=>c.app_name=a),type:"hidden"},null,512),[[k,c.app_name]]),b(u("input",{"onUpdate:modelValue":p[1]||(p[1]=a=>c.files_md5=a),type:"hidden"},null,512),[[k,c.files_md5]]),b(u("input",{"onUpdate:modelValue":p[2]||(p[2]=a=>c.file_size=a),type:"hidden"},null,512),[[k,c.file_size]]),e(s,{label:"\u5305\u540D",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":p[3]||(p[3]=a=>c.package_name=a),placeholder:""},null,512),[[k,c.package_name]])]),_:1}),e(s,{label:"\u7248\u672C\u7F16\u53F7",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":p[4]||(p[4]=a=>c.version_code=a),placeholder:""},null,512),[[k,c.version_code]])]),_:1}),e(s,{label:"\u7248\u672C",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":p[5]||(p[5]=a=>c.version_name=a),placeholder:""},null,512),[[k,c.version_name]])]),_:1}),e(s,{label:"\u6587\u4EF6\u5305",content:"",layout:"small"},{default:n(()=>[b(u("input",{type:"text",class:"form-control","onUpdate:modelValue":p[6]||(p[6]=a=>c.url=a),placeholder:"\u5B89\u5353\u5305\u7684\u4E0B\u8F7D\u5730\u5740"},null,512),[[k,c.url]]),e(d,{name:"file",multiple:!0,data:{action:"apk"},action:F(r),onChange:O},{default:n(()=>[u("button",Ya,[e(m,{class:"w-4 h-4 mr-2"}),I("\u4E0A\u4F20 ")])]),_:1},8,["action"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["visible","confirm-loading"])}}}),Wa=["src"],Ga=G({__name:"log",setup(K,{expose:A}){const S=H(),q=W(()=>`${S.urlPrefix}${S.apiUrl}${wa.getPackageItemsUpdate}`),r=ya({}),c=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u4E0A\u4F20\u65F6\u95F4",field:"created_at",formatter(l){return $a(l.getData().created_at,"YY-MM-DD HH:mm")},width:150},{title:"\u7248\u672C",field:"version_code",formatter(l){return v(`
          <div class="flex items-center">
            <div class="ml-4">
              <div class="whitespace-nowrap mt-0.5">
                ${l.getData().version_code}
              </div>
              <div class="text-slate-500 text-xs whitespace-nowrap mt-0.5">
                ${l.getData().version_name}
              </div>
              <div class="text-slate-500 text-xs whitespace-nowrap mt-0.5">
                ${l.getData().package_name}
              </div>
            </div>
          </div>
          `)[0]},download:!0},{title:" ",field:"url",width:150,formatter(l){if(l.getData().url){const a=v(`<a target="_blank" href="${l.getData().url}">\u4E0B\u8F7D</a>
            <a href="javascript:;">\u626B\u7801\u6D4B\u8BD5</a>`);return v(a).find("a:nth-child(2)").on("click",function(i){O(l.getData())}),a[0]}return""}},{title:" ",field:"",width:150,formatter(l){if(l.getData().url){const a=v('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u5B89\u5353\u626B\u7801\u6B63\u5F0F\u7248</a>');return v(a).on("click",function(i){s(l.getData())}),a[0]}return""}},{title:" ",field:"",width:150,formatter(l){if(l.getData().url&&l.getData().files_md5){const a=v('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u81EA\u52A8\u66F4\u65B0\u7248</a>');return v(a).on("click",function(i){m(l.getData(),"upload")}),a[0]}return""}}],t=M({rangePicker:"",username:""}),o=M({visible:!1,confirmLoading:!1,android_scan:{modal_scan:!1,scan_download_url:""},android:{modal_android_upate:!1,task_id:0,task_type:"",update_content:""}}),x=W(()=>{if(o.android_scan.scan_download_url){const l="http://app.ishops.today/test.html?url="+encodeURIComponent(o.android_scan.scan_download_url);return"https://img.marsnews.work/?w=300&url="+encodeURIComponent(l)}return""}),C=Y(),P=Y(),V=()=>{C.value.reload(!0)},O=l=>{o.android_scan.modal_scan=!0,o.android_scan.scan_download_url=l.url},f=()=>{o.android_scan.modal_scan=!1},p=()=>{o.android_scan.modal_scan=!1},s=l=>{Aa({id:l.id}).then(()=>{D.success("\u914D\u7F6E\u6210\u529F")})},m=(l,a)=>{o.android.modal_android_upate=!0,o.android.task_id=l.id,o.android.task_type=a,o.android.update_content=""},d=()=>{Da({task_id:o.android.task_id,task_type:o.android.task_type,content:o.android.update_content}).then(l=>{const{code:a}=l||{};a===0?D.success("\u4FDD\u5B58\u6210\u529F"):D.error(l.message),o.android.modal_android_upate=!1})},g=()=>{o.android.modal_android_upate=!1},y=()=>{o.visible=!0},B=()=>{o.visible=!1};return A({show:y}),(l,a)=>{const i=_("h-form-item"),U=_("Litepicker"),L=_("h-form"),T=Fa,w=_("h-drawer"),j=_("h-modal"),z=_("ModalFooter");return h(),E(Ba,null,[e(w,{size:"modal-xl",title:"\u5B89\u5353\u5305\u7BA1\u7406",visible:o.visible,"confirm-loading":o.confirmLoading,onCancel:B},{header:n(()=>[u("button",{class:"mr-2 shadow-md btn btn-primary",onClick:a[0]||(a[0]=$=>P.value.edit({}))},"\u4E0A\u4F20\u65B0\u5305 ")]),default:n(()=>[e(T,{ref_key:"tableRef",ref:C,columns:c,ajaxUrl:F(q),config:F(r),queryParam:t},{search:n(()=>[e(L,{layout:"inline"},{default:n(()=>[e(i,{label:"\u7528\u6237\u540D",content:"",layout:"inline"},{default:n(()=>[b(u("input",{"onUpdate:modelValue":a[1]||(a[1]=$=>t.username=$),type:"text",class:"mt-2 form-control sm:mt-0 sm:w-40 2xl:w-full"},null,512),[[k,t.username]])]),_:1}),e(i,{label:"\u521B\u5EFA\u65F6\u95F4",content:"",layout:"inline"},{default:n(()=>[e(U,{modelValue:t.rangePicker,"onUpdate:modelValue":a[2]||(a[2]=$=>t.rangePicker=$),options:{autoApply:!1,singleMode:!1,numberOfColumns:2,numberOfMonths:2,showWeekNumbers:!0,format:"YYYY-MM-DD",dropdowns:{minYear:1990,maxYear:null,months:!0,years:!0}},class:"block w-56 mx-auto form-control"},null,8,["modelValue"])]),_:1}),u("div",{class:"mt-2 xl:mt-0"},[u("button",{type:"button",class:"w-full btn btn-primary sm:w-16",onClick:V}," \u67E5\u8BE2 ")])]),_:1})]),_:1},8,["ajaxUrl","config","queryParam"])]),_:1},8,["visible","confirm-loading"]),e(j,{title:"\u626B\u7801\u6D4B\u8BD5\u7248\u672C",visible:o.android_scan.modal_scan,onOk:f,onCancel:p},{default:n(()=>[u("img",{src:F(x),alt:""},null,8,Wa)]),_:1},8,["visible"]),e(j,{title:"\u8BBE\u7F6E\u7248\u672C\u81EA\u52A8\u5347\u7EA7",visible:o.android.modal_android_upate},{default:n(()=>[b(u("textarea",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=$=>o.android.update_content=$),rows:4,placeholder:"\u7248\u672C\u66F4\u65B0\u8BF4\u660E"},null,512),[[k,o.android.update_content]]),e(z,null,{default:n(()=>[u("button",{type:"button",onClick:g,class:"w-20 mr-1 btn btn-outline-secondary"}," \u53D6\u6D88 "),u("button",{type:"button",class:"w-20 btn btn-primary",onClick:d}," \u786E\u8BA4 ")]),_:1})]),_:1},8,["visible"]),e(Na,{ref_key:"modal",ref:P,onOk:V},null,512)],64)}}}),Ha={class:"flex p-2 py-5 mt-2 box"},Ka={class:"flex flex-col items-center justify-center flex-1 gap-y-2"},Za={class:"flex flex-col items-center justify-center flex-1 gap-y-2"},Ja=["src"],Qa={class:"text-"},Xa={class:"flex flex-col items-center justify-center flex-1 gap-y-2"},at=["src"],ot=G({__name:"package",setup(K){const A=H(),S=W(()=>`${A.urlPrefix}${A.apiUrl}${wa.getPackageItems}`),q=ya({}),r=[{formatter:"responsiveCollapse",width:40,minWidth:30,hozAlign:"center",resizable:!0,headerSort:!1},{title:"\u6253\u5305\u65F6\u95F4",field:"create_time"},{title:"\u7248\u672C",field:"version_name"},{title:"\u5E73\u53F0",field:"client_type",formatter(a){return a.getData().client_type===1?"\u5B89\u5353":"\u82F9\u679C"}},{title:"\u72B6\u6001",field:"status",width:80,formatter(a){return a.getData().status===0?"\u6253\u5305\u4E2D":a.getData().status===1?"\u6210\u529F":"\u5931\u8D25"}},{title:" ",field:"download_url",width:180,formatter(a){if(a.getData().download_url&&a.getData().md5&&a.getData().client_type===1){const i=v('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u5B89\u5353\u626B\u7801\u6B63\u5F0F\u7248</a>');return v(i).on("click",function(U){f(a.getData())}),i[0]}return""}},{title:" ",field:"",width:150,formatter(a){if(a.getData().download_url){const i=v(`
          <a target="_blank" href="${a.getData().download_url}">\u4E0B\u8F7D</a>
          ${a.getData().client_type===1?'<a class="flex items-center action-scan" href="javascript:;">\u626B\u7801\u6D4B\u8BD5</a>':""}
          `);return v(i).find(".action-scan").on("click",function(U){P(a.getData())}),i[0]}return""}},{title:" ",field:"",width:150,formatter(a){if(a.getData().download_url&&a.getData().md5&&a.getData().client_type===1){const i=v('<a class="flex items-center" href="javascript:;">\u8BBE\u4E3A\u81EA\u52A8\u66F4\u65B0\u7248</a>');return v(i).on("click",function(U){p(a.getData(),"")}),i[0]}return""}}],c=M({}),t=M({android_scan:{modal_scan:!1,scan_download_url:""},android:{modal_android_upate:!1,task_id:0,task_type:"",update_content:""},pack:{android:{percent:0,prompt:"",status:-1},ios:{percent:0,prompt:"",status:-1}},qrcode:{debug:"",release:""},packing:{android:!1,ios:!1},download:{ios_url:"",android_url:""},query:!1}),o=W(()=>{if(t.android_scan.scan_download_url){const a="http://app.ishops.today/test.html?url="+encodeURIComponent(t.android_scan.scan_download_url);return"https://img.marsnews.work/?w=300&url="+encodeURIComponent(a)}return""});ka(()=>{C()}),Pa(()=>{t.query=!1});const x=Y(),C=()=>{t.query=!0,d()},P=a=>{t.android_scan.modal_scan=!0,t.android_scan.scan_download_url=a.download_url},V=()=>{t.android_scan.modal_scan=!1},O=()=>{t.android_scan.modal_scan=!1},f=a=>{ja({task_id:a.id}).then(()=>{D.success("\u914D\u7F6E\u6210\u529F")})},p=(a,i)=>{t.android.modal_android_upate=!0,t.android.task_id=a.id,t.android.task_type=i,t.android.update_content=""},s=()=>{Da({task_id:t.android.task_id,task_type:t.android.task_type,content:t.android.update_content}).then(a=>{const{code:i}=a||{};i===0?D.success("\u4FDD\u5B58\u6210\u529F"):D.error(a.message),t.android.modal_android_upate=!1})},m=()=>{t.android.modal_android_upate=!1},d=()=>{!t.query||Va({}).then(a=>{var U,L,T,w,j,z,$,Q,X,aa,ta,ea,oa,na,la,ia,ua,sa,da,ra,ca,pa,ma,_a,fa;let i=!1;a.data.app&&((U=a.data.app)!=null&&U.android&&(t.download.android_url=(T=(L=a.data.app)==null?void 0:L.android)==null?void 0:T.download_url,t.pack.android.percent=(j=(w=a.data.app)==null?void 0:w.android)==null?void 0:j.percent,($=(z=a.data.app)==null?void 0:z.android)!=null&&$.prompt&&(t.pack.android.prompt=(X=(Q=a.data.app)==null?void 0:Q.android)==null?void 0:X.prompt),t.pack.android.status=(ta=(aa=a.data.app)==null?void 0:aa.android)==null?void 0:ta.status,((ea=a.data.app)==null?void 0:ea.android.status)===0?t.packing.android=!0:(t.packing.android===!0&&(i=!0),t.packing.android=!1)),(oa=a.data.app)!=null&&oa.ios&&(t.download.ios_url=(la=(na=a.data.app)==null?void 0:na.ios)==null?void 0:la.download_url,t.pack.ios.percent=(ua=(ia=a.data.app)==null?void 0:ia.ios)==null?void 0:ua.percent,(da=(sa=a.data.app)==null?void 0:sa.ios)!=null&&da.prompt&&(t.pack.ios.prompt=(ca=(ra=a.data.app)==null?void 0:ra.ios)==null?void 0:ca.prompt),t.pack.ios.status=(ma=(pa=a.data.app)==null?void 0:pa.ios)==null?void 0:ma.status,((fa=(_a=a.data.app)==null?void 0:_a.ios)==null?void 0:fa.status)===0?t.packing.ios=!0:(t.packing.ios===!0&&(i=!0),t.packing.ios=!1))),a.data.qrcode&&(t.qrcode.debug=a.data.qrcode.debug,t.qrcode.release=a.data.qrcode.release),t.packing.android||t.packing.ios?setTimeout(()=>{d()},5e3):i&&x.value.reload(!0)})},g=a=>{},y=()=>{x.value.reload(!0)},B=Y(),l=Y();return(a,i)=>{const U=Fa,L=_("h-modal"),T=_("h-card");return h(),E(Ba,null,[e(T,{title:"\u6253\u5305\u7BA1\u7406",bordered:!1},{header:n(()=>[u("button",{class:"mr-2 shadow-md btn btn-primary",onClick:i[0]||(i[0]=w=>B.value.edit({}))},"\u6253\u5305\u914D\u7F6E "),u("button",{class:"mr-2 shadow-md btn btn-primary",onClick:i[1]||(i[1]=w=>l.value.show({}))},"\u5B89\u5353\u5305\u7BA1\u7406 ")]),extra:n(()=>{var w,j;return[u("div",Ha,[u("div",Ka,[e(ga,{height:120}),((j=(w=t.pack)==null?void 0:w.android)==null?void 0:j.status)!=0?(h(),E("button",{key:0,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-success",onClick:i[2]||(i[2]=z=>g())}," \u5B89\u5353\u6253\u5305 ")):N("",!0)]),u("div",Za,[u("img",{src:t.qrcode.release,alt:"",class:"w-24 h-24"},null,8,Ja),u("div",Qa," \u6B64\u4E3A\u6B63\u5F0F\u7248\u672C\u4E8C\u7EF4\u7801\uFF0C\u6D4B\u8BD5\u8BF7\u70B9\u5BF9\u5E94\u884C\u626B\u7801\u6D4B\u8BD5 "+R(t.pack.android.prompt),1)]),u("div",Xa,[e(ga,{height:120}),t.pack.ios.status!=0?(h(),E("button",{key:0,class:"inline-block w-24 mb-2 mr-1 btn btn-outline-success",onClick:i[3]||(i[3]=z=>g())}," \u82F9\u679C\u6253\u5305 ")):N("",!0)])])]}),default:n(()=>[e(U,{ref_key:"tableRef",ref:x,columns:r,ajaxUrl:F(S),config:F(q),queryParam:c},null,8,["ajaxUrl","config","queryParam"]),e(L,{title:"\u626B\u7801\u6D4B\u8BD5\u7248\u672C",visible:t.android_scan.modal_scan,onOk:V,onCancel:O},{default:n(()=>[u("img",{src:F(o),alt:""},null,8,at)]),_:1},8,["visible"]),e(L,{title:"\u8BBE\u7F6E\u7248\u672C\u81EA\u52A8\u5347\u7EA7",visible:t.android.modal_android_upate,onOk:s,onCancel:m},{default:n(()=>[b(u("textarea",{class:"form-control","onUpdate:modelValue":i[4]||(i[4]=w=>t.android.update_content=w),rows:4,placeholder:"\u7248\u672C\u66F4\u65B0\u8BF4\u660E"},null,512),[[k,t.android.update_content]])]),_:1},8,["visible"])]),_:1}),e(Ra,{ref_key:"dataModal",ref:B,onOk:y},null,512),e(Ga,{ref_key:"logModal",ref:l,onOk:y},null,512)],64)}}});export{ot as default};
